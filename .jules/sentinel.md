## 2025-05-27 - [XSS in Chart Component]
**Vulnerability:** Found a Cross-Site Scripting (XSS) and CSS Injection vulnerability in `ui/src/components/ui/chart.tsx`. The `ChartStyle` component used `dangerouslySetInnerHTML` to construct a `<style>` block using values from the `config` prop without sanitization. If `config` contained user-controlled data (e.g. custom color themes), an attacker could inject malicious CSS or close the style tag to inject scripts.
**Learning:** Shared UI components (like those from shadcn/ui) often assume trusted input. When these components are adapted or used in contexts where configuration might come from dynamic sources (e.g. user preferences, API responses), they become security risks. Using `dangerouslySetInnerHTML` for CSS generation is a known pattern but requires strict sanitization of interpolated values.
**Prevention:** Always sanitize values interpolated into `dangerouslySetInnerHTML`, especially when generating CSS or HTML. For CSS variables, ensure values do not contain characters that can break the syntax (`{`, `}`, `;`, `<`).

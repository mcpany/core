# Copyright 2024 Author(s) of MCP Any
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0

upstream_services:
  - name: airtable
    upstream_authentication:
      bearer_token:
        token:
          plain_text: "${AIRTABLE_API_TOKEN}" # Removed manual 'Bearer ' prefix as bearer_token type should handle it
    http_service:
      address: "https://api.airtable.com"
      tools:
        - name: "list_records"
          call_id: "list_records"
      calls:
        list_records:
          endpoint_path: "/v0/{{baseId}}/{{tableId}}"
          method: "HTTP_METHOD_GET"
          input_schema:
            type: "object"
            properties:
              baseId:
                type: "string"
                description: "The ID of the base."
              tableId:
                type: "string"
                description: "The ID of the table."
          output_schema:
            type: "object"
            properties:
              records:
                type: "array"
                items:
                  type: "object"
                  properties:
                    id:
                      type: "string"
                    createdTime:
                      type: "string"
                    fields:
                      type: "object"

# QA Audit Report
**Date:** 2026-01-11
**Auditor:** Jules (Senior Technical Quality Analyst)

## 1. Executive Summary

A comprehensive documentation audit was performed on a random selection of 5 documents from the `mcpany/core` repository. The audit focused on verifying the accuracy of instructions, configuration settings, and feature claims against the current codebase and project roadmap.

**Summary of Findings:**
- **Documents Audited:** 5
- **Verified Accurate:** 3
- **Required Updates:** 2
- **Code Fixes:** 0

## 2. Methodology

1.  **Environment Cleanup:** Verified hygiene of report directory.
2.  **Selection:** Randomly selected 5 unique documents from `docs/`, `server/docs/`, and `ui/docs/`.
3.  **Verification:** For each document, extracted claims were verified against source code, configuration files, and tests.
4.  **Remediation:** Discrepancies were corrected in the documentation.

## 3. Documents Audited & Verification Results

| Document | Feature | Verification Status | Notes |
| :--- | :--- | :--- | :--- |
| `docs/alerts-feature.md` | Alerts & Incidents | ✅ Verified | Route `/alerts` and components exist. E2E tests (`ui/tests/alerts.spec.ts`) confirm functionality. |
| `server/docs/features/rate-limiting/README.md` | Rate Limiting | ⚠️ Updated | Metric `rate_limit_requests_total` exists but labels were incomplete in doc. Paths to tutorial config were incorrect. |
| `server/docs/features/prompts/README.md` | Prompts | ✅ Verified | Proto definitions and prompt package logic match documentation. |
| `ui/docs/features/dashboard.md` | Dashboard | ✅ Verified | Dashboard route `/` and KPI components verified in `ui/src`. |
| `server/docs/features/webhooks/README.md` | Webhooks | ⚠️ Updated | Instructions referenced incorrect file paths for examples. |

## 4. Detailed Findings & Remediation

### 4.1. Rate Limiting (`server/docs/features/rate-limiting/README.md`)
-   **Discrepancy:** The document listed the metric labels as `service_id, status`. Code analysis reveals an additional label: `limit_type` (indicating scope like `service` or `tool`).
-   **Discrepancy:** The tutorial instructions pointed to `docs/features/rate-limiting/tutorial_config.yaml`, but the file is located at `server/docs/features/rate-limiting/tutorial_config.yaml`.
-   **Action Taken:** Updated the documentation to include the `limit_type` label and corrected the file paths.

### 4.2. Webhooks (`server/docs/features/webhooks/README.md`)
-   **Discrepancy:** The instructions for running examples used paths like `docs/features/webhooks/examples/...`, which are incorrect relative to the repository root. The correct path is `server/docs/features/webhooks/examples/...`.
-   **Action Taken:** Updated the documentation with correct file paths for both `block_rm` and `html_to_md` examples.

### 4.3. Roadmap Alignment
-   **Alerts:** Feature is marked "Implemented" in the roadmap, and code verification confirms this.
-   **Rate Limiting:** "Cost Attribution" and Refactoring are marked as completed in the roadmap. Code analysis of `server/pkg/middleware/ratelimit.go` confirms the implementation of cost metrics (token-based) and strategy pattern usage.
-   **Prompts & Dashboard:** Confirmed as implemented features aligned with the general platform capabilities.

## 5. Security & Hygiene
-   **Sensitive Data:** No API keys, secrets, or PII were found in the audited documents or this report.
-   **Environment:** Old audit reports were checked (none older than 7 days found).

## 6. Conclusion
The codebase is well-aligned with the documentation and roadmap, with minor pathing discrepancies in older documentation files. These have been rectified.

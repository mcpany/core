Cleaning generated protobuf files...
Preparing development environment...
protoc version v33.1 is already installed.
Installing Go protobuf plugins...
Checking for Go protobuf plugins...
Go protobuf plugins installation check complete.
Checking for Python to install dependencies and pre-commit hooks...
CI environment detected, skipping local Python venv setup.
Installing Node.js dependencies for integration tests...
Found package.json, running npm install...

up to date, audited 619 packages in 1s

152 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
Playwright Host validation warning: 
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Host system is missing dependencies to run browsers. â•‘
â•‘ Missing libraries:                                   â•‘
â•‘     libgstreamer-1.0.so.0                            â•‘
â•‘     libgtk-4.so.1                                    â•‘
â•‘     libpangocairo-1.0.so.0                           â•‘
â•‘     libgdk_pixbuf-2.0.so.0                           â•‘
â•‘     libcairo-gobject.so.2                            â•‘
â•‘     libvulkan.so.1                                   â•‘
â•‘     libgraphene-1.0.so.0                             â•‘
â•‘     libicudata.so.76                                 â•‘
â•‘     libicui18n.so.76                                 â•‘
â•‘     libicuuc.so.76                                   â•‘
â•‘     libxslt.so.1                                     â•‘
â•‘     liblcms2.so.2                                    â•‘
â•‘     libwoff2dec.so.1.0.2                             â•‘
â•‘     libvpx.so.9                                      â•‘
â•‘     libevent-2.1.so.7                                â•‘
â•‘     libopus.so.0                                     â•‘
â•‘     libgstallocators-1.0.so.0                        â•‘
â•‘     libgstapp-1.0.so.0                               â•‘
â•‘     libgstbase-1.0.so.0                              â•‘
â•‘     libgstpbutils-1.0.so.0                           â•‘
â•‘     libgstaudio-1.0.so.0                             â•‘
â•‘     libgsttag-1.0.so.0                               â•‘
â•‘     libgstvideo-1.0.so.0                             â•‘
â•‘     libgstgl-1.0.so.0                                â•‘
â•‘     libgstcodecparsers-1.0.so.0                      â•‘
â•‘     libgstfft-1.0.so.0                               â•‘
â•‘     libflite.so.1                                    â•‘
â•‘     libflite_usenglish.so.1                          â•‘
â•‘     libflite_cmu_grapheme_lang.so.1                  â•‘
â•‘     libflite_cmu_grapheme_lex.so.1                   â•‘
â•‘     libflite_cmu_indic_lang.so.1                     â•‘
â•‘     libflite_cmu_indic_lex.so.1                      â•‘
â•‘     libflite_cmulex.so.1                             â•‘
â•‘     libflite_cmu_time_awb.so.1                       â•‘
â•‘     libflite_cmu_us_awb.so.1                         â•‘
â•‘     libflite_cmu_us_kal16.so.1                       â•‘
â•‘     libflite_cmu_us_kal.so.1                         â•‘
â•‘     libflite_cmu_us_rms.so.1                         â•‘
â•‘     libflite_cmu_us_slt.so.1                         â•‘
â•‘     libwebpdemux.so.2                                â•‘
â•‘     libjxl.so.0.11                                   â•‘
â•‘     libavif.so.16                                    â•‘
â•‘     libharfbuzz-icu.so.0                             â•‘
â•‘     libepoxy.so.0                                    â•‘
â•‘     libjpeg.so.62                                    â•‘
â•‘     libwebpmux.so.3                                  â•‘
â•‘     libwebp.so.7                                     â•‘
â•‘     libenchant-2.so.2                                â•‘
â•‘     libsecret-1.so.0                                 â•‘
â•‘     libhyphen.so.0                                   â•‘
â•‘     libwayland-server.so.0                           â•‘
â•‘     libwayland-egl.so.1                              â•‘
â•‘     libwayland-client.so.0                           â•‘
â•‘     libmanette-0.2.so.0                              â•‘
â•‘     libgbm.so.1                                      â•‘
â•‘     libdrm.so.2                                      â•‘
â•‘     libGLESv2.so.2                                   â•‘
â•‘     libx264.so                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    at validateDependenciesLinux (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/dependencies.js:269:9)
    at async Registry._validateHostRequirements (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:961:14)
    at async Registry._validateHostRequirementsForExecutableIfNeeded (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:1083:7)
    at async Registry.validateHostRequirementsForExecutablesIfNeeded (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:1072:7)
    at async i.<anonymous> (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/cli/program.js:217:7)
Checking for Helm...
Helm is already installed.
Checking for ShellCheck...
ShellCheck is already installed.
Checking for nats-server...
nats-server is already installed.
Checking for golangci-lint...
Installing golangci-lint v2.0.0 to /tools...
golangci/golangci-lint info checking GitHub for tag 'v2.0.0'
golangci/golangci-lint info found version: 2.0.0 for v2.0.0/linux/amd64
golangci/golangci-lint info installed /tools/golangci-lint
Downloading go modules...
golangci-lint installed successfully.
Current GOPATH: /tools/go
Setting GOPATH to /tools/go
Downloading go modules...
Preparation complete.
Removing old protobuf files...
Generating protobuf files...
Using protoc: libprotoc 33.1
Protobuf generation complete.
Running all pre-commit hooks...
Requirement already satisfied: pre-commit in /usr/local/lib/python3.11/dist-packages (4.5.0)
Requirement already satisfied: cfgv>=2.0.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (3.5.0)
Requirement already satisfied: identify>=1.0.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (2.6.15)
Requirement already satisfied: nodeenv>=0.11.1 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (1.9.1)
Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (6.0.3)
Requirement already satisfied: virtualenv>=20.10.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (20.35.4)
Requirement already satisfied: distlib<1,>=0.3.7 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (0.4.0)
Requirement already satisfied: filelock<4,>=3.12.2 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (3.20.0)
Requirement already satisfied: platformdirs<5,>=3.9.1 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (4.5.1)
check for added large files..............................................[42mPassed[m
check for case conflicts.................................................[42mPassed[m
check json...............................................................[42mPassed[m
check yaml...............................................................[42mPassed[m
detect private key.......................................................[42mPassed[m
fix end of files.........................................................[42mPassed[m
trim trailing whitespace.................................................[42mPassed[m
golangci-lint............................................................[41mFailed[m
[2m- hook id: golangci-lint[m
[2m- exit code: 1[m

[31mERRO[0m [linters_context] typechecking error: pattern ./...: directory build/env/bin/go/pkg/mod/github.com/!data!dog/datadog-go@v3.2.0+incompatible/statsd outside main module or its selected dependencies 
[1mcmd/worker/main_test.go:70[22m:14: [31mError return value of `syscall.Kill` is not checked[0m (errcheck)
	syscall.Kill(syscall.Getpid(), syscall.SIGINT)
	            [33m^[0m
[1mpkg/app/server.go:481[22m:14: [31mError return value of `fmt.Fprintln` is not checked[0m (errcheck)
	fmt.Fprintln(out, "Health check successful: server is running and healthy.")
	            [33m^[0m
[1mpkg/app/server.go:532[22m:15: [31mError return value of `fmt.Fprintln` is not checked[0m (errcheck)
		fmt.Fprintln(w, "OK")
		            [33m^[0m
[1mpkg/app/server_test.go:139[22m:15: [31mError return value of `writer.Close` is not checked[0m (errcheck)
		writer.Close()
		            [33m^[0m
[1mpkg/app/server_test.go:284[22m:10: [31mError return value of `l.Close` is not checked[0m (errcheck)
		l.Close()
		       [33m^[0m
[1mpkg/app/server_test.go:354[22m:21: [31mError return value of `server.Close` is not checked[0m (errcheck)
		defer server.Close()
		                  [33m^[0m
[1mpkg/app/server_test.go:386[22m:21: [31mError return value of `server.Close` is not checked[0m (errcheck)
		defer server.Close()
		                  [33m^[0m
[1mpkg/app/server_test.go:423[22m:10: [31mError return value of `l.Close` is not checked[0m (errcheck)
		l.Close()
		       [33m^[0m
[1mpkg/app/server_test.go:663[22m:16: [31mError return value of `l.Close` is not checked[0m (errcheck)
		defer l.Close()
		             [33m^[0m
[1mpkg/app/server_test.go:879[22m:11: [31mError return value of `lis.Close` is not checked[0m (errcheck)
	lis.Close()
	         [33m^[0m
[1mpkg/app/server_test.go:913[22m:12: [31mError return value of `lis.Close` is not checked[0m (errcheck)
		lis.Close()
		         [33m^[0m
[1mpkg/app/server_test.go:951[22m:13: [31mError return value of `lis.Close` is not checked[0m (errcheck)
			lis.Close() // Close immediately, we just needed a free port.
			         [33m^[0m
[1mpkg/app/server_test.go:1404[22m:18: [31mError return value of `inW.Close` is not checked[0m (errcheck)
		defer inW.Close()
		               [33m^[0m
[1mpkg/app/server_test.go:1426[22m:12: [31mError return value of `outW.Close` is not checked[0m (errcheck)
	outW.Close()
	          [33m^[0m
[1mpkg/app/server_test.go:1558[22m:22: [31mError return value of `closedListener.Close` is not checked[0m (errcheck)
	closedListener.Close()
	                    [33m^[0m
[1mpkg/bus/redis/redis_bus_test.go:133[22m:28: [31mError return value of `b.Close` is not checked[0m (errcheck)
	t.Cleanup(func() { b.Close() })
	                          [33m^[0m
[1mpkg/pool/pool_test.go:394[22m:15: [31mError return value of `p.Close` is not checked[0m (errcheck)
	defer p.Close()
	             [33m^[0m
[1mpkg/pool/pool_test.go:417[22m:15: [31mError return value of `p.Close` is not checked[0m (errcheck)
	defer p.Close()
	             [33m^[0m
[1mpkg/pool/pool_test.go:433[22m:15: [31mError return value of `p.Close` is not checked[0m (errcheck)
	defer p.Close()
	             [33m^[0m
[1mpkg/tool/http_tool_test.go:109[22m:10: [31mError return value of `w.Write` is not checked[0m (errcheck)
		w.Write([]byte(xmlResponse))
		       [33m^[0m
[1mpkg/tool/webrtc_test.go:299[22m:12: [31mError return value of `pc.Close` is not checked[0m (errcheck)
			pc.Close()
			        [33m^[0m
[1mpkg/tool/websocket_tool_test.go:94[22m:20: [31mError return value of `conn.Close` is not checked[0m (errcheck)
			defer conn.Close()
			                [33m^[0m
[1mpkg/tool/websocket_tool_test.go:106[22m:24: [31mError return value of `resp.Body.Close` is not checked[0m (errcheck)
		defer resp.Body.Close()
		                     [33m^[0m
[1mpkg/tool/websocket_tool_test.go:157[22m:24: [31mError return value of `resp.Body.Close` is not checked[0m (errcheck)
		defer resp.Body.Close()
		                     [33m^[0m
[1mpkg/tool/websocket_tool_test.go:398[22m:61: [31mError return value of `c.Close` is not checked[0m (errcheck)
			putFunc: func(c *client.WebsocketClientWrapper) { c.Close() },
			                                                         [33m^[0m
[1mpkg/upstream/graphql/graphql_test.go:117[22m:28: [31mError return value of `(*encoding/json.Encoder).Encode` is not checked[0m (errcheck)
		json.NewEncoder(w).Encode(response)
		                         [33m^[0m
[1mpkg/upstream/graphql/graphql_test.go:198[22m:28: [31mError return value of `(*encoding/json.Encoder).Encode` is not checked[0m (errcheck)
		json.NewEncoder(w).Encode(response)
		                         [33m^[0m
[1mpkg/upstream/graphql/graphql_test.go:273[22m:28: [31mError return value of `(*encoding/json.Encoder).Encode` is not checked[0m (errcheck)
		json.NewEncoder(w).Encode(response)
		                         [33m^[0m
[1mpkg/upstream/grpc/protobufparser/parser.go:105[22m:20: [31mError return value of `os.RemoveAll` is not checked[0m (errcheck)
	defer os.RemoveAll(tempDir)
	                  [33m^[0m
[1mpkg/upstream/grpc/protobufparser/parser.go:291[22m:18: [31mError return value of `conn.Close` is not checked[0m (errcheck)
	defer conn.Close()
	                [33m^[0m
[1mpkg/upstream/grpc/protobufparser/parser_custom_test.go:36[22m:21: [31mError return value of `os.RemoveAll` is not checked[0m (errcheck)
		defer os.RemoveAll(tempDir)
		                  [33m^[0m
[1mpkg/upstream/grpc/protobufparser/parser_custom_test.go:124[22m:20: [31mError return value of `os.RemoveAll` is not checked[0m (errcheck)
	defer os.RemoveAll(tempDir)
	                  [33m^[0m
[1mpkg/upstream/grpc/protobufparser/parser_extended_test.go:128[22m:12: [31mError return value of `s.Serve` is not checked[0m (errcheck)
	go s.Serve(lis)
	          [33m^[0m
[1mpkg/upstream/mcp/docker_transport.go:124[22m:27: [31mError return value of `stdoutWriter.Close` is not checked[0m (errcheck)
		defer stdoutWriter.Close()
		                        [33m^[0m
[1mpkg/upstream/mcp/docker_transport.go:222[22m:13: [31mError return value of `c.cli.Close` is not checked[0m (errcheck)
	c.cli.Close()
	           [33m^[0m
[1mpkg/upstream/mcp/streamable_http.go:286[22m:16: [31mError return value of `cs.Close` is not checked[0m (errcheck)
	defer cs.Close()
	              [33m^[0m
[1mpkg/upstream/mcp/streamable_http.go:395[22m:16: [31mError return value of `cs.Close` is not checked[0m (errcheck)
	defer cs.Close()
	              [33m^[0m
[1mpkg/upstream/mcp/streamable_http.go:627[22m:16: [31mError return value of `cs.Close` is not checked[0m (errcheck)
	defer cs.Close()
	              [33m^[0m
[1mpkg/upstream/mcp/streamable_http_custom_test.go:160[22m:20: [31mError return value is not checked[0m (errcheck)
		connectForTesting(nil, context.Background(), nil, nil)
		                 [33m^[0m
[1mpkg/upstream/openapi/openapi_test.go:178[22m:13: [31mError return value of `fmt.Fprint` is not checked[0m (errcheck)
		fmt.Fprint(w, sampleOpenAPISpecJSONForCacheTest)
		          [33m^[0m
[1mpkg/upstream/websocket/websocket_pool_test.go:60[22m:19: [31mError return value of `pool.Close` is not checked[0m (errcheck)
		defer pool.Close()
		                [33m^[0m
[1mpkg/upstream/websocket/websocket_pool_test.go:74[22m:19: [31mError return value of `pool.Close` is not checked[0m (errcheck)
		defer pool.Close()
		                [33m^[0m
[1mpkg/upstream/websocket/websocket_pool_test.go:87[22m:19: [31mError return value of `pool.Close` is not checked[0m (errcheck)
		defer pool.Close()
		                [33m^[0m
[1mpkg/util/secrets.go:83[22m:24: [31mError return value of `resp.Body.Close` is not checked[0m (errcheck)
		defer resp.Body.Close()
		                     [33m^[0m
[1mpkg/worker/worker_race_test.go:64[22m:17: [31mError return value of `reqBus.Publish` is not checked[0m (errcheck)
		reqBus.Publish(context.Background(), bus.ToolExecutionRequestTopic, req)
		              [33m^[0m
[1mpkg/worker/worker_test.go:148[22m:21: [31mError return value of `requestBus.Publish` is not checked[0m (errcheck)
		requestBus.Publish(ctx, "request", req)
		                  [33m^[0m
[1mpkg/worker/worker_test.go:185[22m:21: [31mError return value of `requestBus.Publish` is not checked[0m (errcheck)
		requestBus.Publish(ctx, "request", req)
		                  [33m^[0m
[1mpkg/worker/worker_test.go:236[22m:21: [31mError return value of `requestBus.Publish` is not checked[0m (errcheck)
		requestBus.Publish(ctx, "request", req)
		                  [33m^[0m
[1mtests/integration/cmd/mocks/webrtc_weather_server/main.go:167[22m:15: [31mError return value of `fmt.Fprintln` is not checked[0m (errcheck)
		fmt.Fprintln(w, "OK")
		            [33m^[0m
[1mtests/integration/cmd/mocks/websocket_echo_server/main.go:47[22m:18: [31mError return value of `conn.Close` is not checked[0m (errcheck)
	defer conn.Close()
	                [33m^[0m
[1mpkg/upstream/mcp/streamable_http.go:577[22m:1: [31mcyclomatic complexity 36 of func `(*MCPUpstream).createAndRegisterMCPItemsFromStreamableHTTP` is high (> 30)[0m (gocyclo)
func (u *MCPUpstream) createAndRegisterMCPItemsFromStreamableHTTP(
[33m^[0m
[1mpkg/upstream/openapi/parser_test.go:352[22m:1: [31mcyclomatic complexity 37 of func `TestConvertMcpOperationsToTools` is high (> 30)[0m (gocyclo)
func TestConvertMcpOperationsToTools(t *testing.T) {
[33m^[0m
[1mtests/integration/e2e_helpers_test.go:90[22m:11: [31mG204: Subprocess launched with variable[0m (gosec)
	psCmd := exec.Command(dockerExe, append(dockerArgs, "ps", "-f", fmt.Sprintf("name=%s", containerName))...)
	         [33m^[0m
[1mtools/license-header-remover/main_test.go:139[22m:30: [31mG304: Potential file inclusion via variable[0m (gosec)
	subFileContentAfter, err := os.ReadFile(subFilePath)
	                            [33m^[0m
[1mtools/license-header-remover/main_test.go:148[22m:31: [31mG304: Potential file inclusion via variable[0m (gosec)
	pbgoFileContentAfter, err := os.ReadFile(pbgoFilePath)
	                             [33m^[0m
[1mtools/license-header-remover/main_test.go:297[22m:20: [31mG304: Potential file inclusion via variable[0m (gosec)
			content, err := os.ReadFile(tmpFile)
			                [33m^[0m
[1mexamples/demo/stdio/my-tool/main.go:1[22m:1: [31mpackage-comments: should have a package comment[0m (revive)
package main
[33m^[0m
[1mexamples/demo/stdio/my-tool/main.go:10[22m:6: [31mexported: exported type Request should have comment or be unexported[0m (revive)
type Request struct {
     [33m^[0m
[1mexamples/demo/stdio/my-tool/main.go:14[22m:6: [31mexported: exported type Response should have comment or be unexported[0m (revive)
type Response struct {
     [33m^[0m
[1mexamples/upstream_service_demo/webrtc/client/main.go:28[22m:6: [31mexported: exported type Signal should have comment or be unexported[0m (revive)
type Signal struct {
     [33m^[0m
[1mexamples/upstream_service_demo/webrtc/server/main.go:34[22m:6: [31mexported: exported type Signal should have comment or be unexported[0m (revive)
type Signal struct {
     [33m^[0m
[1mpkg/auth/mock.go:26[22m:1: [31mexported: exported method MockUpstreamAuthenticator.Authenticate should have comment or be unexported[0m (revive)
func (m *MockUpstreamAuthenticator) Authenticate(req *http.Request) error {
[33m^[0m
[1mpkg/bus/redis/bus_test.go:672[22m:42: [31munused-parameter: parameter 'msg' seems to be unused, consider removing or renaming it as _[0m (revive)
	unsub := bus.Subscribe(ctx, topic, func(msg string) {
	                                        [33m^[0m
[1mpkg/bus/redis/bus_test.go:708[22m:42: [31munused-parameter: parameter 'msg' seems to be unused, consider removing or renaming it as _[0m (revive)
	unsub := bus.Subscribe(ctx, topic, func(msg string) {
	                                        [33m^[0m
[1mpkg/bus/redis/bus_test.go:789[22m:58: [31munused-parameter: parameter 'msg' seems to be unused, consider removing or renaming it as _[0m (revive)
	unsub = bus.Subscribe(context.Background(), topic, func(msg string) {
	                                                        [33m^[0m
[1mpkg/cli/cli.go:17[22m:1: [31mpackage-comments: should have a package comment[0m (revive)
package cli
[33m^[0m
[1mpkg/config/settings.go:155[22m:1: [31mexported: exported method Settings.LogLevel should have comment or be unexported[0m (revive)
func (s *Settings) LogLevel() v1.GlobalSettings_LogLevel {
[33m^[0m
[1mpkg/config/store_test.go:245[22m:57: [31munused-parameter: parameter 'v' seems to be unused, consider removing or renaming it as _[0m (revive)
func (e *yamlEngine) UnmarshalWithFailingJSON(b []byte, v proto.Message) error {
                                                        [33m^[0m
[1mpkg/middleware/auth_test.go:72[22m:10: [31mcontext-keys-type: should not use basic type untyped string as key in context.WithValue[0m (revive)
		ctx := context.WithValue(context.Background(), "http.request", httpReq) //nolint:staticcheck // de-facto standard
		       [33m^[0m
[1mpkg/pool/pool_test.go:598[22m:31: [31munused-parameter: parameter 't' seems to be unused, consider removing or renaming it as _[0m (revive)
func TestPool_ConcurrentClose(t *testing.T) {
                              [33m^[0m
[1mpkg/pool/pool_test.go:818[22m:11: [31munused-parameter: parameter 'i' seems to be unused, consider removing or renaming it as _[0m (revive)
		go func(i int) {
		        [33m^[0m
[1mpkg/prompt/types.go:30[22m:5: [31mexported: exported var ErrPromptNotFound should have comment or be unexported[0m (revive)
var ErrPromptNotFound = errors.New("prompt not found")
    [33m^[0m
[1mpkg/service/resilience_test.go:75[22m:18: [31munused-parameter: parameter 'ctx' seems to be unused, consider removing or renaming it as _[0m (revive)
	invoker := func(ctx context.Context, _ string, _, _ interface{}, _ *grpc.ClientConn, _ ...grpc.CallOption) error {
	                [33m^[0m
[1mpkg/service/resilience_test.go:97[22m:18: [31munused-parameter: parameter 'ctx' seems to be unused, consider removing or renaming it as _[0m (revive)
	invoker := func(ctx context.Context, _ string, _, _ interface{}, _ *grpc.ClientConn, _ ...grpc.CallOption) error {
	                [33m^[0m
[1mpkg/service/resilience_test.go:116[22m:18: [31munused-parameter: parameter 'ctx' seems to be unused, consider removing or renaming it as _[0m (revive)
	invoker := func(ctx context.Context, _ string, _, _ interface{}, _ *grpc.ClientConn, _ ...grpc.CallOption) error {
	                [33m^[0m
[1mpkg/serviceregistry/registry.go:36[22m:6: [31mexported: type name will be used as serviceregistry.ServiceRegistryInterface by other packages, and that stutters; consider calling this Interface[0m (revive)
type ServiceRegistryInterface interface {
     [33m^[0m
[1mpkg/serviceregistry/registry_test.go:64[22m:35: [31munused-parameter: parameter 'config' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *mockFactory) NewUpstream(config *configv1.UpstreamServiceConfig) (upstream.Upstream, error) {
                                  [33m^[0m
[1mpkg/serviceregistry/registry_test.go:76[22m:48: [31munused-parameter: parameter 'serviceID' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *mockToolManager) ClearToolsForService(serviceID string)         {}
                                               [33m^[0m
[1mpkg/serviceregistry/registry_test.go:196[22m:24: [31munused-parameter: parameter 'serviceName' seems to be unused, consider removing or renaming it as _[0m (revive)
				registerFunc: func(serviceName string) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {
				                   [33m^[0m
[1mpkg/tool/webrtc_test.go:342[22m:25: [31munused-parameter: parameter 'd' seems to be unused, consider removing or renaming it as _[0m (revive)
		pc.OnDataChannel(func(d *webrtc.DataChannel) {
		                      [33m^[0m
[1mpkg/update/updater_test.go:44[22m:81: [31munused-parameter: parameter 'r' seems to be unused, consider removing or renaming it as _[0m (revive)
	assetServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	                                                                               [33m^[0m
[1mpkg/update/updater_test.go:49[22m:85: [31munused-parameter: parameter 'r' seems to be unused, consider removing or renaming it as _[0m (revive)
	checksumsServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	                                                                                   [33m^[0m
[1mpkg/update/updater_test.go:144[22m:90: [31munused-parameter: parameter 'r' seems to be unused, consider removing or renaming it as _[0m (revive)
			badChecksumsServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
			                                                                                      [33m^[0m
[1mpkg/upstream/grpc/grpc_test.go:101[22m:40: [31munused-parameter: parameter 'provider' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) SetMCPServer(provider tool.MCPServerProvider) {}
                                       [33m^[0m
[1mpkg/upstream/grpc/grpc_test.go:120[22m:41: [31munused-parameter: parameter 'middleware' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {
                                        [33m^[0m
[1mpkg/upstream/http/http_pool.go:33[22m:1: [31mexported: comment on exported var NewHTTPPool should be of the form "NewHTTPPool ..."[0m (revive)
// NewHttpPool creates a new connection pool for HTTP clients. It is defined as
[33m^[0m
[1mpkg/upstream/http/http_test.go:729[22m:40: [31munused-parameter: parameter 'mcpServer' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *mockToolManager) SetMCPServer(mcpServer tool.MCPServerProvider) {}
                                       [33m^[0m
[1mpkg/upstream/openapi/openapi.go:47[22m:6: [31mexported: type name will be used as openapi.OpenAPIUpstream by other packages, and that stutters; consider calling this Upstream[0m (revive)
type OpenAPIUpstream struct {
     [33m^[0m
[1mpkg/upstream/openapi/openapi_test.go:88[22m:41: [31munused-parameter: parameter 'middleware' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {
                                        [33m^[0m
[1mpkg/upstream/openapi/openapi_test.go:401[22m:2: [31mvar-naming: var userIdProp should be userIDProp[0m (revive)
	userIdProp := properties["userId"].GetStructValue().GetFields()
	[33m^[0m
[1mpkg/upstream/openapi/parser.go:539[22m:11: [31mindent-error-flow: if block ends with a return statement, so drop this else and outdent its block (move short variable declaration to its own line if necessary)[0m (revive)
			} else {
				return nil, fmt.Errorf("could not resolve schema reference: %s", sr.Ref)
			}
[1mpkg/upstream/openapi/parser_test.go:38[22m:2: [31mvar-naming: const opShowPetById should be opShowPetByID[0m (revive)
	opShowPetById      = "showPetById"
	[33m^[0m
[1mpkg/upstream/webrtc/webrtc_test.go:434[22m:37: [31munused-parameter: parameter 'name' seems to be unused, consider removing or renaming it as _[0m (revive)
		upstream.toolNameSanitizer = func(name string) (string, error) {
		                                  [33m^[0m
[1mpkg/upstream/websocket/websocket_test.go:49[22m:25: [31munused-parameter: parameter 'bus' seems to be unused, consider removing or renaming it as _[0m (revive)
func NewMockToolManager(bus *bus.Provider) *MockToolManager {
                        [33m^[0m
[1mpkg/upstream/websocket/websocket_test.go:94[22m:40: [31munused-parameter: parameter 'provider' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) SetMCPServer(provider tool.MCPServerProvider) {}
                                       [33m^[0m
[1mpkg/upstream/websocket/websocket_test.go:96[22m:42: [31munused-parameter: parameter 'serviceID' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) AddServiceInfo(serviceID string, info *tool.ServiceInfo) {}
                                         [33m^[0m
[1mpkg/upstream/websocket/websocket_test.go:98[22m:42: [31munused-parameter: parameter 'serviceID' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) GetServiceInfo(serviceID string) (*tool.ServiceInfo, bool) {
                                         [33m^[0m
[1mpkg/upstream/websocket/websocket_test.go:106[22m:41: [31munused-parameter: parameter 'middleware' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {
                                        [33m^[0m
[1mpkg/upstream/websocket/websocket_test.go:547[22m:53: [31munused-parameter: parameter 'w' seems to be unused, consider removing or renaming it as _[0m (revive)
	server := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	                                                   [33m^[0m
[1mpkg/worker/worker_test.go:91[22m:35: [31munused-parameter: parameter 'tool' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *mockToolManager) AddTool(tool tool.Tool) error {
                                  [33m^[0m
[1mpkg/worker/worker_test.go:95[22m:35: [31munused-parameter: parameter 'toolName' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *mockToolManager) GetTool(toolName string) (tool.Tool, bool) {
                                  [33m^[0m
[1mpkg/worker/worker_test.go:106[22m:40: [31munused-parameter: parameter 'mcpServer' seems to be unused, consider removing or renaming it as _[0m (revive)
func (m *mockToolManager) SetMCPServer(mcpServer tool.MCPServerProvider) {
                                       [33m^[0m
[1mpkg/worker/worker_test.go:208[22m:44: [31munused-parameter: parameter 'serviceConfig' seems to be unused, consider removing or renaming it as _[0m (revive)
			registerFunc: func(ctx context.Context, serviceConfig *configv1.UpstreamServiceConfig) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {
			                                        [33m^[0m
[1mpkg/worker/worker_test.go:475[22m:24: [31munused-parameter: parameter 'p' seems to be unused, consider removing or renaming it as _[0m (revive)
	bus.GetBusHook = func(p *bus.Provider, topic string) any {
	                      [33m^[0m
[1mpkg/worker/worker_test.go:500[22m:53: [31munused-parameter: parameter 'topic' seems to be unused, consider removing or renaming it as _[0m (revive)
	resBusMock.publishFunc = func(ctx context.Context, topic string, msg *bus.ToolExecutionResult) error {
	                                                   [33m^[0m
[1mtools/license-header-remover/main.go:1[22m:1: [31mpackage-comments: should have a package comment[0m (revive)
package main
[33m^[0m
106 issues:
* errcheck: 50
* gocyclo: 2
* gosec: 4
* revive: 50

shellcheck...............................................................[42mPassed[m
helm-lint................................................................[42mPassed[m
markdownlint.............................................................[42mPassed[m
make: *** [Makefile:444: lint] Error 1

make: *** [Makefile:441: lint] Error 2

Cleaning generated protobuf files...
Preparing development environment...
protoc version v33.1 is already installed.
Installing Go protobuf plugins...
Checking for Go protobuf plugins...
Go protobuf plugins installation check complete.
Checking for Python to install dependencies and pre-commit hooks...
CI environment detected, skipping local Python venv setup.
Installing Node.js dependencies for integration tests...
Found package.json, running npm install...

up to date, audited 619 packages in 2s

152 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
Playwright Host validation warning:
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë Host system is missing dependencies to run browsers. ‚ïë
‚ïë Missing libraries:                                   ‚ïë
‚ïë     libgstreamer-1.0.so.0                            ‚ïë
‚ïë     libgtk-4.so.1                                    ‚ïë
‚ïë     libpangocairo-1.0.so.0                           ‚ïë
‚ïë     libgdk_pixbuf-2.0.so.0                           ‚ïë
‚ïë     libcairo-gobject.so.2                            ‚ïë
‚ïë     libvulkan.so.1                                   ‚ïë
‚ïë     libgraphene-1.0.so.0                             ‚ïë
‚ïë     libicudata.so.76                                 ‚ïë
‚ïë     libicui18n.so.76                                 ‚ïë
‚ïë     libicuuc.so.76                                   ‚ïë
‚ïë     libxslt.so.1                                     ‚ïë
‚ïë     liblcms2.so.2                                    ‚ïë
‚ïë     libwoff2dec.so.1.0.2                             ‚ïë
‚ïë     libvpx.so.9                                      ‚ïë
‚ïë     libevent-2.1.so.7                                ‚ïë
‚ïë     libopus.so.0                                     ‚ïë
‚ïë     libgstallocators-1.0.so.0                        ‚ïë
‚ïë     libgstapp-1.0.so.0                               ‚ïë
‚ïë     libgstbase-1.0.so.0                              ‚ïë
‚ïë     libgstpbutils-1.0.so.0                           ‚ïë
‚ïë     libgstaudio-1.0.so.0                             ‚ïë
‚ïë     libgsttag-1.0.so.0                               ‚ïë
‚ïë     libgstvideo-1.0.so.0                             ‚ïë
‚ïë     libgstgl-1.0.so.0                                ‚ïë
‚ïë     libgstcodecparsers-1.0.so.0                      ‚ïë
‚ïë     libgstfft-1.0.so.0                               ‚ïë
‚ïë     libflite.so.1                                    ‚ïë
‚ïë     libflite_usenglish.so.1                          ‚ïë
‚ïë     libflite_cmu_grapheme_lang.so.1                  ‚ïë
‚ïë     libflite_cmu_grapheme_lex.so.1                   ‚ïë
‚ïë     libflite_cmu_indic_lang.so.1                     ‚ïë
‚ïë     libflite_cmu_indic_lex.so.1                      ‚ïë
‚ïë     libflite_cmulex.so.1                             ‚ïë
‚ïë     libflite_cmu_time_awb.so.1                       ‚ïë
‚ïë     libflite_cmu_us_awb.so.1                         ‚ïë
‚ïë     libflite_cmu_us_kal16.so.1                       ‚ïë
‚ïë     libflite_cmu_us_kal.so.1                         ‚ïë
‚ïë     libflite_cmu_us_rms.so.1                         ‚ïë
‚ïë     libflite_cmu_us_slt.so.1                         ‚ïë
‚ïë     libwebpdemux.so.2                                ‚ïë
‚ïë     libjxl.so.0.11                                   ‚ïë
‚ïë     libavif.so.16                                    ‚ïë
‚ïë     libharfbuzz-icu.so.0                             ‚ïë
‚ïë     libepoxy.so.0                                    ‚ïë
‚ïë     libjpeg.so.62                                    ‚ïë
‚ïë     libwebpmux.so.3                                  ‚ïë
‚ïë     libwebp.so.7                                     ‚ïë
‚ïë     libenchant-2.so.2                                ‚ïë
‚ïë     libsecret-1.so.0                                 ‚ïë
‚ïë     libhyphen.so.0                                   ‚ïë
‚ïë     libwayland-server.so.0                           ‚ïë
‚ïë     libwayland-egl.so.1                              ‚ïë
‚ïë     libwayland-client.so.0                           ‚ïë
‚ïë     libmanette-0.2.so.0                              ‚ïë
‚ïë     libgbm.so.1                                      ‚ïë
‚ïë     libdrm.so.2                                      ‚ïë
‚ïë     libGLESv2.so.2                                   ‚ïë
‚ïë     libx264.so                                       ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    at validateDependenciesLinux (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/dependencies.js:269:9)
    at async Registry._validateHostRequirements (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:961:14)
    at async Registry._validateHostRequirementsForExecutableIfNeeded (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:1083:7)
    at async Registry.validateHostRequirementsForExecutablesIfNeeded (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:1072:7)
    at async i.<anonymous> (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/cli/program.js:217:7)
Checking for Helm...
Helm is already installed.
Checking for ShellCheck...
ShellCheck is already installed.
Checking for nats-server...
nats-server is already installed.
Checking for golangci-lint...
Installing golangci-lint v2.0.0 to /tools...
golangci/golangci-lint info checking GitHub for tag 'v2.0.0'
golangci/golangci-lint info found version: 2.0.0 for v2.0.0/linux/amd64
golangci/golangci-lint info installed /tools/golangci-lint
Downloading go modules...
golangci-lint installed successfully.
Current GOPATH: /tools/go
Setting GOPATH to /tools/go
Downloading go modules...
Preparation complete.
Removing old protobuf files...
Generating protobuf files...
Using protoc: libprotoc 33.1
Protobuf generation complete.
Running all pre-commit hooks...
Requirement already satisfied: pre-commit in /usr/local/lib/python3.11/dist-packages (4.5.0)
Requirement already satisfied: cfgv>=2.0.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (3.5.0)
Requirement already satisfied: identify>=1.0.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (2.6.15)
Requirement already satisfied: nodeenv>=0.11.1 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (1.9.1)
Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (6.0.3)
Requirement already satisfied: virtualenv>=20.10.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (20.35.4)
Requirement already satisfied: distlib<1,>=0.3.7 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (0.4.0)
Requirement already satisfied: filelock<4,>=3.12.2 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (3.20.0)
Requirement already satisfied: platformdirs<5,>=3.9.1 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (4.5.1)
check for added large files..............................................[42mPassed[m
check for case conflicts.................................................[42mPassed[m
check json...............................................................[42mPassed[m
check yaml...............................................................[42mPassed[m
detect private key.......................................................[42mPassed[m
fix end of files.........................................................[42mPassed[m
trim trailing whitespace.................................................[42mPassed[m
golangci-lint............................................................[41mFailed[m
[2m- hook id: golangci-lint[m
[2m- exit code: 1[m

[31mERRO[0m [linters_context] typechecking error: pattern ./...: directory build/env/bin/go/pkg/mod/github.com/!data!dog/datadog-go@v3.2.0+incompatible/statsd outside main module or its selected dependencies
[1mtests/integration/deployment_test.go:30[22m:2: [31mcould not import github.com/mcpany/core/tests/integration (-: # github.com/mcpany/core/tests/integration [github.com/mcpany/core/tests/integration.test]
tests/integration/prompt_test.go:79:22: undefined: tool.NewToolManager
tests/integration/prompt_test.go:80:26: undefined: prompt.NewPromptManager
tests/integration/prompt_test.go:81:30: undefined: resource.NewResourceManager
tests/integration/prompt_test.go:82:22: undefined: auth.NewAuthManager
tests/integration/prompts_e2e_test.go:88:22: undefined: tool.NewToolManager
tests/integration/prompts_e2e_test.go:89:26: undefined: prompt.NewPromptManager
tests/integration/prompts_e2e_test.go:90:30: undefined: resource.NewResourceManager
tests/integration/prompts_e2e_test.go:91:22: undefined: auth.NewAuthManager)[0m (typecheck)
	"github.com/mcpany/core/tests/integration"
	[33m^[0m
[1mtests/integration/e2e_helpers.go:1[22m: [31m: # github.com/mcpany/core/tests/integration [github.com/mcpany/core/tests/integration.test]
tests/integration/prompt_test.go:79:22: undefined: tool.NewToolManager
tests/integration/prompt_test.go:80:26: undefined: prompt.NewPromptManager
tests/integration/prompt_test.go:81:30: undefined: resource.NewResourceManager
tests/integration/prompt_test.go:82:22: undefined: auth.NewAuthManager
tests/integration/prompts_e2e_test.go:88:22: undefined: tool.NewToolManager
tests/integration/prompts_e2e_test.go:89:26: undefined: prompt.NewPromptManager
tests/integration/prompts_e2e_test.go:90:30: undefined: resource.NewResourceManager
tests/integration/prompts_e2e_test.go:91:22: undefined: auth.NewAuthManager[0m (typecheck)
/*
2 issues:
* typecheck: 2

shellcheck...............................................................[42mPassed[m
helm-lint................................................................[42mPassed[m
markdownlint.............................................................[42mPassed[m
pre-commit hook(s) made changes.
If you are seeing this message in CI, reproduce locally with: `pre-commit run --all-files`.
To run `pre-commit` as part of git workflow, use `pre-commit install`.
All changes made by hooks:
[1mdiff --git a/cmd/server/main.go b/cmd/server/main.go[m
[1mindex 340543b..7004f29 100644[m
[1m--- a/cmd/server/main.go[m
[1m+++ b/cmd/server/main.go[m
[36m@@ -83,7 +83,7 @@[m [mfunc newRootCmd() *cobra.Command {[m
 [m
 			var logOutput io.Writer = os.Stdout[m
 			if logfile := cfg.LogFile(); logfile != "" {[m
[31m-				f, err := os.OpenFile(logfile, os.O_APPEND|os.O_CREATE|os.O_WRONLY, 0o644)[m
[32m+[m				[32mf, err := os.OpenFile(logfile, os.O_APPEND|os.O_CREATE|os.O_WRONLY, 0o600)[m
 				if err != nil {[m
 					return fmt.Errorf("failed to open logfile: %w", err)[m
 				}[m
[1mdiff --git a/cmd/worker/main.go b/cmd/worker/main.go[m
[1mindex 08807ee..486c844 100644[m
[1m--- a/cmd/worker/main.go[m
[1m+++ b/cmd/worker/main.go[m
[36m@@ -57,7 +57,7 @@[m [mfunc setupWithConfig(busConfig *buspb.MessageBus) (*worker.Worker, error) {[m
 		return nil, fmt.Errorf("config validation failed")[m
 	}[m
 [m
[31m-	busProvider, err := bus.NewBusProvider(busConfig)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(busConfig)[m
 	if err != nil {[m
 		return nil, err[m
 	}[m
[1mdiff --git a/cmd/worker/main_test.go b/cmd/worker/main_test.go[m
[1mindex 41f30d0..83adf58 100644[m
[1m--- a/cmd/worker/main_test.go[m
[1m+++ b/cmd/worker/main_test.go[m
[36m@@ -33,7 +33,7 @@[m [mtype MainTestSuite struct {[m
 [m
 func (s *MainTestSuite) TestSetup_InMemoryBus() {[m
 	// Ensure REDIS_ADDR is not set[m
[31m-	os.Unsetenv("REDIS_ADDR")[m
[32m+[m	[32m_ = os.Unsetenv("REDIS_ADDR")[m
 [m
 	_, err := setup()[m
 	s.NoError(err, "setup() should not return an error when using in-memory bus")[m
[36m@@ -55,7 +55,7 @@[m [mfunc (s *MainTestSuite) TestSetup_InvalidRedisAddress() {[m
 [m
 func (s *MainTestSuite) TestMainLifecycle() {[m
 	// Ensure REDIS_ADDR is not set, so we use the in-memory bus[m
[31m-	os.Unsetenv("REDIS_ADDR")[m
[32m+[m	[32m_ = os.Unsetenv("REDIS_ADDR")[m
 [m
 	mainDone := make(chan struct{})[m
 	go func() {[m
[36m@@ -84,7 +84,7 @@[m [mfunc TestMainTestSuite(t *testing.T) {[m
 [m
 func TestSetup_InMemoryBus(t *testing.T) {[m
 	// Unset REDIS_ADDR to fall back to in-memory bus[m
[31m-	os.Unsetenv("REDIS_ADDR")[m
[32m+[m	[32m_ = os.Unsetenv("REDIS_ADDR")[m
 [m
 	_, err := setup()[m
 	assert.NoError(t, err, "setup() should not return an error when using in-memory bus")[m
[1mdiff --git a/examples/demo/remote-config/mock_server.go b/examples/demo/remote-config/mock_server.go[m
[1mindex 821255e..a3c46c1 100644[m
[1m--- a/examples/demo/remote-config/mock_server.go[m
[1m+++ b/examples/demo/remote-config/mock_server.go[m
[36m@@ -3,6 +3,7 @@[m [mpackage main[m
 import ([m
 	"log"[m
 	"net/http"[m
[32m+[m	[32m"time"[m
 )[m
 [m
 func main() {[m
[36m@@ -11,7 +12,13 @@[m [mfunc main() {[m
 	})[m
 [m
 	log.Println("Starting mock server on :8080")[m
[31m-	if err := http.ListenAndServe(":8080", nil); err != nil {[m
[32m+[m	[32mserver := &http.Server{[m
[32m+[m		[32mAddr:         ":8080",[m
[32m+[m		[32mHandler:      nil,[m
[32m+[m		[32mReadTimeout:  5 * time.Second,[m
[32m+[m		[32mWriteTimeout: 10 * time.Second,[m
[32m+[m	[32m}[m
[32m+[m	[32mif err := server.ListenAndServe(); err != nil {[m
 		log.Fatal(err)[m
 	}[m
 }[m
[1mdiff --git a/examples/upstream_service_demo/http/server/time_server.go b/examples/upstream_service_demo/http/server/time_server.go[m
[1mindex c804b83..fb0046f 100644[m
[1m--- a/examples/upstream_service_demo/http/server/time_server.go[m
[1m+++ b/examples/upstream_service_demo/http/server/time_server.go[m
[36m@@ -53,7 +53,13 @@[m [mfunc main() {[m
 	mux.HandleFunc("/time", timeHandler)[m
 [m
 	log.Printf("Server starting on port %s", port)[m
[31m-	if err := http.ListenAndServe(":"+port, mux); err != nil {[m
[32m+[m	[32mserver := &http.Server{[m
[32m+[m		[32mAddr:         ":" + port,[m
[32m+[m		[32mHandler:      mux,[m
[32m+[m		[32mReadTimeout:  5 * time.Second,[m
[32m+[m		[32mWriteTimeout: 10 * time.Second,[m
[32m+[m	[32m}[m
[32m+[m	[32mif err := server.ListenAndServe(); err != nil {[m
 		log.Fatalf("Server failed to start: %v", err)[m
 	}[m
 }[m
[1mdiff --git a/pkg/app/server.go b/pkg/app/server.go[m
[1mindex 9e016a6..a2c149d 100644[m
[1m--- a/pkg/app/server.go[m
[1m+++ b/pkg/app/server.go[m
[36m@@ -121,9 +121,9 @@[m [mtype Runner interface {[m
 // method that starts the application.[m
 type Application struct {[m
 	runStdioModeFunc func(ctx context.Context, mcpSrv *mcpserver.Server) error[m
[31m-	PromptManager    prompt.PromptManagerInterface[m
[31m-	ToolManager      tool.ToolManagerInterface[m
[31m-	ResourceManager  resource.ResourceManagerInterface[m
[32m+[m	[32mPromptManager    prompt.ManagerInterface[m
[32m+[m	[32mToolManager      tool.ManagerInterface[m
[32m+[m	[32mResourceManager  resource.ManagerInterface[m
 	configFiles      map[string]string[m
 }[m
 [m
[36m@@ -133,12 +133,12 @@[m [mtype Application struct {[m
 //[m
 // Returns a new instance of the Application, ready to be run.[m
 func NewApplication() *Application {[m
[31m-	busProvider, _ := bus.NewBusProvider(nil)[m
[32m+[m	[32mbusProvider, _ := bus.NewProvider(nil)[m
 	return &Application{[m
 		runStdioModeFunc: runStdioMode,[m
[31m-		PromptManager:    prompt.NewPromptManager(),[m
[31m-		ToolManager:      tool.NewToolManager(busProvider),[m
[31m-		ResourceManager:  resource.NewResourceManager(),[m
[32m+[m		[32mPromptManager:    prompt.NewManager(),[m
[32m+[m		[32mToolManager:      tool.NewManager(busProvider),[m
[32m+[m		[32mResourceManager:  resource.NewManager(),[m
 		configFiles:      make(map[string]string),[m
 	}[m
 }[m
[36m@@ -193,16 +193,16 @@[m [mfunc (a *Application) Run([m
 	}[m
 [m
 	busConfig := cfg.GetGlobalSettings().GetMessageBus()[m
[31m-	busProvider, err := bus.NewBusProvider(busConfig)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(busConfig)[m
 	if err != nil {[m
 		return fmt.Errorf("failed to create bus provider: %w", err)[m
 	}[m
 	poolManager := pool.NewManager()[m
 	upstreamFactory := factory.NewUpstreamServiceFactory(poolManager)[m
[31m-	a.ToolManager = tool.NewToolManager(busProvider)[m
[31m-	a.PromptManager = prompt.NewPromptManager()[m
[31m-	a.ResourceManager = resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32ma.ToolManager = tool.NewManager(busProvider)[m
[32m+[m	[32ma.PromptManager = prompt.NewManager()[m
[32m+[m	[32ma.ResourceManager = resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	if cfg.GetGlobalSettings().GetApiKey() != "" {[m
 		authManager.SetAPIKey(cfg.GetGlobalSettings().GetApiKey())[m
 	}[m
[36m@@ -496,7 +496,7 @@[m [mfunc HealthCheckWithContext([m
 func (a *Application) runServerMode([m
 	ctx context.Context,[m
 	mcpSrv *mcpserver.Server,[m
[31m-	bus *bus.BusProvider,[m
[32m+[m	[32mbus *bus.Provider,[m
 	bindAddress, grpcPort string,[m
 	shutdownTimeout time.Duration,[m
 ) error {[m
[1mdiff --git a/pkg/app/server_test.go b/pkg/app/server_test.go[m
[1mindex 0a58710..62c92c0 100644[m
[1m--- a/pkg/app/server_test.go[m
[1m+++ b/pkg/app/server_test.go[m
[36m@@ -578,10 +578,10 @@[m [mfunc TestRun_BusProviderError(t *testing.T) {[m
 	err := afero.WriteFile(fs, "/config.yaml", []byte(""), 0o644)[m
 	require.NoError(t, err)[m
 [m
[31m-	bus.NewBusProviderHook = func(messageBus *bus_pb.MessageBus) (*bus.BusProvider, error) {[m
[32m+[m	[32mbus.NewProviderHook = func(messageBus *bus_pb.MessageBus) (*bus.Provider, error) {[m
 		return nil, fmt.Errorf("injected bus provider error")[m
 	}[m
[31m-	defer func() { bus.NewBusProviderHook = nil }()[m
[32m+[m	[32mdefer func() { bus.NewProviderHook = nil }()[m
 [m
 	ctx, cancel := context.WithTimeout(context.Background(), 100*time.Millisecond)[m
 	defer cancel()[m
[36m@@ -816,15 +816,15 @@[m [mfunc TestRunServerMode_GracefulShutdownOnContextCancel(t *testing.T) {[m
 	ctx, cancel := context.WithCancel(context.Background())[m
 [m
 	// Create dependencies[m
[31m-	busProvider, err := bus.NewBusProvider(nil) // in-memory bus[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(nil) // in-memory bus[m
 	require.NoError(t, err)[m
 [m
 	poolManager := pool.NewManager()[m
 	upstreamFactory := factory.NewUpstreamServiceFactory(poolManager)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New([m
 		upstreamFactory,[m
 		toolManager,[m
[36m@@ -1308,12 +1308,12 @@[m [mfunc TestRunServerMode_ContextCancellation(t *testing.T) {[m
 	ctx, cancel := context.WithCancel(context.Background())[m
 	errChan := make(chan error, 1)[m
 [m
[31m-	busProvider, err := bus.NewBusProvider(nil)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(nil)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(nil, toolManager, promptManager, resourceManager, authManager)[m
 	mcpSrv, err := mcpserver.NewServer([m
 		ctx,[m
[36m@@ -1385,12 +1385,12 @@[m [mfunc Test_runStdioMode_real(t *testing.T) {[m
 	ctx, cancel := context.WithCancel(context.Background())[m
 	defer cancel()[m
 [m
[31m-	busProvider, err := bus.NewBusProvider(nil)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(nil)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(nil, toolManager, promptManager, resourceManager, authManager)[m
 	mcpSrv, err := mcpserver.NewServer(ctx, toolManager, promptManager, resourceManager, authManager, serviceRegistry, busProvider, false)[m
 	require.NoError(t, err)[m
[36m@@ -1653,7 +1653,7 @@[m [mupstream_services:[m
 [m
 	// Create a mock bus and set the hook.[m
 	mockRegBus := newMockBus[*bus.ServiceRegistrationRequest]()[m
[31m-	bus.GetBusHook = func(p *bus.BusProvider, topic string) any {[m
[32m+[m	[32mbus.GetBusHook = func(p *bus.Provider, topic string) any {[m
 		if topic == "service_registration_requests" {[m
 			return mockRegBus[m
 		}[m
[36m@@ -1710,7 +1710,7 @@[m [mupstream_services:[m
 	require.NoError(t, err)[m
 [m
 	mockRegBus := newMockBus[*bus.ServiceRegistrationRequest]()[m
[31m-	bus.GetBusHook = func(p *bus.BusProvider, topic string) any {[m
[32m+[m	[32mbus.GetBusHook = func(p *bus.Provider, topic string) any {[m
 		if topic == "service_registration_requests" {[m
 			return mockRegBus[m
 		}[m
[1mdiff --git a/pkg/auth/auth.go b/pkg/auth/auth.go[m
[1mindex 63f8b58..68c76d8 100644[m
[1m--- a/pkg/auth/auth.go[m
[1m+++ b/pkg/auth/auth.go[m
[36m@@ -87,7 +87,7 @@[m [mfunc (a *APIKeyAuthenticator) Authenticate(ctx context.Context, r *http.Request)[m
 // delegates the authentication of requests to the appropriate authenticator.[m
 // This allows for different authentication strategies to be used for different[m
 // services.[m
[31m-type AuthManager struct {[m
[32m+[m[32mtype Manager struct {[m
 	authenticators *xsync.Map[string, Authenticator][m
 	apiKey         string[m
 }[m
[36m@@ -95,14 +95,14 @@[m [mtype AuthManager struct {[m
 // NewAuthManager creates and initializes a new AuthManager with an empty[m
 // authenticator registry. This manager can then be used to register and manage[m
 // authenticators for various services.[m
[31m-func NewAuthManager() *AuthManager {[m
[31m-	return &AuthManager{[m
[32m+[m[32mfunc NewManager() *Manager {[m
[32m+[m	[32mreturn &Manager{[m
 		authenticators: xsync.NewMap[string, Authenticator](),[m
 	}[m
 }[m
 [m
 // SetAPIKey sets the global API key for the server.[m
[31m-func (am *AuthManager) SetAPIKey(apiKey string) {[m
[32m+[m[32mfunc (am *Manager) SetAPIKey(apiKey string) {[m
 	am.apiKey = apiKey[m
 }[m
 [m
[36m@@ -115,7 +115,7 @@[m [mfunc (am *AuthManager) SetAPIKey(apiKey string) {[m
 //   - authenticator: The authenticator to be associated with the service.[m
 //[m
 // Returns an error if the provided authenticator is `nil`.[m
[31m-func (am *AuthManager) AddAuthenticator(serviceID string, authenticator Authenticator) error {[m
[32m+[m[32mfunc (am *Manager) AddAuthenticator(serviceID string, authenticator Authenticator) error {[m
 	if authenticator == nil {[m
 		return fmt.Errorf("authenticator for service %s is nil", serviceID)[m
 	}[m
[36m@@ -137,7 +137,7 @@[m [mfunc (am *AuthManager) AddAuthenticator(serviceID string, authenticator Authenti[m
 //[m
 // Returns a potentially modified context on success, or an error if[m
 // authentication fails.[m
[31m-func (am *AuthManager) Authenticate(ctx context.Context, serviceID string, r *http.Request) (context.Context, error) {[m
[32m+[m[32mfunc (am *Manager) Authenticate(ctx context.Context, serviceID string, r *http.Request) (context.Context, error) {[m
 	if am.apiKey != "" {[m
 		if r.Header.Get("X-API-Key") == "" {[m
 			return ctx, fmt.Errorf("unauthorized: missing API key")[m
[36m@@ -162,12 +162,12 @@[m [mfunc (am *AuthManager) Authenticate(ctx context.Context, serviceID string, r *ht[m
 //[m
 // Returns the authenticator and a boolean indicating whether an authenticator[m
 // was found.[m
[31m-func (am *AuthManager) GetAuthenticator(serviceID string) (Authenticator, bool) {[m
[32m+[m[32mfunc (am *Manager) GetAuthenticator(serviceID string) (Authenticator, bool) {[m
 	return am.authenticators.Load(serviceID)[m
 }[m
 [m
 // RemoveAuthenticator removes the authenticator for a given service ID.[m
[31m-func (am *AuthManager) RemoveAuthenticator(serviceID string) {[m
[32m+[m[32mfunc (am *Manager) RemoveAuthenticator(serviceID string) {[m
 	am.authenticators.Delete(serviceID)[m
 }[m
 [m
[36m@@ -184,7 +184,7 @@[m [mfunc (am *AuthManager) RemoveAuthenticator(serviceID string) {[m
 //   - config: The OAuth2 configuration for the authenticator.[m
 //[m
 // Returns an error if the authenticator cannot be created.[m
[31m-func (am *AuthManager) AddOAuth2Authenticator(ctx context.Context, serviceID string, config *OAuth2Config) error {[m
[32m+[m[32mfunc (am *Manager) AddOAuth2Authenticator(ctx context.Context, serviceID string, config *OAuth2Config) error {[m
 	if config == nil {[m
 		return nil[m
 	}[m
[1mdiff --git a/pkg/auth/auth_test.go b/pkg/auth/auth_test.go[m
[1mindex bc079a2..0cbff96 100644[m
[1m--- a/pkg/auth/auth_test.go[m
[1m+++ b/pkg/auth/auth_test.go[m
[36m@@ -90,7 +90,7 @@[m [mfunc TestAPIKeyAuthenticator(t *testing.T) {[m
 }[m
 [m
 func TestAuthManager(t *testing.T) {[m
[31m-	authManager := NewAuthManager()[m
[32m+[m	[32mauthManager := NewManager()[m
 	require.NotNil(t, authManager)[m
 [m
 	config := configv1.APIKeyAuth_builder{[m
[36m@@ -202,7 +202,7 @@[m [mfunc TestAuthManager(t *testing.T) {[m
 }[m
 [m
 func TestAddOAuth2Authenticator(t *testing.T) {[m
[31m-	authManager := NewAuthManager()[m
[32m+[m	[32mauthManager := NewManager()[m
 	require.NotNil(t, authManager)[m
 [m
 	// Mock OIDC provider[m
[1mdiff --git a/pkg/bus/bus.go b/pkg/bus/bus.go[m
[1mindex 7441719..4debfc6 100644[m
[1m--- a/pkg/bus/bus.go[m
[1m+++ b/pkg/bus/bus.go[m
[36m@@ -62,7 +62,7 @@[m [mtype Bus[T any] interface {[m
 	SubscribeOnce(ctx context.Context, topic string, handler func(T)) (unsubscribe func())[m
 }[m
 [m
[31m-// BusProvider is a thread-safe container for managing multiple, type-safe bus[m
[32m+[m[32m// Provider is a thread-safe container for managing multiple, type-safe bus[m
 // instances, with each bus being dedicated to a specific topic. It ensures that[m
 // for any given topic, there is only one bus instance, creating one on demand[m
 // if it doesn't already exist.[m
[36m@@ -70,21 +70,21 @@[m [mtype Bus[T any] interface {[m
 // This allows different parts of the application to get a bus for a specific[m
 // message type and topic without needing to manage the lifecycle of the bus[m
 // instances themselves.[m
[31m-type BusProvider struct {[m
[32m+[m[32mtype Provider struct {[m
 	buses  *xsync.Map[string, any][m
 	config *bus.MessageBus[m
 }[m
 [m
[31m-// NewBusProviderHook is a test hook for overriding the NewBusProvider logic.[m
[31m-var NewBusProviderHook func(*bus.MessageBus) (*BusProvider, error)[m
[32m+[m[32m// NewProviderHook is a test hook for overriding the NewProvider logic.[m
[32m+[m[32mvar NewProviderHook func(*bus.MessageBus) (*Provider, error)[m
 [m
[31m-// NewBusProvider creates and returns a new BusProvider, which is used to manage[m
[32m+[m[32m// NewProvider creates and returns a new Provider, which is used to manage[m
 // multiple topic-based bus instances.[m
[31m-func NewBusProvider(messageBus *bus.MessageBus) (*BusProvider, error) {[m
[31m-	if NewBusProviderHook != nil {[m
[31m-		return NewBusProviderHook(messageBus)[m
[32m+[m[32mfunc NewProvider(messageBus *bus.MessageBus) (*Provider, error) {[m
[32m+[m	[32mif NewProviderHook != nil {[m
[32m+[m		[32mreturn NewProviderHook(messageBus)[m
 	}[m
[31m-	provider := &BusProvider{[m
[32m+[m	[32mprovider := &Provider{[m
 		buses:  xsync.NewMap[string, any](),[m
 		config: messageBus,[m
 	}[m
[36m@@ -119,14 +119,14 @@[m [mfunc NewBusProvider(messageBus *bus.MessageBus) (*BusProvider, error) {[m
 // type safety for each topic.[m
 //[m
 // Parameters:[m
[31m-//   - p: The BusProvider instance.[m
[32m+[m[32m//   - p: The Provider instance.[m
 //   - topic: The name of the topic for which to get the bus.[m
 //[m
 // Returns a Bus instance for the specified message type and topic.[m
 // GetBusHook is a test hook for overriding the bus retrieval logic.[m
[31m-var GetBusHook func(p *BusProvider, topic string) any[m
[32m+[m[32mvar GetBusHook func(p *Provider, topic string) any[m
 [m
[31m-func GetBus[T any](p *BusProvider, topic string) Bus[T] {[m
[32m+[m[32mfunc GetBus[T any](p *Provider, topic string) Bus[T] {[m
 	if GetBusHook != nil {[m
 		if bus := GetBusHook(p, topic); bus != nil {[m
 			return bus.(Bus[T])[m
[1mdiff --git a/pkg/bus/bus_provider_test.go b/pkg/bus/bus_provider_test.go[m
[1mindex 867332e..980b0d3 100644[m
[1m--- a/pkg/bus/bus_provider_test.go[m
[1m+++ b/pkg/bus/bus_provider_test.go[m
[36m@@ -31,7 +31,7 @@[m [mimport ([m
 func TestBusProvider_GetBus_InMemory(t *testing.T) {[m
 	messageBus := &bus.MessageBus{}[m
 	messageBus.SetInMemory(&bus.InMemoryBus{})[m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	bus1 := GetBus[string](provider, "test_topic")[m
[36m@@ -56,7 +56,7 @@[m [mfunc TestBusProvider_GetBus_Redis(t *testing.T) {[m
 	redisBus.SetAddress("localhost:6379")[m
 	messageBus.SetRedis(redisBus)[m
 [m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	bus1 := GetBus[string](provider, "test_topic")[m
[36m@@ -80,7 +80,7 @@[m [mfunc TestBusProvider_GetBus_Nats(t *testing.T) {[m
 	natsBus.SetServerUrl(s.ClientURL())[m
 	messageBus.SetNats(natsBus)[m
 [m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	bus1 := GetBus[string](provider, "test_topic")[m
[36m@@ -93,7 +93,7 @@[m [mfunc TestBusProvider_GetBus_Nats(t *testing.T) {[m
 func TestBusProvider_GetBus_Concurrent(t *testing.T) {[m
 	messageBus := &bus.MessageBus{}[m
 	messageBus.SetInMemory(&bus.InMemoryBus{})[m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	var wg sync.WaitGroup[m
[36m@@ -120,7 +120,7 @@[m [mfunc TestBusProvider_GetBus_Concurrent(t *testing.T) {[m
 }[m
 [m
 func TestBusProvider_DefaultBus(t *testing.T) {[m
[31m-	provider, err := NewBusProvider(nil)[m
[32m+[m	[32mprovider, err := NewProvider(nil)[m
 	assert.NoError(t, err)[m
 	assert.NotNil(t, provider.config)[m
 	assert.NotNil(t, provider.config.GetInMemory())[m
[1mdiff --git a/pkg/bus/bus_test.go b/pkg/bus/bus_test.go[m
[1mindex 05629a5..575b2aa 100644[m
[1m--- a/pkg/bus/bus_test.go[m
[1m+++ b/pkg/bus/bus_test.go[m
[36m@@ -32,7 +32,7 @@[m [mfunc TestBusProvider(t *testing.T) {[m
 	t.Run("InMemory", func(t *testing.T) {[m
 		messageBus := bus.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus.InMemoryBus_builder{}.Build())[m
[31m-		provider, err := NewBusProvider(messageBus)[m
[32m+[m		[32mprovider, err := NewProvider(messageBus)[m
 		assert.NoError(t, err)[m
 [m
 		bus1 := GetBus[string](provider, "strings")[m
[36m@@ -57,7 +57,7 @@[m [mfunc TestBusProvider(t *testing.T) {[m
 		redisBus.SetAddress("localhost:6379")[m
 		messageBus.SetRedis(redisBus)[m
 [m
[31m-		provider, err := NewBusProvider(messageBus)[m
[32m+[m		[32mprovider, err := NewProvider(messageBus)[m
 		assert.NoError(t, err)[m
 [m
 		bus1 := GetBus[string](provider, "strings")[m
[36m@@ -73,7 +73,7 @@[m [mfunc TestBusProvider(t *testing.T) {[m
 func TestIntegration(t *testing.T) {[m
 	messageBus := bus.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus.InMemoryBus_builder{}.Build())[m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	// Simulate a tool execution request/response[m
[36m@@ -121,7 +121,7 @@[m [mfunc TestIntegration(t *testing.T) {[m
 func TestBusProvider_Concurrent(t *testing.T) {[m
 	messageBus := bus.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus.InMemoryBus_builder{}.Build())[m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	numGoroutines := 100[m
[36m@@ -155,7 +155,7 @@[m [mfunc TestRedisBus_SubscribeOnce(t *testing.T) {[m
 	redisBus.SetAddress("localhost:6379")[m
 	messageBus.SetRedis(redisBus)[m
 [m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	bus := GetBus[string](provider, "test-topic")[m
[36m@@ -191,7 +191,7 @@[m [mfunc TestRedisBus_Unsubscribe(t *testing.T) {[m
 	redisBus.SetAddress("localhost:6379")[m
 	messageBus.SetRedis(redisBus)[m
 [m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	bus := GetBus[string](provider, "test-topic")[m
[36m@@ -226,7 +226,7 @@[m [mfunc TestRedisBus_Concurrent(t *testing.T) {[m
 	redisBus.SetAddress("localhost:6379")[m
 	messageBus.SetRedis(redisBus)[m
 [m
[31m-	provider, err := NewBusProvider(messageBus)[m
[32m+[m	[32mprovider, err := NewProvider(messageBus)[m
 	assert.NoError(t, err)[m
 [m
 	bus := GetBus[string](provider, "test-topic")[m
[1mdiff --git a/pkg/bus/nats/nats.go b/pkg/bus/nats/nats.go[m
[1mindex 034ff83..61716aa 100644[m
[1m--- a/pkg/bus/nats/nats.go[m
[1m+++ b/pkg/bus/nats/nats.go[m
[36m@@ -69,7 +69,7 @@[m [mfunc (b *Bus[T]) Close() {[m
 }[m
 [m
 // Publish sends a message to a NATS topic.[m
[31m-func (b *Bus[T]) Publish(ctx context.Context, topic string, msg T) error {[m
[32m+[m[32mfunc (b *Bus[T]) Publish(_ context.Context, topic string, msg T) error {[m
 	data, err := json.Marshal(msg)[m
 	if err != nil {[m
 		return err[m
[36m@@ -78,7 +78,7 @@[m [mfunc (b *Bus[T]) Publish(ctx context.Context, topic string, msg T) error {[m
 }[m
 [m
 // Subscribe registers a handler for a NATS topic.[m
[31m-func (b *Bus[T]) Subscribe(ctx context.Context, topic string, handler func(T)) (unsubscribe func()) {[m
[32m+[m[32mfunc (b *Bus[T]) Subscribe(_ context.Context, topic string, handler func(T)) (unsubscribe func()) {[m
 	sub, _ := b.nc.Subscribe(topic, func(m *nats.Msg) {[m
 		var msg T[m
 		if err := json.Unmarshal(m.Data, &msg); err == nil {[m
[36m@@ -91,7 +91,7 @@[m [mfunc (b *Bus[T]) Subscribe(ctx context.Context, topic string, handler func(T)) ([m
 }[m
 [m
 // SubscribeOnce registers a one-time handler for a NATS topic.[m
[31m-func (b *Bus[T]) SubscribeOnce(ctx context.Context, topic string, handler func(T)) (unsubscribe func()) {[m
[32m+[m[32mfunc (b *Bus[T]) SubscribeOnce(_ context.Context, topic string, handler func(T)) (unsubscribe func()) {[m
 	sub, err := b.nc.Subscribe(topic, func(m *nats.Msg) {[m
 		var msg T[m
 		if err := json.Unmarshal(m.Data, &msg); err == nil {[m
[1mdiff --git a/pkg/client/client_test.go b/pkg/client/client_test.go[m
[1mindex b1cc742..5182bf6 100644[m
[1m--- a/pkg/client/client_test.go[m
[1m+++ b/pkg/client/client_test.go[m
[36m@@ -134,7 +134,7 @@[m [mfunc TestWebsocketClientWrapper(t *testing.T) {[m
 		if err != nil {[m
 			return[m
 		}[m
[31m-		defer conn.Close()[m
[32m+[m		[32mdefer func() { _ = conn.Close() }()[m
 		// Just handle control messages for the health check[m
 		_ = conn.SetReadDeadline(time.Now().Add(time.Second * 5))[m
 		for {[m
[1mdiff --git a/pkg/config/manager_test.go b/pkg/config/manager_test.go[m
[1mindex 10c902a..12c24bb 100644[m
[1m--- a/pkg/config/manager_test.go[m
[1m+++ b/pkg/config/manager_test.go[m
[36m@@ -46,14 +46,14 @@[m [mfunc TestUpstreamServiceManager_LoadAndMergeServices(t *testing.T) {[m
 		case "/collection1":[m
 			_, _ = w.Write([]byte(`{"services": [{"name": "service1", "version": "2.0"}]}`))[m
 		case "/collection2":[m
[31m-			w.Write([]byte(`{"services": [{"name": "service3", "version": "1.0"}]}`))[m
[32m+[m			[32m_, _ = w.Write([]byte(`{"services": [{"name": "service3", "version": "1.0"}]}`))[m
 		case "/collection3":[m
[31m-			w.Write([]byte(`{"services": [{"name": "service1", "version": "3.0"}]}`))[m
[32m+[m			[32m_, _ = w.Write([]byte(`{"services": [{"name": "service1", "version": "3.0"}]}`))[m
 		case "/collection-invalid-semver":[m
[31m-			w.Write([]byte(`{"version": "invalid", "services": [{"name": "service1", "version": "1.0"}]}`))[m
[32m+[m			[32m_, _ = w.Write([]byte(`{"version": "invalid", "services": [{"name": "service1", "version": "1.0"}]}`))[m
 		case "/collection-yaml":[m
 			w.Header().Set("Content-Type", "application/x-yaml")[m
[31m-			w.Write([]byte(`[m
[32m+[m			[32m_, _ = w.Write([]byte(`[m
 services:[m
 - name: service1[m
   version: "2.0"[m
[36m@@ -63,23 +63,23 @@[m [mservices:[m
 				w.WriteHeader(http.StatusUnauthorized)[m
 				return[m
 			}[m
[31m-			w.Write([]byte(`{"services": [{"name": "service1", "version": "4.0"}]}`))[m
[32m+[m			[32m_, _ = w.Write([]byte(`{"services": [{"name": "service1", "version": "4.0"}]}`))[m
 		case "/collection-apikey":[m
 			if r.Header.Get("X-API-Key") != "my-api-key" {[m
 				w.WriteHeader(http.StatusUnauthorized)[m
 				return[m
 			}[m
[31m-			w.Write([]byte(`{"services": [{"name": "service1", "version": "5.0"}]}`))[m
[32m+[m			[32m_, _ = w.Write([]byte(`{"services": [{"name": "service1", "version": "5.0"}]}`))[m
 		case "/collection-basicauth":[m
 			user, pass, ok := r.BasicAuth()[m
 			if !ok || user != "testuser" || pass != "testpass" {[m
 				w.WriteHeader(http.StatusUnauthorized)[m
 				return[m
 			}[m
[31m-			w.Write([]byte(`{"services": [{"name": "service1", "version": "6.0"}]}`))[m
[32m+[m			[32m_, _ = w.Write([]byte(`{"services": [{"name": "service1", "version": "6.0"}]}`))[m
 		case "/collection-no-content-type":[m
 			w.Header().Del("Content-Type")[m
[31m-			w.Write([]byte(`[m
[32m+[m			[32m_, _ = w.Write([]byte(`[m
 services:[m
 - name: service1[m
   version: "7.0"[m
[1mdiff --git a/pkg/mcpserver/notifications_test.go b/pkg/mcpserver/notifications_test.go[m
[1mindex 37b9f98..7b76909 100644[m
[1m--- a/pkg/mcpserver/notifications_test.go[m
[1m+++ b/pkg/mcpserver/notifications_test.go[m
[36m@@ -41,12 +41,12 @@[m [mfunc TestResourceListNotification(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[1mdiff --git a/pkg/mcpserver/registration_server.go b/pkg/mcpserver/registration_server.go[m
[1mindex 02dd638..e502acf 100644[m
[1m--- a/pkg/mcpserver/registration_server.go[m
[1m+++ b/pkg/mcpserver/registration_server.go[m
[36m@@ -37,7 +37,7 @@[m [mimport ([m
 // registration logic, allowing for a more modular and scalable architecture.[m
 type RegistrationServer struct {[m
 	v1.UnimplementedRegistrationServiceServer[m
[31m-	bus *bus.BusProvider[m
[32m+[m	[32mbus *bus.Provider[m
 }[m
 [m
 // NewRegistrationServerHook is a test hook for overriding the creation of a[m
[36m@@ -55,7 +55,7 @@[m [mvar NewRegistrationServerHook func(bus interface{}) (*RegistrationServer, error)[m
 //[m
 // Returns a new instance of the RegistrationServer or an error if the bus is[m
 // nil.[m
[31m-func NewRegistrationServer(bus *bus.BusProvider) (*RegistrationServer, error) {[m
[32m+[m[32mfunc NewRegistrationServer(bus *bus.Provider) (*RegistrationServer, error) {[m
 	if NewRegistrationServerHook != nil {[m
 		// The type assertion is safe because this is a test-only hook.[m
 		return NewRegistrationServerHook(bus)[m
[1mdiff --git a/pkg/mcpserver/registration_server_test.go b/pkg/mcpserver/registration_server_test.go[m
[1mindex efbe511..d3cbc4e 100644[m
[1m--- a/pkg/mcpserver/registration_server_test.go[m
[1m+++ b/pkg/mcpserver/registration_server_test.go[m
[36m@@ -77,16 +77,16 @@[m [mfunc TestRegistrationServer_RegisterService(t *testing.T) {[m
 	// Setup bus and worker[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 [m
 	// Setup components[m
 	poolManager := pool.NewManager()[m
 	upstreamFactory := factory.NewUpstreamServiceFactory(poolManager)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(upstreamFactory, toolManager, promptManager, resourceManager, authManager)[m
 	registrationWorker := worker.NewServiceRegistrationWorker(busProvider, serviceRegistry)[m
 	registrationWorker.Start(ctx)[m
[36m@@ -333,16 +333,16 @@[m [mfunc TestListServices(t *testing.T) {[m
 	// Setup bus and worker[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 [m
 	// Setup components[m
 	poolManager := pool.NewManager()[m
 	upstreamFactory := factory.NewUpstreamServiceFactory(poolManager)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(upstreamFactory, toolManager, promptManager, resourceManager, authManager)[m
 	registrationWorker := worker.NewServiceRegistrationWorker(busProvider, serviceRegistry)[m
 	registrationWorker.Start(ctx)[m
[36m@@ -382,7 +382,7 @@[m [mfunc TestListServices(t *testing.T) {[m
 	t.Run("list services with bus error", func(t *testing.T) {[m
 		// To simulate a bus error, we'll use a new bus provider that isn't properly configured[m
 		// for the worker to publish results to.[m
[31m-		errorBusProvider, err := bus.NewBusProvider(bus_pb.MessageBus_builder{}.Build())[m
[32m+[m		[32merrorBusProvider, err := bus.NewProvider(bus_pb.MessageBus_builder{}.Build())[m
 		require.NoError(t, err)[m
 [m
 		errorRegistrationServer, err := NewRegistrationServer(errorBusProvider)[m
[36m@@ -403,7 +403,7 @@[m [mfunc TestRegistrationServer_Unimplemented(t *testing.T) {[m
 	ctx := context.Background()[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 	registrationServer, err := NewRegistrationServer(busProvider)[m
 	require.NoError(t, err)[m
[36m@@ -458,7 +458,7 @@[m [mfunc TestRegistrationServer_Timeouts(t *testing.T) {[m
 	// Setup bus without a worker to simulate a timeout[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 [m
 	registrationServer, err := NewRegistrationServer(busProvider)[m
[1mdiff --git a/pkg/mcpserver/server.go b/pkg/mcpserver/server.go[m
[1mindex 037e8f1..bf11335 100644[m
[1m--- a/pkg/mcpserver/server.go[m
[1m+++ b/pkg/mcpserver/server.go[m
[36m@@ -46,12 +46,12 @@[m [mvar AddReceivingMiddlewareHook func(name string)[m
 type Server struct {[m
 	server          *mcp.Server[m
 	router          *Router[m
[31m-	toolManager     tool.ToolManagerInterface[m
[31m-	promptManager   prompt.PromptManagerInterface[m
[31m-	resourceManager resource.ResourceManagerInterface[m
[31m-	authManager     *auth.AuthManager[m
[32m+[m	[32mtoolManager     tool.ManagerInterface[m
[32m+[m	[32mpromptManager   prompt.ManagerInterface[m
[32m+[m	[32mresourceManager resource.ManagerInterface[m
[32m+[m	[32mauthManager     *auth.Manager[m
 	serviceRegistry *serviceregistry.ServiceRegistry[m
[31m-	bus             *bus.BusProvider[m
[32m+[m	[32mbus             *bus.Provider[m
 	reloadFunc      func() error[m
 	debug           bool[m
 }[m
[36m@@ -88,12 +88,12 @@[m [mfunc (s *Server) Server() *mcp.Server {[m
 // Returns a new instance of the Server and an error if initialization fails.[m
 func NewServer([m
 	ctx context.Context,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[31m-	authManager *auth.AuthManager,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
[32m+[m	[32mauthManager *auth.Manager,[m
 	serviceRegistry *serviceregistry.ServiceRegistry,[m
[31m-	bus *bus.BusProvider,[m
[32m+[m	[32mbus *bus.Provider,[m
 	debug bool,[m
 ) (*Server, error) {[m
 	s := &Server{[m
[36m@@ -323,25 +323,25 @@[m [mfunc (s *Server) ReadResource([m
 [m
 // AuthManager returns the server's authentication manager, which is responsible[m
 // for handling authentication for incoming requests.[m
[31m-func (s *Server) AuthManager() *auth.AuthManager {[m
[32m+[m[32mfunc (s *Server) AuthManager() *auth.Manager {[m
 	return s.authManager[m
 }[m
 [m
 // ToolManager returns the server's tool manager, which is responsible for[m
 // managing the lifecycle and access to tools.[m
[31m-func (s *Server) ToolManager() tool.ToolManagerInterface {[m
[32m+[m[32mfunc (s *Server) ToolManager() tool.ManagerInterface {[m
 	return s.toolManager[m
 }[m
 [m
 // PromptManager returns the server's prompt manager, which is responsible for[m
 // managing the lifecycle and access to prompts.[m
[31m-func (s *Server) PromptManager() prompt.PromptManagerInterface {[m
[32m+[m[32mfunc (s *Server) PromptManager() prompt.ManagerInterface {[m
 	return s.promptManager[m
 }[m
 [m
 // ResourceManager returns the server's resource manager, which is responsible[m
 // for managing the lifecycle and access to resources.[m
[31m-func (s *Server) ResourceManager() resource.ResourceManagerInterface {[m
[32m+[m[32mfunc (s *Server) ResourceManager() resource.ManagerInterface {[m
 	return s.resourceManager[m
 }[m
 [m
[1mdiff --git a/pkg/mcpserver/server_test.go b/pkg/mcpserver/server_test.go[m
[1mindex ad108a5..6b20651 100644[m
[1m--- a/pkg/mcpserver/server_test.go[m
[1m+++ b/pkg/mcpserver/server_test.go[m
[36m@@ -72,12 +72,12 @@[m [mfunc TestToolListFiltering(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -88,7 +88,7 @@[m [mfunc TestToolListFiltering(t *testing.T) {[m
 	server, err := mcpserver.NewServer(ctx, toolManager, promptManager, resourceManager, authManager, serviceRegistry, busProvider, false)[m
 	require.NoError(t, err)[m
 [m
[31m-	tm := server.ToolManager().(*tool.ToolManager)[m
[32m+[m	[32mtm := server.ToolManager().(*tool.Manager)[m
 [m
 	// Add a test tool[m
 	serviceID := "test-service"[m
[36m@@ -143,19 +143,19 @@[m [mfunc TestToolListFilteringServiceId(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
 	server, err := mcpserver.NewServer(ctx, toolManager, promptManager, resourceManager, authManager, serviceRegistry, busProvider, false)[m
 	require.NoError(t, err)[m
 [m
[31m-	tm := server.ToolManager().(*tool.ToolManager)[m
[32m+[m	[32mtm := server.ToolManager().(*tool.Manager)[m
 [m
 	// Add a test tool[m
 	serviceID := "test-service"[m
[36m@@ -225,12 +225,12 @@[m [mfunc TestServer_CallTool(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx, cancel := context.WithCancel(context.Background())[m
 	defer cancel()[m
[36m@@ -242,7 +242,7 @@[m [mfunc TestServer_CallTool(t *testing.T) {[m
 	server, err := mcpserver.NewServer(ctx, toolManager, promptManager, resourceManager, authManager, serviceRegistry, busProvider, false)[m
 	require.NoError(t, err)[m
 [m
[31m-	tm := server.ToolManager().(*tool.ToolManager)[m
[32m+[m	[32mtm := server.ToolManager().(*tool.Manager)[m
 [m
 	// Add test tools[m
 	successTool := &mockTool{[m
[36m@@ -351,12 +351,12 @@[m [mfunc TestServer_Prompts(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -429,12 +429,12 @@[m [mfunc TestServer_Resources(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -486,12 +486,12 @@[m [mfunc TestServer_Getters(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -506,7 +506,7 @@[m [mfunc TestServer_Getters(t *testing.T) {[m
 }[m
 [m
 type mockToolManager struct {[m
[31m-	tool.ToolManager[m
[32m+[m	[32mtool.Manager[m
 	addServiceInfoCalled       bool[m
 	getToolCalled              bool[m
 	listToolsCalled            bool[m
[36m@@ -562,12 +562,12 @@[m [mfunc TestServer_ToolManagerDelegation(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 	mockToolManager := &mockToolManager{}[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, mockToolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -604,12 +604,12 @@[m [mfunc TestToolListFilteringIsAuthoritative(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -667,12 +667,12 @@[m [mfunc TestToolListFiltering_ErrorCase(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
[36m@@ -719,19 +719,19 @@[m [mfunc TestToolListFilteringConversionError(t *testing.T) {[m
 	factory := factory.NewUpstreamServiceFactory(poolManager)[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
[31m-	toolManager := tool.NewToolManager(busProvider)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[31m-	authManager := auth.NewAuthManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(busProvider)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
[32m+[m	[32mauthManager := auth.NewManager()[m
 	serviceRegistry := serviceregistry.New(factory, toolManager, promptManager, resourceManager, authManager)[m
 	ctx := context.Background()[m
 [m
 	server, err := mcpserver.NewServer(ctx, toolManager, promptManager, resourceManager, authManager, serviceRegistry, busProvider, false)[m
 	require.NoError(t, err)[m
 [m
[31m-	tm := server.ToolManager().(*tool.ToolManager)[m
[32m+[m	[32mtm := server.ToolManager().(*tool.Manager)[m
 [m
 	// Add a tool that is initially valid but becomes invalid after being added.[m
 	chameleon := &chameleonTool{[m
[1mdiff --git a/pkg/metrics/metrics_test.go b/pkg/metrics/metrics_test.go[m
[1mindex 8c9f66a..bf1a4e7 100644[m
[1m--- a/pkg/metrics/metrics_test.go[m
[1m+++ b/pkg/metrics/metrics_test.go[m
[36m@@ -39,7 +39,7 @@[m [mfunc TestStartServer(t *testing.T) {[m
 	// Make a request to the /metrics endpoint[m
 	resp, err := http.Get(server.URL + "/metrics")[m
 	require.NoError(t, err)[m
[31m-	defer resp.Body.Close()[m
[32m+[m	[32mdefer func() { _ = resp.Body.Close() }()[m
 [m
 	// Check the response status code[m
 	assert.Equal(t, http.StatusOK, resp.StatusCode)[m
[1mdiff --git a/pkg/middleware/auth.go b/pkg/middleware/auth.go[m
[1mindex 6a8279c..c982042 100644[m
[1m--- a/pkg/middleware/auth.go[m
[1m+++ b/pkg/middleware/auth.go[m
[36m@@ -39,7 +39,7 @@[m [mimport ([m
 //     requests.[m
 //[m
 // Returns an `mcp.Middleware` function.[m
[31m-func AuthMiddleware(authManager *auth.AuthManager) mcp.Middleware {[m
[32m+[m[32mfunc AuthMiddleware(authManager *auth.Manager) mcp.Middleware {[m
 	return func(next mcp.MethodHandler) mcp.MethodHandler {[m
 		return func(ctx context.Context, method string, req mcp.Request) (mcp.Result, error) {[m
 			// Extract serviceID from the method. Assuming the format is "service.method".[m
[1mdiff --git a/pkg/middleware/auth_test.go b/pkg/middleware/auth_test.go[m
[1mindex 5193d84..c608213 100644[m
[1m--- a/pkg/middleware/auth_test.go[m
[1m+++ b/pkg/middleware/auth_test.go[m
[36m@@ -33,7 +33,7 @@[m [mimport ([m
 [m
 func TestAuthMiddleware(t *testing.T) {[m
 	t.Run("should call next handler when no authenticator is configured", func(t *testing.T) {[m
[31m-		authManager := auth.NewAuthManager()[m
[32m+[m		[32mauthManager := auth.NewManager()[m
 		mw := middleware.AuthMiddleware(authManager)[m
 [m
 		var nextCalled bool[m
[36m@@ -49,7 +49,7 @@[m [mfunc TestAuthMiddleware(t *testing.T) {[m
 	})[m
 [m
 	t.Run("should return error when authentication fails", func(t *testing.T) {[m
[31m-		authManager := auth.NewAuthManager()[m
[32m+[m		[32mauthManager := auth.NewManager()[m
 		authenticator := &auth.APIKeyAuthenticator{[m
 			HeaderName:  "X-API-Key",[m
 			HeaderValue: "secret",[m
[36m@@ -83,7 +83,7 @@[m [mfunc TestAuthMiddleware(t *testing.T) {[m
 	})[m
 [m
 	t.Run("should call next handler when authentication succeeds", func(t *testing.T) {[m
[31m-		authManager := auth.NewAuthManager()[m
[32m+[m		[32mauthManager := auth.NewManager()[m
 		authenticator := &auth.APIKeyAuthenticator{[m
 			HeaderName:  "X-API-Key",[m
 			HeaderValue: "secret",[m
[1mdiff --git a/pkg/middleware/cache.go b/pkg/middleware/cache.go[m
[1mindex 2940221..e47a786 100644[m
[1m--- a/pkg/middleware/cache.go[m
[1m+++ b/pkg/middleware/cache.go[m
[36m@@ -33,11 +33,11 @@[m [mimport ([m
 // functionality.[m
 type CachingMiddleware struct {[m
 	cache       *cache.Cache[any][m
[31m-	toolManager tool.ToolManagerInterface[m
[32m+[m	[32mtoolManager tool.ManagerInterface[m
 }[m
 [m
 // NewCachingMiddleware creates a new CachingMiddleware.[m
[31m-func NewCachingMiddleware(toolManager tool.ToolManagerInterface) *CachingMiddleware {[m
[32m+[m[32mfunc NewCachingMiddleware(toolManager tool.ManagerInterface) *CachingMiddleware {[m
 	goCacheStore := gocache_store.NewGoCache(go_cache.New(5*time.Minute, 10*time.Minute))[m
 	cacheManager := cache.New[any](goCacheStore)[m
 	return &CachingMiddleware{[m
[1mdiff --git a/pkg/middleware/cache_test.go b/pkg/middleware/cache_test.go[m
[1mindex dd75752..4966e29 100644[m
[1m--- a/pkg/middleware/cache_test.go[m
[1m+++ b/pkg/middleware/cache_test.go[m
[36m@@ -58,7 +58,7 @@[m [mfunc (m *mockTool) GetCacheConfig() *configv1.CacheConfig {[m
 	return m.cacheConfig[m
 }[m
 [m
[31m-// mockToolManager is a mock implementation of the tool.ToolManagerInterface.[m
[32m+[m[32m// mockToolManager is a mock implementation of the tool.ManagerInterface.[m
 type mockToolManager struct{}[m
 [m
 func (m *mockToolManager) GetServiceInfo(serviceID string) (*tool.ServiceInfo, bool) {[m
[1mdiff --git a/pkg/middleware/ratelimit.go b/pkg/middleware/ratelimit.go[m
[1mindex cc62e4c..9ed6894 100644[m
[1m--- a/pkg/middleware/ratelimit.go[m
[1m+++ b/pkg/middleware/ratelimit.go[m
[36m@@ -29,12 +29,12 @@[m [mimport ([m
 // RateLimitMiddleware is a tool execution middleware that provides rate limiting[m
 // functionality for upstream services.[m
 type RateLimitMiddleware struct {[m
[31m-	toolManager tool.ToolManagerInterface[m
[32m+[m	[32mtoolManager tool.ManagerInterface[m
 	limiters    sync.Map // map[string]*rate.Limiter[m
 }[m
 [m
 // NewRateLimitMiddleware creates a new RateLimitMiddleware.[m
[31m-func NewRateLimitMiddleware(toolManager tool.ToolManagerInterface) *RateLimitMiddleware {[m
[32m+[m[32mfunc NewRateLimitMiddleware(toolManager tool.ManagerInterface) *RateLimitMiddleware {[m
 	return &RateLimitMiddleware{[m
 		toolManager: toolManager,[m
 	}[m
[1mdiff --git a/pkg/middleware/ratelimit_test.go b/pkg/middleware/ratelimit_test.go[m
[1mindex 4fba14c..3ab6102 100644[m
[1m--- a/pkg/middleware/ratelimit_test.go[m
[1m+++ b/pkg/middleware/ratelimit_test.go[m
[36m@@ -49,7 +49,7 @@[m [mfunc (m *rateLimitMockTool) GetCacheConfig() *configv1.CacheConfig {[m
 }[m
 [m
 type rateLimitMockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	mock.Mock[m
 }[m
 [m
[1mdiff --git a/pkg/pool/pool.go b/pkg/pool/pool.go[m
[1mindex c74bec3..f681645 100644[m
[1m--- a/pkg/pool/pool.go[m
[1m+++ b/pkg/pool/pool.go[m
[36m@@ -114,7 +114,7 @@[m [mfunc New[T ClosableClient]([m
 		for i := 0; i < minSize; i++ {[m
 			client, err := factory(context.Background())[m
 			if err != nil {[m
[31m-				p.Close()[m
[32m+[m				[32m_ = p.Close()[m
 				return nil, fmt.Errorf("factory failed to create initial client: %w", err)[m
 			}[m
 			p.clients <- client[m
[1mdiff --git a/pkg/pool/pool_test.go b/pkg/pool/pool_test.go[m
[1mindex 05053d9..f47bcd5 100644[m
[1m--- a/pkg/pool/pool_test.go[m
[1m+++ b/pkg/pool/pool_test.go[m
[36m@@ -146,7 +146,7 @@[m [mfunc TestPool_Get_Unhealthy(t *testing.T) {[m
 	// Create pool with minSize=1, so it starts with one (unhealthy) client.[m
 	p, err := New(factory, 1, 2, 100, false)[m
 	require.NoError(t, err)[m
[31m-	defer p.Close()[m
[32m+[m	[32mdefer func() { _ = p.Close() }()[m
 	// Get should discard the initial unhealthy client and create a new, healthy one.[m
 	c, err := p.Get(context.Background())[m
 	require.NoError(t, err)[m
[36m@@ -156,7 +156,7 @@[m [mfunc TestPool_Get_Unhealthy(t *testing.T) {[m
 func TestPool_Put_Unhealthy(t *testing.T) {[m
 	p, err := New(newMockClientFactory(true), 0, 2, 100, false)[m
 	require.NoError(t, err)[m
[31m-	defer p.Close()[m
[32m+[m	[32mdefer func() { _ = p.Close() }()[m
 	// Get a client. This will acquire a semaphore.[m
 	c, err := p.Get(context.Background())[m
 	require.NoError(t, err)[m
[1mdiff --git a/pkg/prompt/management.go b/pkg/prompt/management.go[m
[1mindex 699888c..2a2e0ec 100644[m
[1m--- a/pkg/prompt/management.go[m
[1m+++ b/pkg/prompt/management.go[m
[36m@@ -24,8 +24,8 @@[m [mimport ([m
 	xsync "github.com/puzpuzpuz/xsync/v4"[m
 )[m
 [m
[31m-// PromptManagerInterface defines the interface for a prompt manager.[m
[31m-type PromptManagerInterface interface {[m
[32m+[m[32m// ManagerInterface defines the interface for a prompt manager.[m
[32m+[m[32mtype ManagerInterface interface {[m
 	AddPrompt(prompt Prompt)[m
 	UpdatePrompt(prompt Prompt)[m
 	GetPrompt(name string) (Prompt, bool)[m
[36m@@ -34,22 +34,22 @@[m [mtype PromptManagerInterface interface {[m
 	SetMCPServer(mcpServer MCPServerProvider)[m
 }[m
 [m
[31m-// PromptManager is a thread-safe manager for registering and retrieving prompts.[m
[31m-type PromptManager struct {[m
[32m+[m[32m// Manager is a thread-safe manager for registering and retrieving prompts.[m
[32m+[m[32mtype Manager struct {[m
 	prompts   *xsync.Map[string, Prompt][m
 	mcpServer MCPServerProvider[m
 	mu        sync.RWMutex[m
 }[m
 [m
[31m-// NewPromptManager creates and returns a new, empty PromptManager.[m
[31m-func NewPromptManager() *PromptManager {[m
[31m-	return &PromptManager{[m
[32m+[m[32m// NewManager creates and returns a new, empty Manager.[m
[32m+[m[32mfunc NewManager() *Manager {[m
[32m+[m	[32mreturn &Manager{[m
 		prompts: xsync.NewMap[string, Prompt](),[m
 	}[m
 }[m
 [m
[31m-// SetMCPServer provides the PromptManager with a reference to the MCP server.[m
[31m-func (pm *PromptManager) SetMCPServer(mcpServer MCPServerProvider) {[m
[32m+[m[32m// SetMCPServer provides the Manager with a reference to the MCP server.[m
[32m+[m[32mfunc (pm *Manager) SetMCPServer(mcpServer MCPServerProvider) {[m
 	pm.mu.Lock()[m
 	defer pm.mu.Unlock()[m
 	pm.mcpServer = mcpServer[m
[36m@@ -57,7 +57,7 @@[m [mfunc (pm *PromptManager) SetMCPServer(mcpServer MCPServerProvider) {[m
 [m
 // AddPrompt registers a new prompt with the manager. If a prompt with the same[m
 // name already exists, it will be overwritten, and a warning will be logged.[m
[31m-func (pm *PromptManager) AddPrompt(prompt Prompt) {[m
[32m+[m[32mfunc (pm *Manager) AddPrompt(prompt Prompt) {[m
 	promptName := prompt.Prompt().Name[m
 	if existingPrompt, loaded := pm.prompts.LoadAndStore(promptName, prompt); loaded {[m
 		logging.GetLogger().Warn(fmt.Sprintf("Prompt with the same name already exists. Overwriting. promptName=%s, newPromptService=%s, existingPromptService=%s",[m
[36m@@ -70,18 +70,18 @@[m [mfunc (pm *PromptManager) AddPrompt(prompt Prompt) {[m
 [m
 // UpdatePrompt updates an existing prompt in the manager. If the prompt does not[m
 // exist, it will be added.[m
[31m-func (pm *PromptManager) UpdatePrompt(prompt Prompt) {[m
[32m+[m[32mfunc (pm *Manager) UpdatePrompt(prompt Prompt) {[m
 	pm.prompts.Store(prompt.Prompt().Name, prompt)[m
 }[m
 [m
 // GetPrompt retrieves a prompt from the manager by its name.[m
[31m-func (pm *PromptManager) GetPrompt(name string) (Prompt, bool) {[m
[32m+[m[32mfunc (pm *Manager) GetPrompt(name string) (Prompt, bool) {[m
 	prompt, ok := pm.prompts.Load(name)[m
 	return prompt, ok[m
 }[m
 [m
 // ListPrompts returns a slice containing all the prompts currently registered.[m
[31m-func (pm *PromptManager) ListPrompts() []Prompt {[m
[32m+[m[32mfunc (pm *Manager) ListPrompts() []Prompt {[m
 	var prompts []Prompt[m
 	pm.prompts.Range(func(key string, value Prompt) bool {[m
 		prompts = append(prompts, value)[m
[36m@@ -91,7 +91,7 @@[m [mfunc (pm *PromptManager) ListPrompts() []Prompt {[m
 }[m
 [m
 // ClearPromptsForService removes all prompts associated with a given service.[m
[31m-func (pm *PromptManager) ClearPromptsForService(serviceID string) {[m
[32m+[m[32mfunc (pm *Manager) ClearPromptsForService(serviceID string) {[m
 	pm.prompts.Range(func(key string, value Prompt) bool {[m
 		if value.Service() == serviceID {[m
 			pm.prompts.Delete(key)[m
[1mdiff --git a/pkg/prompt/management_test.go b/pkg/prompt/management_test.go[m
[1mindex 0609210..7f323e8 100644[m
[1m--- a/pkg/prompt/management_test.go[m
[1m+++ b/pkg/prompt/management_test.go[m
[36m@@ -77,7 +77,7 @@[m [mfunc (m *MockPrompt) Get(ctx context.Context, args json.RawMessage) (*mcp.GetPro[m
 }[m
 [m
 func TestPromptManager(t *testing.T) {[m
[31m-	promptManager := NewPromptManager()[m
[32m+[m	[32mpromptManager := NewManager()[m
 [m
 	t.Run("add and get prompt", func(t *testing.T) {[m
 		mockPrompt := new(MockPrompt)[m
[1mdiff --git a/pkg/prompt/mock_prompt_manager.go b/pkg/prompt/mock_prompt_manager.go[m
[1mindex 0235773..7c88523 100644[m
[1m--- a/pkg/prompt/mock_prompt_manager.go[m
[1m+++ b/pkg/prompt/mock_prompt_manager.go[m
[36m@@ -1,9 +1,9 @@[m
 // Code generated by MockGen. DO NOT EDIT.[m
[31m-// Source: github.com/mcpany/core/pkg/prompt (interfaces: PromptManagerInterface)[m
[32m+[m[32m// Source: github.com/mcpany/core/pkg/prompt (interfaces: ManagerInterface)[m
 //[m
 // Generated by this command:[m
 //[m
[31m-//	mockgen -destination=pkg/prompt/mock_prompt_manager.go -package=prompt github.com/mcpany/core/pkg/prompt PromptManagerInterface[m
[32m+[m[32m//	mockgen -destination=pkg/prompt/mock_prompt_manager.go -package=prompt github.com/mcpany/core/pkg/prompt ManagerInterface[m
 //[m
 [m
 // Package prompt is a generated GoMock package.[m
[36m@@ -15,68 +15,68 @@[m [mimport ([m
 	gomock "go.uber.org/mock/gomock"[m
 )[m
 [m
[31m-// MockPromptManagerInterface is a mock of PromptManagerInterface interface.[m
[31m-type MockPromptManagerInterface struct {[m
[32m+[m[32m// MockManagerInterface is a mock of ManagerInterface interface.[m
[32m+[m[32mtype MockManagerInterface struct {[m
 	ctrl     *gomock.Controller[m
[31m-	recorder *MockPromptManagerInterfaceMockRecorder[m
[32m+[m	[32mrecorder *MockManagerInterfaceMockRecorder[m
 	isgomock struct{}[m
 }[m
 [m
[31m-// MockPromptManagerInterfaceMockRecorder is the mock recorder for MockPromptManagerInterface.[m
[31m-type MockPromptManagerInterfaceMockRecorder struct {[m
[31m-	mock *MockPromptManagerInterface[m
[32m+[m[32m// MockManagerInterfaceMockRecorder is the mock recorder for MockManagerInterface.[m
[32m+[m[32mtype MockManagerInterfaceMockRecorder struct {[m
[32m+[m	[32mmock *MockManagerInterface[m
 }[m
 [m
[31m-// NewMockPromptManagerInterface creates a new mock instance.[m
[31m-func NewMockPromptManagerInterface(ctrl *gomock.Controller) *MockPromptManagerInterface {[m
[31m-	mock := &MockPromptManagerInterface{ctrl: ctrl}[m
[31m-	mock.recorder = &MockPromptManagerInterfaceMockRecorder{mock}[m
[32m+[m[32m// NewMockManagerInterface creates a new mock instance.[m
[32m+[m[32mfunc NewMockManagerInterface(ctrl *gomock.Controller) *MockManagerInterface {[m
[32m+[m	[32mmock := &MockManagerInterface{ctrl: ctrl}[m
[32m+[m	[32mmock.recorder = &MockManagerInterfaceMockRecorder{mock}[m
 	return mock[m
 }[m
 [m
 // EXPECT returns an object that allows the caller to indicate expected use.[m
[31m-func (m *MockPromptManagerInterface) EXPECT() *MockPromptManagerInterfaceMockRecorder {[m
[32m+[m[32mfunc (m *MockManagerInterface) EXPECT() *MockManagerInterfaceMockRecorder {[m
 	return m.recorder[m
 }[m
 [m
 // AddPrompt mocks base method.[m
[31m-func (m *MockPromptManagerInterface) AddPrompt(prompt Prompt) {[m
[32m+[m[32mfunc (m *MockManagerInterface) AddPrompt(prompt Prompt) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "AddPrompt", prompt)[m
 }[m
 [m
 // AddPrompt indicates an expected call of AddPrompt.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) AddPrompt(prompt any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) AddPrompt(prompt any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddPrompt", reflect.TypeOf((*MockPromptManagerInterface)(nil).AddPrompt), prompt)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddPrompt", reflect.TypeOf((*MockManagerInterface)(nil).AddPrompt), prompt)[m
 }[m
 [m
 // Clear mocks base method.[m
[31m-func (m *MockPromptManagerInterface) Clear() {[m
[32m+[m[32mfunc (m *MockManagerInterface) Clear() {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "Clear")[m
 }[m
 [m
 // Clear indicates an expected call of Clear.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) Clear() *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) Clear() *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Clear", reflect.TypeOf((*MockPromptManagerInterface)(nil).Clear))[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Clear", reflect.TypeOf((*MockManagerInterface)(nil).Clear))[m
 }[m
 [m
 // ClearPromptsForService mocks base method.[m
[31m-func (m *MockPromptManagerInterface) ClearPromptsForService(serviceID string) {[m
[32m+[m[32mfunc (m *MockManagerInterface) ClearPromptsForService(serviceID string) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "ClearPromptsForService", serviceID)[m
 }[m
 [m
 // ClearPromptsForService indicates an expected call of ClearPromptsForService.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) ClearPromptsForService(serviceID any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ClearPromptsForService(serviceID any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ClearPromptsForService", reflect.TypeOf((*MockPromptManagerInterface)(nil).ClearPromptsForService), serviceID)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ClearPromptsForService", reflect.TypeOf((*MockManagerInterface)(nil).ClearPromptsForService), serviceID)[m
 }[m
 [m
 // GetPrompt mocks base method.[m
[31m-func (m *MockPromptManagerInterface) GetPrompt(name string) (Prompt, bool) {[m
[32m+[m[32mfunc (m *MockManagerInterface) GetPrompt(name string) (Prompt, bool) {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "GetPrompt", name)[m
 	ret0, _ := ret[0].(Prompt)[m
[36m@@ -85,13 +85,13 @@[m [mfunc (m *MockPromptManagerInterface) GetPrompt(name string) (Prompt, bool) {[m
 }[m
 [m
 // GetPrompt indicates an expected call of GetPrompt.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) GetPrompt(name any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) GetPrompt(name any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetPrompt", reflect.TypeOf((*MockPromptManagerInterface)(nil).GetPrompt), name)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetPrompt", reflect.TypeOf((*MockManagerInterface)(nil).GetPrompt), name)[m
 }[m
 [m
 // ListPrompts mocks base method.[m
[31m-func (m *MockPromptManagerInterface) ListPrompts() []Prompt {[m
[32m+[m[32mfunc (m *MockManagerInterface) ListPrompts() []Prompt {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "ListPrompts")[m
 	ret0, _ := ret[0].([]Prompt)[m
[36m@@ -99,31 +99,31 @@[m [mfunc (m *MockPromptManagerInterface) ListPrompts() []Prompt {[m
 }[m
 [m
 // ListPrompts indicates an expected call of ListPrompts.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) ListPrompts() *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ListPrompts() *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ListPrompts", reflect.TypeOf((*MockPromptManagerInterface)(nil).ListPrompts))[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ListPrompts", reflect.TypeOf((*MockManagerInterface)(nil).ListPrompts))[m
 }[m
 [m
 // SetMCPServer mocks base method.[m
[31m-func (m *MockPromptManagerInterface) SetMCPServer(mcpServer MCPServerProvider) {[m
[32m+[m[32mfunc (m *MockManagerInterface) SetMCPServer(mcpServer MCPServerProvider) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "SetMCPServer", mcpServer)[m
 }[m
 [m
 // SetMCPServer indicates an expected call of SetMCPServer.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) SetMCPServer(mcpServer any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) SetMCPServer(mcpServer any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "SetMCPServer", reflect.TypeOf((*MockPromptManagerInterface)(nil).SetMCPServer), mcpServer)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "SetMCPServer", reflect.TypeOf((*MockManagerInterface)(nil).SetMCPServer), mcpServer)[m
 }[m
 [m
 // UpdatePrompt mocks base method.[m
[31m-func (m *MockPromptManagerInterface) UpdatePrompt(prompt Prompt) {[m
[32m+[m[32mfunc (m *MockManagerInterface) UpdatePrompt(prompt Prompt) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "UpdatePrompt", prompt)[m
 }[m
 [m
 // UpdatePrompt indicates an expected call of UpdatePrompt.[m
[31m-func (mr *MockPromptManagerInterfaceMockRecorder) UpdatePrompt(prompt any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) UpdatePrompt(prompt any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "UpdatePrompt", reflect.TypeOf((*MockPromptManagerInterface)(nil).UpdatePrompt), prompt)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "UpdatePrompt", reflect.TypeOf((*MockManagerInterface)(nil).UpdatePrompt), prompt)[m
 }[m
[1mdiff --git a/pkg/prompt/service.go b/pkg/prompt/service.go[m
[1mindex aaba8ba..4c7598d 100644[m
[1m--- a/pkg/prompt/service.go[m
[1m+++ b/pkg/prompt/service.go[m
[36m@@ -28,12 +28,12 @@[m [mimport ([m
 // methods for listing available prompts and retrieving a specific prompt by[m
 // name.[m
 type Service struct {[m
[31m-	promptManager PromptManagerInterface[m
[32m+[m	[32mpromptManager ManagerInterface[m
 	mcpServer     *mcp.Server[m
 }[m
 [m
 // NewService creates and returns a new Service instance.[m
[31m-func NewService(promptManager PromptManagerInterface) *Service {[m
[32m+[m[32mfunc NewService(promptManager ManagerInterface) *Service {[m
 	s := &Service{[m
 		promptManager: promptManager,[m
 	}[m
[36m@@ -56,7 +56,7 @@[m [mfunc (s *Service) SetMCPServer(mcpServer *mcp.Server) {[m
 // }[m
 [m
 // ListPrompts handles the "prompts/list" MCP request. It retrieves the list of[m
[31m-// available prompts from the PromptManager, converts them to the MCP format, and[m
[32m+[m[32m// available prompts from the Manager, converts them to the MCP format, and[m
 // returns them to the client.[m
 func (s *Service) ListPrompts([m
 	_ context.Context,[m
[36m@@ -73,7 +73,7 @@[m [mfunc (s *Service) ListPrompts([m
 }[m
 [m
 // GetPrompt handles the "prompts/get" MCP request. It retrieves a specific[m
[31m-// prompt by name from the PromptManager and executes it with the provided[m
[32m+[m[32m// prompt by name from the Manager and executes it with the provided[m
 // arguments, returning the result. If the prompt is not found, it returns a[m
 // ErrPromptNotFound error.[m
 func (s *Service) GetPrompt([m
[1mdiff --git a/pkg/prompt/types.go b/pkg/prompt/types.go[m
[1mindex 5b525a3..0600dc9 100644[m
[1m--- a/pkg/prompt/types.go[m
[1m+++ b/pkg/prompt/types.go[m
[36m@@ -37,7 +37,7 @@[m [mtype Prompt interface {[m
 }[m
 [m
 // MCPServerProvider defines an interface for components that can provide an[m
[31m-// instance of an *mcp.Server. This is used to decouple the PromptManager from the[m
[32m+[m[32m// instance of an *mcp.Server. This is used to decouple the Manager from the[m
 // concrete server implementation.[m
 type MCPServerProvider interface {[m
 	Server() *mcp.Server[m
[1mdiff --git a/pkg/resource/mock_resource_manager.go b/pkg/resource/mock_resource_manager.go[m
[1mindex e711df9..c9ecfaa 100644[m
[1m--- a/pkg/resource/mock_resource_manager.go[m
[1m+++ b/pkg/resource/mock_resource_manager.go[m
[36m@@ -1,9 +1,9 @@[m
 // Code generated by MockGen. DO NOT EDIT.[m
[31m-// Source: github.com/mcpany/core/pkg/resource (interfaces: ResourceManagerInterface)[m
[32m+[m[32m// Source: github.com/mcpany/core/pkg/resource (interfaces: ManagerInterface)[m
 //[m
 // Generated by this command:[m
 //[m
[31m-//	mockgen -destination=pkg/resource/mock_resource_manager.go -package=resource github.com/mcpany/core/pkg/resource ResourceManagerInterface[m
[32m+[m[32m//	mockgen -destination=pkg/resource/mock_resource_manager.go -package=resource github.com/mcpany/core/pkg/resource ManagerInterface[m
 //[m
 [m
 // Package resource is a generated GoMock package.[m
[36m@@ -15,68 +15,68 @@[m [mimport ([m
 	gomock "go.uber.org/mock/gomock"[m
 )[m
 [m
[31m-// MockResourceManagerInterface is a mock of ResourceManagerInterface interface.[m
[31m-type MockResourceManagerInterface struct {[m
[32m+[m[32m// MockManagerInterface is a mock of ManagerInterface interface.[m
[32m+[m[32mtype MockManagerInterface struct {[m
 	ctrl     *gomock.Controller[m
[31m-	recorder *MockResourceManagerInterfaceMockRecorder[m
[32m+[m	[32mrecorder *MockManagerInterfaceMockRecorder[m
 	isgomock struct{}[m
 }[m
 [m
[31m-// MockResourceManagerInterfaceMockRecorder is the mock recorder for MockResourceManagerInterface.[m
[31m-type MockResourceManagerInterfaceMockRecorder struct {[m
[31m-	mock *MockResourceManagerInterface[m
[32m+[m[32m// MockManagerInterfaceMockRecorder is the mock recorder for MockManagerInterface.[m
[32m+[m[32mtype MockManagerInterfaceMockRecorder struct {[m
[32m+[m	[32mmock *MockManagerInterface[m
 }[m
 [m
[31m-// NewMockResourceManagerInterface creates a new mock instance.[m
[31m-func NewMockResourceManagerInterface(ctrl *gomock.Controller) *MockResourceManagerInterface {[m
[31m-	mock := &MockResourceManagerInterface{ctrl: ctrl}[m
[31m-	mock.recorder = &MockResourceManagerInterfaceMockRecorder{mock}[m
[32m+[m[32m// NewMockManagerInterface creates a new mock instance.[m
[32m+[m[32mfunc NewMockManagerInterface(ctrl *gomock.Controller) *MockManagerInterface {[m
[32m+[m	[32mmock := &MockManagerInterface{ctrl: ctrl}[m
[32m+[m	[32mmock.recorder = &MockManagerInterfaceMockRecorder{mock}[m
 	return mock[m
 }[m
 [m
 // EXPECT returns an object that allows the caller to indicate expected use.[m
[31m-func (m *MockResourceManagerInterface) EXPECT() *MockResourceManagerInterfaceMockRecorder {[m
[32m+[m[32mfunc (m *MockManagerInterface) EXPECT() *MockManagerInterfaceMockRecorder {[m
 	return m.recorder[m
 }[m
 [m
 // AddResource mocks base method.[m
[31m-func (m *MockResourceManagerInterface) AddResource(resource Resource) {[m
[32m+[m[32mfunc (m *MockManagerInterface) AddResource(resource Resource) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "AddResource", resource)[m
 }[m
 [m
 // AddResource indicates an expected call of AddResource.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) AddResource(resource any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) AddResource(resource any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddResource", reflect.TypeOf((*MockResourceManagerInterface)(nil).AddResource), resource)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddResource", reflect.TypeOf((*MockManagerInterface)(nil).AddResource), resource)[m
 }[m
 [m
 // Clear mocks base method.[m
[31m-func (m *MockResourceManagerInterface) Clear() {[m
[32m+[m[32mfunc (m *MockManagerInterface) Clear() {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "Clear")[m
 }[m
 [m
 // Clear indicates an expected call of Clear.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) Clear() *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) Clear() *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Clear", reflect.TypeOf((*MockResourceManagerInterface)(nil).Clear))[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Clear", reflect.TypeOf((*MockManagerInterface)(nil).Clear))[m
 }[m
 [m
 // ClearResourcesForService mocks base method.[m
[31m-func (m *MockResourceManagerInterface) ClearResourcesForService(serviceID string) {[m
[32m+[m[32mfunc (m *MockManagerInterface) ClearResourcesForService(serviceID string) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "ClearResourcesForService", serviceID)[m
 }[m
 [m
 // ClearResourcesForService indicates an expected call of ClearResourcesForService.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) ClearResourcesForService(serviceID any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ClearResourcesForService(serviceID any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ClearResourcesForService", reflect.TypeOf((*MockResourceManagerInterface)(nil).ClearResourcesForService), serviceID)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ClearResourcesForService", reflect.TypeOf((*MockManagerInterface)(nil).ClearResourcesForService), serviceID)[m
 }[m
 [m
 // GetResource mocks base method.[m
[31m-func (m *MockResourceManagerInterface) GetResource(uri string) (Resource, bool) {[m
[32m+[m[32mfunc (m *MockManagerInterface) GetResource(uri string) (Resource, bool) {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "GetResource", uri)[m
 	ret0, _ := ret[0].(Resource)[m
[36m@@ -85,13 +85,13 @@[m [mfunc (m *MockResourceManagerInterface) GetResource(uri string) (Resource, bool)[m
 }[m
 [m
 // GetResource indicates an expected call of GetResource.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) GetResource(uri any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) GetResource(uri any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetResource", reflect.TypeOf((*MockResourceManagerInterface)(nil).GetResource), uri)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetResource", reflect.TypeOf((*MockManagerInterface)(nil).GetResource), uri)[m
 }[m
 [m
 // ListResources mocks base method.[m
[31m-func (m *MockResourceManagerInterface) ListResources() []Resource {[m
[32m+[m[32mfunc (m *MockManagerInterface) ListResources() []Resource {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "ListResources")[m
 	ret0, _ := ret[0].([]Resource)[m
[36m@@ -99,31 +99,31 @@[m [mfunc (m *MockResourceManagerInterface) ListResources() []Resource {[m
 }[m
 [m
 // ListResources indicates an expected call of ListResources.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) ListResources() *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ListResources() *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ListResources", reflect.TypeOf((*MockResourceManagerInterface)(nil).ListResources))[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ListResources", reflect.TypeOf((*MockManagerInterface)(nil).ListResources))[m
 }[m
 [m
 // OnListChanged mocks base method.[m
[31m-func (m *MockResourceManagerInterface) OnListChanged(arg0 func()) {[m
[32m+[m[32mfunc (m *MockManagerInterface) OnListChanged(arg0 func()) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "OnListChanged", arg0)[m
 }[m
 [m
 // OnListChanged indicates an expected call of OnListChanged.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) OnListChanged(arg0 any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) OnListChanged(arg0 any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "OnListChanged", reflect.TypeOf((*MockResourceManagerInterface)(nil).OnListChanged), arg0)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "OnListChanged", reflect.TypeOf((*MockManagerInterface)(nil).OnListChanged), arg0)[m
 }[m
 [m
 // RemoveResource mocks base method.[m
[31m-func (m *MockResourceManagerInterface) RemoveResource(uri string) {[m
[32m+[m[32mfunc (m *MockManagerInterface) RemoveResource(uri string) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "RemoveResource", uri)[m
 }[m
 [m
 // RemoveResource indicates an expected call of RemoveResource.[m
[31m-func (mr *MockResourceManagerInterfaceMockRecorder) RemoveResource(uri any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) RemoveResource(uri any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "RemoveResource", reflect.TypeOf((*MockResourceManagerInterface)(nil).RemoveResource), uri)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "RemoveResource", reflect.TypeOf((*MockManagerInterface)(nil).RemoveResource), uri)[m
 }[m
[1mdiff --git a/pkg/resource/resource.go b/pkg/resource/resource.go[m
[1mindex d98361f..bbfd45b 100644[m
[1m--- a/pkg/resource/resource.go[m
[1m+++ b/pkg/resource/resource.go[m
[36m@@ -28,7 +28,7 @@[m [mimport ([m
 var ErrResourceNotFound = errors.New("resource not found")[m
 [m
 // Resource defines the interface for a resource that can be managed by the[m
[31m-// ResourceManager. Each implementation of a resource is responsible for[m
[32m+[m[32m// Manager. Each implementation of a resource is responsible for[m
 // providing its metadata and handling read and subscribe operations.[m
 type Resource interface {[m
 	// Resource returns the MCP representation of the resource, which includes its[m
[36m@@ -43,10 +43,10 @@[m [mtype Resource interface {[m
 	Subscribe(ctx context.Context) error[m
 }[m
 [m
[31m-// ResourceManagerInterface defines the interface for managing a collection of[m
[32m+[m[32m// ManagerInterface defines the interface for managing a collection of[m
 // resources. It provides methods for adding, removing, retrieving, and listing[m
 // resources, as well as for subscribing to changes.[m
[31m-type ResourceManagerInterface interface {[m
[32m+[m[32mtype ManagerInterface interface {[m
 	// GetResource retrieves a resource by its URI.[m
 	GetResource(uri string) (Resource, bool)[m
 	// AddResource adds a new resource to the manager.[m
[36m@@ -62,18 +62,18 @@[m [mtype ResourceManagerInterface interface {[m
 	ClearResourcesForService(serviceID string)[m
 }[m
 [m
[31m-// ResourceManager is a thread-safe implementation of the[m
[31m-// ResourceManagerInterface. It uses a map to store resources and a mutex to[m
[32m+[m[32m// Manager is a thread-safe implementation of the[m
[32m+[m[32m// ManagerInterface. It uses a map to store resources and a mutex to[m
 // protect concurrent access.[m
[31m-type ResourceManager struct {[m
[32m+[m[32mtype Manager struct {[m
 	mu                sync.RWMutex[m
 	resources         map[string]Resource[m
 	onListChangedFunc func()[m
 }[m
 [m
[31m-// NewResourceManager creates and returns a new, empty ResourceManager.[m
[31m-func NewResourceManager() *ResourceManager {[m
[31m-	return &ResourceManager{[m
[32m+[m[32m// NewManager creates and returns a new, empty Manager.[m
[32m+[m[32mfunc NewManager() *Manager {[m
[32m+[m	[32mreturn &Manager{[m
 		resources: make(map[string]Resource),[m
 	}[m
 }[m
[36m@@ -83,7 +83,7 @@[m [mfunc NewResourceManager() *ResourceManager {[m
 // uri is the URI of the resource to retrieve.[m
 // It returns the resource and a boolean indicating whether the resource was[m
 // found.[m
[31m-func (rm *ResourceManager) GetResource(uri string) (Resource, bool) {[m
[32m+[m[32mfunc (rm *Manager) GetResource(uri string) (Resource, bool) {[m
 	rm.mu.RLock()[m
 	defer rm.mu.RUnlock()[m
 	resource, ok := rm.resources[uri][m
[36m@@ -95,7 +95,7 @@[m [mfunc (rm *ResourceManager) GetResource(uri string) (Resource, bool) {[m
 // triggers the OnListChanged callback if one is registered.[m
 //[m
 // resource is the resource to be added.[m
[31m-func (rm *ResourceManager) AddResource(resource Resource) {[m
[32m+[m[32mfunc (rm *Manager) AddResource(resource Resource) {[m
 	rm.mu.Lock()[m
 	defer rm.mu.Unlock()[m
 	rm.resources[resource.Resource().URI] = resource[m
[36m@@ -109,7 +109,7 @@[m [mfunc (rm *ResourceManager) AddResource(resource Resource) {[m
 // one is registered.[m
 //[m
 // uri is the URI of the resource to be removed.[m
[31m-func (rm *ResourceManager) RemoveResource(uri string) {[m
[32m+[m[32mfunc (rm *Manager) RemoveResource(uri string) {[m
 	rm.mu.Lock()[m
 	defer rm.mu.Unlock()[m
 	if _, ok := rm.resources[uri]; ok {[m
[36m@@ -122,7 +122,7 @@[m [mfunc (rm *ResourceManager) RemoveResource(uri string) {[m
 [m
 // ListResources returns a slice containing all the resources currently[m
 // registered in the manager.[m
[31m-func (rm *ResourceManager) ListResources() []Resource {[m
[32m+[m[32mfunc (rm *Manager) ListResources() []Resource {[m
 	rm.mu.RLock()[m
 	defer rm.mu.RUnlock()[m
 	resources := make([]Resource, 0, len(rm.resources))[m
[36m@@ -136,7 +136,7 @@[m [mfunc (rm *ResourceManager) ListResources() []Resource {[m
 // of resources is modified by adding or removing a resource.[m
 //[m
 // f is the callback function to be set.[m
[31m-func (rm *ResourceManager) OnListChanged(f func()) {[m
[32m+[m[32mfunc (rm *Manager) OnListChanged(f func()) {[m
 	rm.mu.Lock()[m
 	defer rm.mu.Unlock()[m
 	rm.onListChangedFunc = f[m
[36m@@ -147,7 +147,7 @@[m [mfunc (rm *ResourceManager) OnListChanged(f func()) {[m
 // ctx is the context for the subscription.[m
 // uri is the URI of the resource to subscribe to.[m
 // It returns an error if the resource is not found or if the subscription fails.[m
[31m-func (rm *ResourceManager) Subscribe(ctx context.Context, uri string) error {[m
[32m+[m[32mfunc (rm *Manager) Subscribe(ctx context.Context, uri string) error {[m
 	resource, ok := rm.GetResource(uri)[m
 	if !ok {[m
 		return ErrResourceNotFound[m
[36m@@ -156,7 +156,7 @@[m [mfunc (rm *ResourceManager) Subscribe(ctx context.Context, uri string) error {[m
 }[m
 [m
 // ClearResourcesForService removes all resources associated with a given service ID.[m
[31m-func (rm *ResourceManager) ClearResourcesForService(serviceID string) {[m
[32m+[m[32mfunc (rm *Manager) ClearResourcesForService(serviceID string) {[m
 	rm.mu.Lock()[m
 	defer rm.mu.Unlock()[m
 	for uri, resource := range rm.resources {[m
[1mdiff --git a/pkg/resource/resource_test.go b/pkg/resource/resource_test.go[m
[1mindex 6b08f72..db28caa 100644[m
[1m--- a/pkg/resource/resource_test.go[m
[1m+++ b/pkg/resource/resource_test.go[m
[36m@@ -50,13 +50,13 @@[m [mfunc (r *mockResource) Subscribe(ctx context.Context) error {[m
 }[m
 [m
 func TestNewResourceManager(t *testing.T) {[m
[31m-	rm := NewResourceManager()[m
[32m+[m	[32mrm := NewManager()[m
 	assert.NotNil(t, rm)[m
 	assert.NotNil(t, rm.resources)[m
 }[m
 [m
 func TestResourceManager_AddGetListRemoveResource(t *testing.T) {[m
[31m-	rm := NewResourceManager()[m
[32m+[m	[32mrm := NewManager()[m
 	resource1 := &mockResource{uri: "resource://one", service: "service1"}[m
 	resource2 := &mockResource{uri: "resource://two", service: "service2"}[m
 [m
[36m@@ -90,7 +90,7 @@[m [mfunc TestResourceManager_AddGetListRemoveResource(t *testing.T) {[m
 }[m
 [m
 func TestResourceManager_OnListChanged(t *testing.T) {[m
[31m-	rm := NewResourceManager()[m
[32m+[m	[32mrm := NewManager()[m
 	var changedCount int[m
 	rm.OnListChanged(func() {[m
 		changedCount++[m
[36m@@ -110,7 +110,7 @@[m [mfunc TestResourceManager_OnListChanged(t *testing.T) {[m
 }[m
 [m
 func TestResourceManager_Subscribe(t *testing.T) {[m
[31m-	rm := NewResourceManager()[m
[32m+[m	[32mrm := NewManager()[m
 [m
 	t.Run("subscribe success", func(t *testing.T) {[m
 		res := &mockResource{uri: "res1"}[m
[36m@@ -136,7 +136,7 @@[m [mfunc TestResourceManager_Subscribe(t *testing.T) {[m
 }[m
 [m
 func TestResourceManager_ClearResourcesForService(t *testing.T) {[m
[31m-	rm := NewResourceManager()[m
[32m+[m	[32mrm := NewManager()[m
 [m
 	// Track list changes[m
 	var changedCount int[m
[1mdiff --git a/pkg/serviceregistry/registry.go b/pkg/serviceregistry/registry.go[m
[1mindex d60f013..0e2a056 100644[m
[1m--- a/pkg/serviceregistry/registry.go[m
[1m+++ b/pkg/serviceregistry/registry.go[m
[36m@@ -54,10 +54,10 @@[m [mtype ServiceRegistry struct {[m
 	serviceInfo     map[string]*tool.ServiceInfo[m
 	upstreams       map[string]upstream.Upstream[m
 	factory         factory.Factory[m
[31m-	toolManager     tool.ToolManagerInterface[m
[31m-	promptManager   prompt.PromptManagerInterface[m
[31m-	resourceManager resource.ResourceManagerInterface[m
[31m-	authManager     *auth.AuthManager[m
[32m+[m	[32mtoolManager     tool.ManagerInterface[m
[32m+[m	[32mpromptManager   prompt.ManagerInterface[m
[32m+[m	[32mresourceManager resource.ManagerInterface[m
[32m+[m	[32mauthManager     *auth.Manager[m
 }[m
 [m
 // New creates a new ServiceRegistry instance, which is responsible for managing[m
[36m@@ -71,7 +71,7 @@[m [mtype ServiceRegistry struct {[m
 //   - authManager: The manager for registering service-specific authenticators.[m
 //[m
 // Returns a new instance of `ServiceRegistry`.[m
[31m-func New(factory factory.Factory, toolManager tool.ToolManagerInterface, promptManager prompt.PromptManagerInterface, resourceManager resource.ResourceManagerInterface, authManager *auth.AuthManager) *ServiceRegistry {[m
[32m+[m[32mfunc New(factory factory.Factory, toolManager tool.ManagerInterface, promptManager prompt.ManagerInterface, resourceManager resource.ManagerInterface, authManager *auth.Manager) *ServiceRegistry {[m
 	return &ServiceRegistry{[m
 		serviceConfigs:  make(map[string]*config.UpstreamServiceConfig),[m
 		serviceInfo:     make(map[string]*tool.ServiceInfo),[m
[1mdiff --git a/pkg/serviceregistry/registry_extended_test.go b/pkg/serviceregistry/registry_extended_test.go[m
[1mindex 522294e..697c15e 100644[m
[1m--- a/pkg/serviceregistry/registry_extended_test.go[m
[1m+++ b/pkg/serviceregistry/registry_extended_test.go[m
[36m@@ -53,7 +53,7 @@[m [mfunc (m *mockTool) GetCacheConfig() *configv1.CacheConfig {[m
 }[m
 [m
 type threadSafeToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	mu    sync.RWMutex[m
 	tools map[string]tool.Tool[m
 }[m
[36m@@ -111,7 +111,7 @@[m [mfunc TestServiceRegistry_RegisterService_DuplicateNameDoesNotClearExisting(t *te[m
 		},[m
 	}[m
 	tm := newThreadSafeToolManager()[m
[31m-	registry := New(f, tm, prompt.NewPromptManager(), resource.NewResourceManager(), auth.NewAuthManager())[m
[32m+[m	[32mregistry := New(f, tm, prompt.NewManager(), resource.NewManager(), auth.NewManager())[m
 [m
 	// Register the first service with a tool[m
 	serviceConfig1 := &configv1.UpstreamServiceConfig{}[m
[36m@@ -192,9 +192,9 @@[m [mfunc TestServiceRegistry_UnregisterService_ClearsAllData(t *testing.T) {[m
 		},[m
 	}[m
 	tm := newThreadSafeToolManager()[m
[31m-	pm := prompt.NewPromptManager()[m
[31m-	rm := resource.NewResourceManager()[m
[31m-	registry := New(f, tm, pm, rm, auth.NewAuthManager())[m
[32m+[m	[32mpm := prompt.NewManager()[m
[32m+[m	[32mrm := resource.NewManager()[m
[32m+[m	[32mregistry := New(f, tm, pm, rm, auth.NewManager())[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -240,7 +240,7 @@[m [mfunc TestServiceRegistry_UnregisterService_CallsShutdown(t *testing.T) {[m
 		},[m
 	}[m
 	tm := newThreadSafeToolManager()[m
[31m-	registry := New(f, tm, prompt.NewPromptManager(), resource.NewResourceManager(), auth.NewAuthManager())[m
[32m+[m	[32mregistry := New(f, tm, prompt.NewManager(), resource.NewManager(), auth.NewManager())[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[1mdiff --git a/pkg/serviceregistry/registry_test.go b/pkg/serviceregistry/registry_test.go[m
[1mindex aa7faf5..6584124 100644[m
[1m--- a/pkg/serviceregistry/registry_test.go[m
[1m+++ b/pkg/serviceregistry/registry_test.go[m
[36m@@ -49,7 +49,7 @@[m [mfunc (m *mockUpstream) Shutdown(ctx context.Context) error {[m
 	return nil[m
 }[m
 [m
[31m-func (m *mockUpstream) Register(ctx context.Context, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ToolManagerInterface, promptManager prompt.PromptManagerInterface, resourceManager resource.ResourceManagerInterface, isReload bool) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
[32m+[m[32mfunc (m *mockUpstream) Register(ctx context.Context, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ManagerInterface, promptManager prompt.ManagerInterface, resourceManager resource.ManagerInterface, isReload bool) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	if m.registerFunc != nil {[m
 		return m.registerFunc(serviceConfig.GetName())[m
 	}[m
[36m@@ -69,7 +69,7 @@[m [mfunc (m *mockFactory) NewUpstream(config *configv1.UpstreamServiceConfig) (upstr[m
 }[m
 [m
 type mockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 }[m
 [m
 func (m *mockToolManager) AddTool(t tool.Tool) error                     { return nil }[m
[36m@@ -85,9 +85,9 @@[m [mfunc TestNew(t *testing.T) {[m
 	pm := pool.NewManager()[m
 	f := factory.NewUpstreamServiceFactory(pm)[m
 	tm := &mockToolManager{}[m
[31m-	prm := prompt.NewPromptManager()[m
[31m-	rm := resource.NewResourceManager()[m
[31m-	am := auth.NewAuthManager()[m
[32m+[m	[32mprm := prompt.NewManager()[m
[32m+[m	[32mrm := resource.NewManager()[m
[32m+[m	[32mam := auth.NewManager()[m
 [m
 	registry := New(f, tm, prm, rm, am)[m
 	assert.NotNil(t, registry)[m
[36m@@ -112,9 +112,9 @@[m [mfunc TestServiceRegistry_RegisterAndGetService(t *testing.T) {[m
 		},[m
 	}[m
 	tm := &mockToolManager{}[m
[31m-	prm := prompt.NewPromptManager()[m
[31m-	rm := resource.NewResourceManager()[m
[31m-	am := auth.NewAuthManager()[m
[32m+[m	[32mprm := prompt.NewManager()[m
[32m+[m	[32mrm := resource.NewManager()[m
[32m+[m	[32mam := auth.NewManager()[m
 	registry := New(f, tm, prm, rm, am)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
[36m@@ -179,7 +179,7 @@[m [mfunc TestServiceRegistry_RegisterService_FactoryError(t *testing.T) {[m
 		},[m
 	}[m
 	tm := &mockToolManager{}[m
[31m-	registry := New(f, tm, prompt.NewPromptManager(), resource.NewResourceManager(), auth.NewAuthManager())[m
[32m+[m	[32mregistry := New(f, tm, prompt.NewManager(), resource.NewManager(), auth.NewManager())[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -200,7 +200,7 @@[m [mfunc TestServiceRegistry_RegisterService_UpstreamError(t *testing.T) {[m
 		},[m
 	}[m
 	tm := &mockToolManager{}[m
[31m-	registry := New(f, tm, prompt.NewPromptManager(), resource.NewResourceManager(), auth.NewAuthManager())[m
[32m+[m	[32mregistry := New(f, tm, prompt.NewManager(), resource.NewManager(), auth.NewManager())[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -222,7 +222,7 @@[m [mfunc TestServiceRegistry_RegisterService_DuplicateName(t *testing.T) {[m
 		},[m
 	}[m
 	tm := &mockToolManager{}[m
[31m-	registry := New(f, tm, prompt.NewPromptManager(), resource.NewResourceManager(), auth.NewAuthManager())[m
[32m+[m	[32mregistry := New(f, tm, prompt.NewManager(), resource.NewManager(), auth.NewManager())[m
 [m
 	serviceConfig1 := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig1.SetName("test-service")[m
[36m@@ -250,9 +250,9 @@[m [mfunc TestServiceRegistry_UnregisterService(t *testing.T) {[m
 		},[m
 	}[m
 	tm := &mockToolManager{}[m
[31m-	prm := prompt.NewPromptManager()[m
[31m-	rm := resource.NewResourceManager()[m
[31m-	am := auth.NewAuthManager()[m
[32m+[m	[32mprm := prompt.NewManager()[m
[32m+[m	[32mrm := resource.NewManager()[m
[32m+[m	[32mam := auth.NewManager()[m
 	registry := New(f, tm, prm, rm, am)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
[36m@@ -296,7 +296,7 @@[m [mfunc TestServiceRegistry_GetAllServices(t *testing.T) {[m
 		},[m
 	}[m
 	tm := &mockToolManager{}[m
[31m-	registry := New(f, tm, prompt.NewPromptManager(), resource.NewResourceManager(), auth.NewAuthManager())[m
[32m+[m	[32mregistry := New(f, tm, prompt.NewManager(), resource.NewManager(), auth.NewManager())[m
 [m
 	// Initially, no services[m
 	services, err := registry.GetAllServices()[m
[1mdiff --git a/pkg/tool/hooks_integration_test.go b/pkg/tool/hooks_integration_test.go[m
[1mindex dc48f4a..1e42da6 100644[m
[1m--- a/pkg/tool/hooks_integration_test.go[m
[1m+++ b/pkg/tool/hooks_integration_test.go[m
[36m@@ -34,10 +34,10 @@[m [mfunc ptrIntegration[T any](v T) *T {[m
 }[m
 [m
 func TestToolManager_ExecuteTool_WithHooks(t *testing.T) {[m
[31m-	// Setup ToolManager[m
[31m-	busProvider, err := bus.NewBusProvider(&busproto.MessageBus{})[m
[32m+[m	[32m// Setup Manager[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(&busproto.MessageBus{})[m
 	require.NoError(t, err)[m
[31m-	tm := NewToolManager(busProvider)[m
[32m+[m	[32mtm := NewManager(busProvider)[m
 [m
 	// Define Tool[m
 	toolName := "my-tool"[m
[36m@@ -172,7 +172,7 @@[m [mfunc TestToolManager_ExecuteTool_WithHooks(t *testing.T) {[m
 			},[m
 		}[m
 [m
[31m-		tmWithMw := NewToolManager(busProvider)[m
[32m+[m		[32mtmWithMw := NewManager(busProvider)[m
 		tmWithMw.AddMiddleware(mw)[m
 [m
 		mockToolMw := &MockTool{[m
[1mdiff --git a/pkg/tool/management.go b/pkg/tool/management.go[m
[1mindex dcab3fd..c54cf3c 100644[m
[1m--- a/pkg/tool/management.go[m
[1m+++ b/pkg/tool/management.go[m
[36m@@ -32,14 +32,14 @@[m [mimport ([m
 )[m
 [m
 // MCPServerProvider defines an interface for components that can provide an[m
[31m-// instance of an *mcp.Server. This is used to decouple the ToolManager from the[m
[32m+[m[32m// instance of an *mcp.Server. This is used to decouple the Manager from the[m
 // concrete server implementation.[m
 type MCPServerProvider interface {[m
 	Server() *mcp.Server[m
 }[m
 [m
[31m-// ToolManagerInterface defines the interface for a tool manager.[m
[31m-type ToolManagerInterface interface {[m
[32m+[m[32m// ManagerInterface defines the interface for a tool manager.[m
[32m+[m[32mtype ManagerInterface interface {[m
 	AddTool(tool Tool) error[m
 	GetTool(toolName string) (Tool, bool)[m
 	ListTools() []Tool[m
[36m@@ -56,23 +56,21 @@[m [mtype ExecutionMiddleware interface {[m
 	Execute(ctx context.Context, req *ExecutionRequest, next ExecutionFunc) (any, error)[m
 }[m
 [m
[31m-// ToolManager is a thread-safe manager for registering, retrieving, and[m
[31m-// executing tools. It also handles the registration of tools with an MCP server,[m
[31m-// making them available for remote execution.[m
[31m-type ToolManager struct {[m
[32m+[m[32m// Manager is a thread-safe manager for registering tooling.[m
[32m+[m[32mtype Manager struct {[m
 	tools       *xsync.Map[string, Tool][m
 	serviceInfo *xsync.Map[string, *ServiceInfo][m
 	mcpServer   MCPServerProvider[m
[31m-	bus         *bus.BusProvider[m
[32m+[m	[32mbus         *bus.Provider[m
 	mu          sync.RWMutex[m
 	middlewares []ExecutionMiddleware[m
 	cachedTools []Tool[m
 	toolsMutex  sync.RWMutex[m
 }[m
 [m
[31m-// NewToolManager creates and returns a new, empty ToolManager.[m
[31m-func NewToolManager(bus *bus.BusProvider) *ToolManager {[m
[31m-	return &ToolManager{[m
[32m+[m[32m// NewManager creates and returns a new, empty Manager.[m
[32m+[m[32mfunc NewManager(bus *bus.Provider) *Manager {[m
[32m+[m	[32mreturn &Manager{[m
 		bus:         bus,[m
 		tools:       xsync.NewMap[string, Tool](),[m
 		serviceInfo: xsync.NewMap[string, *ServiceInfo](),[m
[36m@@ -80,13 +78,13 @@[m [mfunc NewToolManager(bus *bus.BusProvider) *ToolManager {[m
 }[m
 [m
 // AddMiddleware adds a middleware to the tool manager.[m
[31m-func (tm *ToolManager) AddMiddleware(middleware ExecutionMiddleware) {[m
[32m+[m[32mfunc (tm *Manager) AddMiddleware(middleware ExecutionMiddleware) {[m
 	tm.middlewares = append(tm.middlewares, middleware)[m
 }[m
 [m
[31m-// SetMCPServer provides the ToolManager with a reference to the MCP server.[m
[32m+[m[32m// SetMCPServer provides the Manager with a reference to the MCP server.[m
 // This is necessary for registering tool handlers with the server.[m
[31m-func (tm *ToolManager) SetMCPServer(mcpServer MCPServerProvider) {[m
[32m+[m[32mfunc (tm *Manager) SetMCPServer(mcpServer MCPServerProvider) {[m
 	tm.mu.Lock()[m
 	defer tm.mu.Unlock()[m
 	tm.mcpServer = mcpServer[m
[36m@@ -99,7 +97,7 @@[m [mfunc (tm *ToolManager) SetMCPServer(mcpServer MCPServerProvider) {[m
 // req contains the name of the tool and its inputs.[m
 // It returns the result of the execution or an error if the tool is not found[m
 // or if the execution fails.[m
[31m-func (tm *ToolManager) ExecuteTool(ctx context.Context, req *ExecutionRequest) (any, error) {[m
[32m+[m[32mfunc (tm *Manager) ExecuteTool(ctx context.Context, req *ExecutionRequest) (any, error) {[m
 	log := logging.GetLogger().With("toolName", req.ToolName)[m
 	log.Debug("Executing tool")[m
 [m
[36m@@ -198,7 +196,7 @@[m [mfunc (tm *ToolManager) ExecuteTool(ctx context.Context, req *ExecutionRequest) ([m
 //[m
 // serviceID is the unique identifier for the service.[m
 // info is the ServiceInfo struct containing the service's metadata.[m
[31m-func (tm *ToolManager) AddServiceInfo(serviceID string, info *ServiceInfo) {[m
[32m+[m[32mfunc (tm *Manager) AddServiceInfo(serviceID string, info *ServiceInfo) {[m
 	tm.serviceInfo.Store(serviceID, info)[m
 }[m
 [m
[36m@@ -206,7 +204,7 @@[m [mfunc (tm *ToolManager) AddServiceInfo(serviceID string, info *ServiceInfo) {[m
 //[m
 // serviceID is the unique identifier for the service.[m
 // It returns the ServiceInfo and a boolean indicating whether the service was found.[m
[31m-func (tm *ToolManager) GetServiceInfo(serviceID string) (*ServiceInfo, bool) {[m
[32m+[m[32mfunc (tm *Manager) GetServiceInfo(serviceID string) (*ServiceInfo, bool) {[m
 	info, ok := tm.serviceInfo.Load(serviceID)[m
 	if !ok {[m
 		return nil, false[m
[36m@@ -220,7 +218,7 @@[m [mfunc (tm *ToolManager) GetServiceInfo(serviceID string) (*ServiceInfo, bool) {[m
 //[m
 // tool is the tool to be added.[m
 // It returns an error if the tool ID cannot be generated.[m
[31m-func (tm *ToolManager) AddTool(tool Tool) error {[m
[32m+[m[32mfunc (tm *Manager) AddTool(tool Tool) error {[m
 	tm.mu.Lock()[m
 	defer tm.mu.Unlock()[m
 [m
[36m@@ -236,7 +234,7 @@[m [mfunc (tm *ToolManager) AddTool(tool Tool) error {[m
 	}[m
 	toolID := tool.Tool().GetServiceId() + "." + sanitizedToolName[m
 	log := logging.GetLogger().With("toolID", toolID)[m
[31m-	log.Debug("Adding tool to ToolManager")[m
[32m+[m	[32mlog.Debug("Adding tool to Manager")[m
 	tm.tools.Store(toolID, tool)[m
 [m
 	tm.toolsMutex.Lock()[m
[36m@@ -344,7 +342,7 @@[m [mfunc (tm *ToolManager) AddTool(tool Tool) error {[m
 //[m
 // toolName is the name of the tool to retrieve.[m
 // It returns the tool and a boolean indicating whether the tool was found.[m
[31m-func (tm *ToolManager) GetTool(toolName string) (Tool, bool) {[m
[32m+[m[32mfunc (tm *Manager) GetTool(toolName string) (Tool, bool) {[m
 	tool, ok := tm.tools.Load(toolName)[m
 	if !ok {[m
 		return nil, false[m
[36m@@ -354,7 +352,7 @@[m [mfunc (tm *ToolManager) GetTool(toolName string) (Tool, bool) {[m
 [m
 // ListTools returns a slice containing all the tools currently registered with[m
 // the manager.[m
[31m-func (tm *ToolManager) ListTools() []Tool {[m
[32m+[m[32mfunc (tm *Manager) ListTools() []Tool {[m
 	tm.toolsMutex.RLock()[m
 	if tm.cachedTools != nil {[m
 		defer tm.toolsMutex.RUnlock()[m
[36m@@ -386,7 +384,7 @@[m [mfunc (tm *ToolManager) ListTools() []Tool {[m
 //[m
 // serviceID is the unique identifier for the service whose tools should be[m
 // cleared.[m
[31m-func (tm *ToolManager) ClearToolsForService(serviceID string) {[m
[32m+[m[32mfunc (tm *Manager) ClearToolsForService(serviceID string) {[m
 	tm.mu.Lock()[m
 	defer tm.mu.Unlock()[m
 	log := logging.GetLogger().With("serviceID", serviceID)[m
[1mdiff --git a/pkg/tool/management_test.go b/pkg/tool/management_test.go[m
[1mindex 834f5e8..7bf41b0 100644[m
[1m--- a/pkg/tool/management_test.go[m
[1m+++ b/pkg/tool/management_test.go[m
[36m@@ -40,7 +40,7 @@[m [mfunc (p *TestMCPServerProvider) Server() *mcp.Server {[m
 }[m
 [m
 func TestToolManager_AddAndGetTool(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
 			return &v1.Tool{[m
[36m@@ -61,7 +61,7 @@[m [mfunc TestToolManager_AddAndGetTool(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ListTools(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool1 := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
 			return &v1.Tool{[m
[36m@@ -87,7 +87,7 @@[m [mfunc TestToolManager_ListTools(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ClearToolsForService(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool1 := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
 			return &v1.Tool{[m
[36m@@ -126,7 +126,7 @@[m [mfunc TestToolManager_ClearToolsForService(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ExecuteTool(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	sanitizedToolName, _ := util.SanitizeToolName("exec-tool")[m
 	toolID := "exec-service" + "." + sanitizedToolName[m
 	expectedResult := "success"[m
[36m@@ -153,7 +153,7 @@[m [mfunc TestToolManager_ExecuteTool(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ExecuteTool_NotFound(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	execReq := &ExecutionRequest{ToolName: "non-existent-tool", ToolInputs: []byte(`{}`)}[m
 	_, err := tm.ExecuteTool(context.Background(), execReq)[m
 	assert.Error(t, err, "Should return an error for a non-existent tool")[m
[36m@@ -161,7 +161,7 @@[m [mfunc TestToolManager_ExecuteTool_NotFound(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ConcurrentAccess(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	var wg sync.WaitGroup[m
 	numRoutines := 50[m
 [m
[36m@@ -198,7 +198,7 @@[m [mfunc TestToolManager_ConcurrentAccess(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddTool_NoServiceID(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
 			return &v1.Tool{[m
[36m@@ -214,7 +214,7 @@[m [mfunc TestToolManager_AddTool_NoServiceID(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddTool_EmptyToolName(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
 			return &v1.Tool{[m
[36m@@ -230,7 +230,7 @@[m [mfunc TestToolManager_AddTool_EmptyToolName(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddTool_WithMCPServer(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mcpServer := mcp.NewServer(&mcp.Implementation{}, nil)[m
 	provider := &TestMCPServerProvider{server: mcpServer}[m
 	tm.SetMCPServer(provider)[m
[36m@@ -288,7 +288,7 @@[m [mfunc (m *MockToolExecutionMiddleware) Execute(ctx context.Context, req *Executio[m
 }[m
 [m
 func TestToolManager_AddAndExecuteWithMiddleware(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 [m
 	sanitizedToolName, _ := util.SanitizeToolName("exec-tool")[m
 	toolID := "exec-service" + "." + sanitizedToolName[m
[36m@@ -337,7 +337,7 @@[m [mfunc TestToolManager_AddAndExecuteWithMiddleware(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ClearToolsForService_NoDeletions(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool1 := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
 			return &v1.Tool{ServiceId: proto.String("service-a"), Name: proto.String("tool-1")}[m
[36m@@ -350,7 +350,7 @@[m [mfunc TestToolManager_ClearToolsForService_NoDeletions(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddTool_MCPServerAddToolError(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	// Mock the mcp.Server's AddTool method to return an error.[m
 	// We can't directly do this, so we'll rely on the fact that a tool[m
 	// with an empty name will cause an error.[m
[36m@@ -360,7 +360,7 @@[m [mfunc TestToolManager_AddTool_MCPServerAddToolError(t *testing.T) {[m
 [m
 	mockTool := &MockTool{[m
 		ToolFunc: func() *v1.Tool {[m
[31m-			// This tool is valid for the ToolManager, but will fail in the MCP server[m
[32m+[m			[32m// This tool is valid for the Manager, but will fail in the MCP server[m
 			// because the sanitized name is different from the original name, and we[m
 			// are passing a tool with an empty name to the MCP server.[m
 			inputSchema, _ := structpb.NewStruct(map[string]interface{}{"type": "object"})[m
[36m@@ -380,8 +380,8 @@[m [mfunc TestToolManager_AddTool_MCPServerAddToolError(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddTool_WithMCPServerAndBus(t *testing.T) {[m
[31m-	busProvider, _ := bus.NewBusProvider(nil)[m
[31m-	tm := NewToolManager(busProvider)[m
[32m+[m	[32mbusProvider, _ := bus.NewProvider(nil)[m
[32m+[m	[32mtm := NewManager(busProvider)[m
 [m
 	mcpServer := mcp.NewServer(&mcp.Implementation{}, nil)[m
 	provider := &TestMCPServerProvider{server: mcpServer}[m
[36m@@ -418,7 +418,7 @@[m [mfunc TestToolManager_AddTool_WithMCPServerAndBus(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddTool_WithMCPServer_ErrorCases(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mcpServer := mcp.NewServer(&mcp.Implementation{}, nil)[m
 	provider := &TestMCPServerProvider{server: mcpServer}[m
 	tm.SetMCPServer(provider)[m
[36m@@ -451,7 +451,7 @@[m [mfunc TestToolManager_AddTool_WithMCPServer_ErrorCases(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_AddAndGetServiceInfo(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	serviceID := "test-service" //nolint:goconst[m
 	serviceInfo := &ServiceInfo{[m
 		Name: "Test Service",[m
[36m@@ -468,14 +468,14 @@[m [mfunc TestToolManager_AddAndGetServiceInfo(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_SetMCPServer(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	provider := &TestMCPServerProvider{server: nil}[m
 	tm.SetMCPServer(provider)[m
 	assert.Equal(t, provider, tm.mcpServer, "MCPServerProvider should be set")[m
 }[m
 [m
 func TestToolManager_ExecuteTool_ExecutionError(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	sanitizedToolName, _ := util.SanitizeToolName("exec-tool")[m
 	toolID := "exec-service" + "." + sanitizedToolName[m
 	execReq := &ExecutionRequest{ToolName: toolID, ToolInputs: []byte(`{"arg":"value"}`)}[m
[36m@@ -501,7 +501,7 @@[m [mfunc TestToolManager_ExecuteTool_ExecutionError(t *testing.T) {[m
 }[m
 [m
 func TestToolManager_ListTools_Caching(t *testing.T) {[m
[31m-	tm := NewToolManager(nil)[m
[32m+[m	[32mtm := NewManager(nil)[m
 	mockTool1 := &MockTool{[m
 		ToolFunc: func() *v1.Tool { return &v1.Tool{ServiceId: proto.String("s1"), Name: proto.String("t1")} },[m
 	}[m
[1mdiff --git a/pkg/tool/mock_tool_manager.go b/pkg/tool/mock_tool_manager.go[m
[1mindex d92677e..2f996a4 100644[m
[1m--- a/pkg/tool/mock_tool_manager.go[m
[1m+++ b/pkg/tool/mock_tool_manager.go[m
[36m@@ -1,9 +1,9 @@[m
 // Code generated by MockGen. DO NOT EDIT.[m
[31m-// Source: github.com/mcpany/core/pkg/tool (interfaces: ToolManagerInterface)[m
[32m+[m[32m// Source: github.com/mcpany/core/pkg/tool (interfaces: ManagerInterface)[m
 //[m
 // Generated by this command:[m
 //[m
[31m-//	mockgen -destination=pkg/tool/mock_tool_manager.go -package=tool github.com/mcpany/core/pkg/tool ToolManagerInterface[m
[32m+[m[32m//	mockgen -destination=pkg/tool/mock_tool_manager.go -package=tool github.com/mcpany/core/pkg/tool ManagerInterface[m
 //[m
 [m
 // Package tool is a generated GoMock package.[m
[36m@@ -16,56 +16,56 @@[m [mimport ([m
 	gomock "go.uber.org/mock/gomock"[m
 )[m
 [m
[31m-// MockToolManagerInterface is a mock of ToolManagerInterface interface.[m
[31m-type MockToolManagerInterface struct {[m
[32m+[m[32m// MockManagerInterface is a mock of ManagerInterface interface.[m
[32m+[m[32mtype MockManagerInterface struct {[m
 	ctrl     *gomock.Controller[m
[31m-	recorder *MockToolManagerInterfaceMockRecorder[m
[32m+[m	[32mrecorder *MockManagerInterfaceMockRecorder[m
 	isgomock struct{}[m
 }[m
 [m
[31m-// MockToolManagerInterfaceMockRecorder is the mock recorder for MockToolManagerInterface.[m
[31m-type MockToolManagerInterfaceMockRecorder struct {[m
[31m-	mock *MockToolManagerInterface[m
[32m+[m[32m// MockManagerInterfaceMockRecorder is the mock recorder for MockManagerInterface.[m
[32m+[m[32mtype MockManagerInterfaceMockRecorder struct {[m
[32m+[m	[32mmock *MockManagerInterface[m
 }[m
 [m
[31m-// NewMockToolManagerInterface creates a new mock instance.[m
[31m-func NewMockToolManagerInterface(ctrl *gomock.Controller) *MockToolManagerInterface {[m
[31m-	mock := &MockToolManagerInterface{ctrl: ctrl}[m
[31m-	mock.recorder = &MockToolManagerInterfaceMockRecorder{mock}[m
[32m+[m[32m// NewMockManagerInterface creates a new mock instance.[m
[32m+[m[32mfunc NewMockManagerInterface(ctrl *gomock.Controller) *MockManagerInterface {[m
[32m+[m	[32mmock := &MockManagerInterface{ctrl: ctrl}[m
[32m+[m	[32mmock.recorder = &MockManagerInterfaceMockRecorder{mock}[m
 	return mock[m
 }[m
 [m
 // EXPECT returns an object that allows the caller to indicate expected use.[m
[31m-func (m *MockToolManagerInterface) EXPECT() *MockToolManagerInterfaceMockRecorder {[m
[32m+[m[32mfunc (m *MockManagerInterface) EXPECT() *MockManagerInterfaceMockRecorder {[m
 	return m.recorder[m
 }[m
 [m
 // AddMiddleware mocks base method.[m
[31m-func (m *MockToolManagerInterface) AddMiddleware(middleware ExecutionMiddleware) {[m
[32m+[m[32mfunc (m *MockManagerInterface) AddMiddleware(middleware ExecutionMiddleware) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "AddMiddleware", middleware)[m
 }[m
 [m
 // AddMiddleware indicates an expected call of AddMiddleware.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) AddMiddleware(middleware any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) AddMiddleware(middleware any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddMiddleware", reflect.TypeOf((*MockToolManagerInterface)(nil).AddMiddleware), middleware)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddMiddleware", reflect.TypeOf((*MockManagerInterface)(nil).AddMiddleware), middleware)[m
 }[m
 [m
 // AddServiceInfo mocks base method.[m
[31m-func (m *MockToolManagerInterface) AddServiceInfo(serviceID string, info *ServiceInfo) {[m
[32m+[m[32mfunc (m *MockManagerInterface) AddServiceInfo(serviceID string, info *ServiceInfo) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "AddServiceInfo", serviceID, info)[m
 }[m
 [m
 // AddServiceInfo indicates an expected call of AddServiceInfo.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) AddServiceInfo(serviceID, info any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) AddServiceInfo(serviceID, info any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddServiceInfo", reflect.TypeOf((*MockToolManagerInterface)(nil).AddServiceInfo), serviceID, info)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddServiceInfo", reflect.TypeOf((*MockManagerInterface)(nil).AddServiceInfo), serviceID, info)[m
 }[m
 [m
 // AddTool mocks base method.[m
[31m-func (m *MockToolManagerInterface) AddTool(tool Tool) error {[m
[32m+[m[32mfunc (m *MockManagerInterface) AddTool(tool Tool) error {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "AddTool", tool)[m
 	ret0, _ := ret[0].(error)[m
[36m@@ -73,37 +73,37 @@[m [mfunc (m *MockToolManagerInterface) AddTool(tool Tool) error {[m
 }[m
 [m
 // AddTool indicates an expected call of AddTool.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) AddTool(tool any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) AddTool(tool any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddTool", reflect.TypeOf((*MockToolManagerInterface)(nil).AddTool), tool)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "AddTool", reflect.TypeOf((*MockManagerInterface)(nil).AddTool), tool)[m
 }[m
 [m
 // Clear mocks base method.[m
[31m-func (m *MockToolManagerInterface) Clear() {[m
[32m+[m[32mfunc (m *MockManagerInterface) Clear() {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "Clear")[m
 }[m
 [m
 // Clear indicates an expected call of Clear.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) Clear() *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) Clear() *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Clear", reflect.TypeOf((*MockToolManagerInterface)(nil).Clear))[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Clear", reflect.TypeOf((*MockManagerInterface)(nil).Clear))[m
 }[m
 [m
 // ClearToolsForService mocks base method.[m
[31m-func (m *MockToolManagerInterface) ClearToolsForService(serviceID string) {[m
[32m+[m[32mfunc (m *MockManagerInterface) ClearToolsForService(serviceID string) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "ClearToolsForService", serviceID)[m
 }[m
 [m
 // ClearToolsForService indicates an expected call of ClearToolsForService.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) ClearToolsForService(serviceID any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ClearToolsForService(serviceID any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ClearToolsForService", reflect.TypeOf((*MockToolManagerInterface)(nil).ClearToolsForService), serviceID)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ClearToolsForService", reflect.TypeOf((*MockManagerInterface)(nil).ClearToolsForService), serviceID)[m
 }[m
 [m
 // ExecuteTool mocks base method.[m
[31m-func (m *MockToolManagerInterface) ExecuteTool(ctx context.Context, req *ExecutionRequest) (any, error) {[m
[32m+[m[32mfunc (m *MockManagerInterface) ExecuteTool(ctx context.Context, req *ExecutionRequest) (any, error) {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "ExecuteTool", ctx, req)[m
 	ret0, _ := ret[0].(any)[m
[36m@@ -112,13 +112,13 @@[m [mfunc (m *MockToolManagerInterface) ExecuteTool(ctx context.Context, req *Executi[m
 }[m
 [m
 // ExecuteTool indicates an expected call of ExecuteTool.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) ExecuteTool(ctx, req any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ExecuteTool(ctx, req any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ExecuteTool", reflect.TypeOf((*MockToolManagerInterface)(nil).ExecuteTool), ctx, req)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ExecuteTool", reflect.TypeOf((*MockManagerInterface)(nil).ExecuteTool), ctx, req)[m
 }[m
 [m
 // GetServiceInfo mocks base method.[m
[31m-func (m *MockToolManagerInterface) GetServiceInfo(serviceID string) (*ServiceInfo, bool) {[m
[32m+[m[32mfunc (m *MockManagerInterface) GetServiceInfo(serviceID string) (*ServiceInfo, bool) {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "GetServiceInfo", serviceID)[m
 	ret0, _ := ret[0].(*ServiceInfo)[m
[36m@@ -127,13 +127,13 @@[m [mfunc (m *MockToolManagerInterface) GetServiceInfo(serviceID string) (*ServiceInf[m
 }[m
 [m
 // GetServiceInfo indicates an expected call of GetServiceInfo.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) GetServiceInfo(serviceID any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) GetServiceInfo(serviceID any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetServiceInfo", reflect.TypeOf((*MockToolManagerInterface)(nil).GetServiceInfo), serviceID)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetServiceInfo", reflect.TypeOf((*MockManagerInterface)(nil).GetServiceInfo), serviceID)[m
 }[m
 [m
 // GetTool mocks base method.[m
[31m-func (m *MockToolManagerInterface) GetTool(toolName string) (Tool, bool) {[m
[32m+[m[32mfunc (m *MockManagerInterface) GetTool(toolName string) (Tool, bool) {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "GetTool", toolName)[m
 	ret0, _ := ret[0].(Tool)[m
[36m@@ -142,13 +142,13 @@[m [mfunc (m *MockToolManagerInterface) GetTool(toolName string) (Tool, bool) {[m
 }[m
 [m
 // GetTool indicates an expected call of GetTool.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) GetTool(toolName any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) GetTool(toolName any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetTool", reflect.TypeOf((*MockToolManagerInterface)(nil).GetTool), toolName)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetTool", reflect.TypeOf((*MockManagerInterface)(nil).GetTool), toolName)[m
 }[m
 [m
 // ListTools mocks base method.[m
[31m-func (m *MockToolManagerInterface) ListTools() []Tool {[m
[32m+[m[32mfunc (m *MockManagerInterface) ListTools() []Tool {[m
 	m.ctrl.T.Helper()[m
 	ret := m.ctrl.Call(m, "ListTools")[m
 	ret0, _ := ret[0].([]Tool)[m
[36m@@ -156,19 +156,19 @@[m [mfunc (m *MockToolManagerInterface) ListTools() []Tool {[m
 }[m
 [m
 // ListTools indicates an expected call of ListTools.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) ListTools() *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) ListTools() *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ListTools", reflect.TypeOf((*MockToolManagerInterface)(nil).ListTools))[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "ListTools", reflect.TypeOf((*MockManagerInterface)(nil).ListTools))[m
 }[m
 [m
 // SetMCPServer mocks base method.[m
[31m-func (m *MockToolManagerInterface) SetMCPServer(mcpServer MCPServerProvider) {[m
[32m+[m[32mfunc (m *MockManagerInterface) SetMCPServer(mcpServer MCPServerProvider) {[m
 	m.ctrl.T.Helper()[m
 	m.ctrl.Call(m, "SetMCPServer", mcpServer)[m
 }[m
 [m
 // SetMCPServer indicates an expected call of SetMCPServer.[m
[31m-func (mr *MockToolManagerInterfaceMockRecorder) SetMCPServer(mcpServer any) *gomock.Call {[m
[32m+[m[32mfunc (mr *MockManagerInterfaceMockRecorder) SetMCPServer(mcpServer any) *gomock.Call {[m
 	mr.mock.ctrl.T.Helper()[m
[31m-	return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "SetMCPServer", reflect.TypeOf((*MockToolManagerInterface)(nil).SetMCPServer), mcpServer)[m
[32m+[m	[32mreturn mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "SetMCPServer", reflect.TypeOf((*MockManagerInterface)(nil).SetMCPServer), mcpServer)[m
 }[m
[1mdiff --git a/pkg/tool/types.go b/pkg/tool/types.go[m
[1mindex 3be37a0..c5788f8 100644[m
[1m--- a/pkg/tool/types.go[m
[1m+++ b/pkg/tool/types.go[m
[36m@@ -1039,10 +1039,10 @@[m [mfunc (t *CommandTool) Execute(ctx context.Context, req *ExecutionRequest) (any,[m
 		if err != nil {[m
 			return nil, fmt.Errorf("failed to execute command with stdio: %w", err)[m
 		}[m
[31m-		defer stdin.Close()[m
[32m+[m		[32mdefer func() { _ = stdin.Close() }()[m
 [m
 		go func() {[m
[31m-			defer stderr.Close()[m
[32m+[m			[32mdefer func() { _ = stderr.Close() }()[m
 			_, _ = io.Copy(io.Discard, stderr)[m
 		}()[m
 [m
[36m@@ -1069,12 +1069,12 @@[m [mfunc (t *CommandTool) Execute(ctx context.Context, req *ExecutionRequest) (any,[m
 [m
 	go func() {[m
 		defer wg.Done()[m
[31m-		defer stdout.Close()[m
[32m+[m		[32mdefer func() { _ = stdout.Close() }()[m
 		_, _ = io.Copy(io.MultiWriter(&stdoutBuf, &combinedBuf), stdout)[m
 	}()[m
 	go func() {[m
 		defer wg.Done()[m
[31m-		defer stderr.Close()[m
[32m+[m		[32mdefer func() { _ = stderr.Close() }()[m
 		_, _ = io.Copy(io.MultiWriter(&stderrBuf, &combinedBuf), stderr)[m
 	}()[m
 [m
[1mdiff --git a/pkg/tool/webrtc.go b/pkg/tool/webrtc.go[m
[1mindex 8ed36e7..aebbd6d 100644[m
[1m--- a/pkg/tool/webrtc.go[m
[1m+++ b/pkg/tool/webrtc.go[m
[36m@@ -155,7 +155,7 @@[m [mfunc (t *WebrtcTool) executeWithoutPool(ctx context.Context, req *ExecutionReque[m
 	if err != nil {[m
 		return nil, fmt.Errorf("failed to create peer connection: %w", err)[m
 	}[m
[31m-	defer pc.Close()[m
[32m+[m	[32mdefer func() { _ = pc.Close() }()[m
 [m
 	return t.executeWithPeerConnection(ctx, req, pc.PeerConnection)[m
 }[m
[36m@@ -251,7 +251,7 @@[m [mfunc (t *WebrtcTool) executeWithPeerConnection(ctx context.Context, req *Executi[m
 	if err != nil {[m
 		return nil, fmt.Errorf("failed to send offer to signaling server: %w", err)[m
 	}[m
[31m-	defer resp.Body.Close()[m
[32m+[m	[32mdefer func() { _ = resp.Body.Close() }()[m
 [m
 	var answer webrtc.SessionDescription[m
 	if err := json.NewDecoder(resp.Body).Decode(&answer); err != nil {[m
[36m@@ -285,7 +285,7 @@[m [mfunc (t *WebrtcTool) executeWithPeerConnection(ctx context.Context, req *Executi[m
 // peer connection is created and closed within the Execute method.[m
 func (t *WebrtcTool) Close() error {[m
 	if t.webrtcPool != nil {[m
[31m-		t.webrtcPool.Close()[m
[32m+[m		[32m_ = t.webrtcPool.Close()[m
 	}[m
 	return nil[m
 }[m
[1mdiff --git a/pkg/tool/webrtc_test.go b/pkg/tool/webrtc_test.go[m
[1mindex 4ee9753..b61e73f 100644[m
[1m--- a/pkg/tool/webrtc_test.go[m
[1m+++ b/pkg/tool/webrtc_test.go[m
[36m@@ -97,7 +97,7 @@[m [mfunc TestWebrtcTool_PoolInteraction(t *testing.T) {[m
 [m
 		go func() {[m
 			wg.Wait()[m
[31m-			pc.Close()[m
[32m+[m			[32m_ = pc.Close()[m
 		}()[m
 	}))[m
 	defer signalingServer.Close()[m
[36m@@ -167,7 +167,7 @@[m [mfunc TestWebrtcTool_Execute_Success(t *testing.T) {[m
 		// Close connection after test is done[m
 		go func() {[m
 			wg.Wait()[m
[31m-			peerConnection.Close()[m
[32m+[m			[32m_ = peerConnection.Close()[m
 		}()[m
 	}))[m
 	defer signalingServer.Close()[m
[36m@@ -229,7 +229,7 @@[m [mfunc TestWebrtcTool_Execute_WithTransformers(t *testing.T) {[m
 		_, _ = w.Write(response)[m
 		go func() {[m
 			wg.Wait()[m
[31m-			pc.Close()[m
[32m+[m			[32m_ = pc.Close()[m
 		}()[m
 	}))[m
 	defer signalingServer.Close()[m
[1mdiff --git a/pkg/tool/websocket_tool_test.go b/pkg/tool/websocket_tool_test.go[m
[1mindex ec5e2a9..6300a6f 100644[m
[1m--- a/pkg/tool/websocket_tool_test.go[m
[1m+++ b/pkg/tool/websocket_tool_test.go[m
[36m@@ -112,7 +112,7 @@[m [mfunc TestWebsocketTool_Execute(t *testing.T) {[m
 				return wrapper, nil[m
 			},[m
 			putFunc: func(c *client.WebsocketClientWrapper) {[m
[31m-				c.Close()[m
[32m+[m				[32m_ = c.Close()[m
 			},[m
 		}[m
 		serviceID := "ws-test-success"[m
[36m@@ -163,7 +163,7 @@[m [mfunc TestWebsocketTool_Execute(t *testing.T) {[m
 				return wrapper, nil[m
 			},[m
 			putFunc: func(c *client.WebsocketClientWrapper) {[m
[31m-				c.Close()[m
[32m+[m				[32m_ = c.Close()[m
 			},[m
 		}[m
 		serviceID := "ws-transform-test"[m
[36m@@ -334,7 +334,7 @@[m [mfunc TestWebsocketTool_Execute(t *testing.T) {[m
 			// Read the incoming message and then immediately close with an error.[m
 			_, _, err = conn.ReadMessage()[m
 			require.NoError(t, err)[m
[31m-			conn.WriteMessage([m
[32m+[m			[32m_ = conn.WriteMessage([m
 				websocket.CloseMessage,[m
 				websocket.FormatCloseMessage(websocket.CloseAbnormalClosure, "read error"),[m
 			)[m
[36m@@ -354,7 +354,7 @@[m [mfunc TestWebsocketTool_Execute(t *testing.T) {[m
 			getFunc: func(ctx context.Context) (*client.WebsocketClientWrapper, error) {[m
 				return wrapper, nil[m
 			},[m
[31m-			putFunc: func(c *client.WebsocketClientWrapper) { c.Close() },[m
[32m+[m			[32mputFunc: func(c *client.WebsocketClientWrapper) { _ = c.Close() },[m
 		}[m
 		serviceID := "ws-read-error"[m
 		pm.Register(serviceID, mockPool)[m
[36m@@ -379,8 +379,8 @@[m [mfunc TestWebsocketTool_Execute(t *testing.T) {[m
 			conn, err := upgrader.Upgrade(w, r, nil)[m
 			require.NoError(t, err)[m
 			defer conn.Close()[m
[31m-			conn.ReadMessage()[m
[31m-			conn.WriteMessage(websocket.TextMessage, []byte("this is not json"))[m
[32m+[m			[32m_, _, _ = conn.ReadMessage()[m
[32m+[m			[32m_ = conn.WriteMessage(websocket.TextMessage, []byte("this is not json"))[m
 		})[m
 		defer server.Close()[m
 [m
[1mdiff --git a/pkg/update/updater_test.go b/pkg/update/updater_test.go[m
[1mindex 39cd9aa..b107123 100644[m
[1m--- a/pkg/update/updater_test.go[m
[1m+++ b/pkg/update/updater_test.go[m
[36m@@ -204,7 +204,7 @@[m [mfunc TestUpdater(t *testing.T) {[m
 [m
 		t.Run("malformed checksums file", func(t *testing.T) {[m
 			malformedChecksumsServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {[m
[31m-				w.Write([]byte("justonefield"))[m
[32m+[m				[32m_, _ = w.Write([]byte(`{"latest_version": "v1.2.3"}`))[m
 			}))[m
 			defer malformedChecksumsServer.Close()[m
 			release := &github.RepositoryRelease{[m
[1mdiff --git a/pkg/upstream/command/command.go b/pkg/upstream/command/command.go[m
[1mindex 20cf046..4179bc0 100644[m
[1m--- a/pkg/upstream/command/command.go[m
[1m+++ b/pkg/upstream/command/command.go[m
[36m@@ -56,9 +56,9 @@[m [mfunc NewCommandUpstream() upstream.Upstream {[m
 func (u *CommandUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	log := logging.GetLogger()[m
[36m@@ -119,8 +119,8 @@[m [mfunc (u *CommandUpstream) createAndRegisterCommandTools([m
 	_ context.Context,[m
 	serviceID string,[m
 	commandLineService *configv1.CommandLineUpstreamService,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	_ bool,[m
 ) ([]*configv1.ToolDefinition, error) {[m
 	log := logging.GetLogger()[m
[36m@@ -264,7 +264,7 @@[m [mfunc (u *CommandUpstream) createAndRegisterPrompts([m
 	_ context.Context,[m
 	serviceID string,[m
 	commandLineService *configv1.CommandLineUpstreamService,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
 	_ bool,[m
 ) {[m
 	log := logging.GetLogger()[m
[1mdiff --git a/pkg/upstream/command/command_test.go b/pkg/upstream/command/command_test.go[m
[1mindex 05f52ad..a651334 100644[m
[1m--- a/pkg/upstream/command/command_test.go[m
[1m+++ b/pkg/upstream/command/command_test.go[m
[36m@@ -34,7 +34,7 @@[m [mimport ([m
 [m
 // mockToolManager to simulate errors[m
 type mockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	tools    map[string]tool.Tool[m
 	addError error[m
 }[m
[36m@@ -91,8 +91,8 @@[m [mfunc TestNewStdioUpstream(t *testing.T) {[m
 [m
 func TestStdioUpstream_Register(t *testing.T) {[m
 	tm := newMockToolManager()[m
[31m-	prm := prompt.NewPromptManager()[m
[31m-	rm := resource.NewResourceManager()[m
[32m+[m	[32mprm := prompt.NewManager()[m
[32m+[m	[32mrm := resource.NewManager()[m
 	u := NewCommandUpstream()[m
 [m
 	t.Run("successful registration", func(t *testing.T) {[m
[36m@@ -157,7 +157,7 @@[m [mfunc TestStdioUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("successful prompt registration", func(t *testing.T) {[m
 		tm := newMockToolManager()[m
[31m-		prm := prompt.NewPromptManager()[m
[32m+[m		[32mprm := prompt.NewManager()[m
 		serviceConfig := &configv1.UpstreamServiceConfig{}[m
 		serviceConfig.SetName("test-prompt-service")[m
 		cmdService := &configv1.CommandLineUpstreamService{}[m
[36m@@ -187,7 +187,7 @@[m [mfunc TestStdioUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("successful dynamic resource registration", func(t *testing.T) {[m
 		tm := newMockToolManager()[m
[31m-		rm := resource.NewResourceManager()[m
[32m+[m		[32mrm := resource.NewManager()[m
 		serviceConfig := &configv1.UpstreamServiceConfig{}[m
 		serviceConfig.SetName("test-dynamic-resource-service")[m
 		cmdService := &configv1.CommandLineUpstreamService{}[m
[1mdiff --git a/pkg/upstream/graphql/graphql.go b/pkg/upstream/graphql/graphql.go[m
[1mindex c7d438c..031209e 100644[m
[1m--- a/pkg/upstream/graphql/graphql.go[m
[1m+++ b/pkg/upstream/graphql/graphql.go[m
[36m@@ -158,9 +158,9 @@[m [mfunc (c *GraphQLCallable) Call(ctx context.Context, req *tool.ExecutionRequest)[m
 func (g *graphqlUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	graphqlConfig := serviceConfig.GetGraphqlService()[m
[1mdiff --git a/pkg/upstream/graphql/graphql_test.go b/pkg/upstream/graphql/graphql_test.go[m
[1mindex cd59ad4..7629abb 100644[m
[1m--- a/pkg/upstream/graphql/graphql_test.go[m
[1m+++ b/pkg/upstream/graphql/graphql_test.go[m
[36m@@ -119,7 +119,7 @@[m [mfunc TestGraphQLUpstream_Register(t *testing.T) {[m
 	defer server.Close()[m
 [m
 	upstream := NewGraphQLUpstream()[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -200,7 +200,7 @@[m [mfunc TestGraphQLUpstream_RegisterWithSelectionSet(t *testing.T) {[m
 	defer server.Close()[m
 [m
 	upstream := NewGraphQLUpstream()[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -275,7 +275,7 @@[m [mfunc TestGraphQLUpstream_RegisterWithAPIKeyAuth(t *testing.T) {[m
 	defer server.Close()[m
 [m
 	upstream := NewGraphQLUpstream()[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -316,7 +316,7 @@[m [mfunc TestGraphQLUpstream_RegisterWithAPIKeyAuth_IntrospectionFails(t *testing.T)[m
 	defer server.Close()[m
 [m
 	upstream := NewGraphQLUpstream()[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[36m@@ -380,7 +380,7 @@[m [mfunc TestGraphQLUpstream_RegisterWithAPIKeyAuth_ToolCallFails(t *testing.T) {[m
 	defer server.Close()[m
 [m
 	upstream := NewGraphQLUpstream()[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
 [m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	serviceConfig.SetName("test-service")[m
[1mdiff --git a/pkg/upstream/grpc/grpc.go b/pkg/upstream/grpc/grpc.go[m
[1mindex 724b58d..fb62fb9 100644[m
[1m--- a/pkg/upstream/grpc/grpc.go[m
[1m+++ b/pkg/upstream/grpc/grpc.go[m
[36m@@ -52,7 +52,7 @@[m [mimport ([m
 type GRPCUpstream struct {[m
 	poolManager     *pool.Manager[m
 	reflectionCache *ttlcache.Cache[string, *descriptorpb.FileDescriptorSet][m
[31m-	toolManager     tool.ToolManagerInterface[m
[32m+[m	[32mtoolManager     tool.ManagerInterface[m
 	serviceID       string[m
 }[m
 [m
[36m@@ -86,9 +86,9 @@[m [mfunc (u *GRPCUpstream) Shutdown(ctx context.Context) error {[m
 func (u *GRPCUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	u.toolManager = toolManager[m
[36m@@ -195,8 +195,8 @@[m [mfunc (u *GRPCUpstream) createAndRegisterGRPCTools([m
 	ctx context.Context,[m
 	serviceID string,[m
 	parsedData *protobufparser.ParsedMcpAnnotations,[m
[31m-	tm tool.ToolManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtm tool.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 	fds *descriptorpb.FileDescriptorSet,[m
 ) ([]*configv1.ToolDefinition, error) {[m
[36m@@ -363,8 +363,8 @@[m [mfunc (u *GRPCUpstream) createAndRegisterGRPCTools([m
 func (u *GRPCUpstream) createAndRegisterGRPCToolsFromDescriptors([m
 	ctx context.Context,[m
 	serviceID string,[m
[31m-	tm tool.ToolManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtm tool.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 	fds *descriptorpb.FileDescriptorSet,[m
 ) ([]*configv1.ToolDefinition, error) {[m
[36m@@ -556,8 +556,8 @@[m [mfunc findMethodDescriptor(files *protoregistry.Files, fullMethodName string) (pr[m
 func (u *GRPCUpstream) createAndRegisterGRPCToolsFromConfig([m
 	ctx context.Context,[m
 	serviceID string,[m
[31m-	tm tool.ToolManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtm tool.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 	fds *descriptorpb.FileDescriptorSet,[m
 ) ([]*configv1.ToolDefinition, error) {[m
[36m@@ -646,7 +646,7 @@[m [mfunc (u *GRPCUpstream) createAndRegisterGRPCToolsFromConfig([m
 func (u *GRPCUpstream) createAndRegisterPromptsFromConfig([m
 	ctx context.Context,[m
 	serviceID string,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
 	isReload bool,[m
 ) error {[m
 	log := logging.GetLogger()[m
[1mdiff --git a/pkg/upstream/grpc/grpc_config_test.go b/pkg/upstream/grpc/grpc_config_test.go[m
[1mindex 8849db4..7766aa9 100644[m
[1m--- a/pkg/upstream/grpc/grpc_config_test.go[m
[1m+++ b/pkg/upstream/grpc/grpc_config_test.go[m
[36m@@ -164,7 +164,7 @@[m [mfunc TestGRPCUpstream_createAndRegisterPromptsFromConfig(t *testing.T) {[m
 	upstream := NewGRPCUpstream(poolManager)[m
 	tm := NewMockToolManager()[m
 [m
[31m-	promptManager := prompt.NewPromptManager()[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
 	serviceConfig := &configv1.UpstreamServiceConfig_builder{[m
 		Name: proto.String("test-service"),[m
 		GrpcService: configv1.GrpcUpstreamService_builder{[m
[1mdiff --git a/pkg/upstream/grpc/grpc_custom_test.go b/pkg/upstream/grpc/grpc_custom_test.go[m
[1mindex de16a26..d7b2e26 100644[m
[1m--- a/pkg/upstream/grpc/grpc_custom_test.go[m
[1m+++ b/pkg/upstream/grpc/grpc_custom_test.go[m
[36m@@ -30,7 +30,7 @@[m [mimport ([m
 )[m
 [m
 type mockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	tools       map[string]tool.Tool[m
 	serviceInfo map[string]*tool.ServiceInfo[m
 }[m
[36m@@ -62,7 +62,7 @@[m [mfunc newMockToolManager() *mockToolManager {[m
 }[m
 [m
 type mockPromptManager struct {[m
[31m-	prompt.PromptManagerInterface[m
[32m+[m	[32mprompt.ManagerInterface[m
 	prompts map[string]prompt.Prompt[m
 }[m
 [m
[1mdiff --git a/pkg/upstream/grpc/grpc_test.go b/pkg/upstream/grpc/grpc_test.go[m
[1mindex df6eb6c..644846c 100644[m
[1m--- a/pkg/upstream/grpc/grpc_test.go[m
[1m+++ b/pkg/upstream/grpc/grpc_test.go[m
[36m@@ -128,8 +128,8 @@[m [mfunc TestNewGRPCUpstream(t *testing.T) {[m
 }[m
 [m
 func TestGRPCUpstream_Register(t *testing.T) {[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 [m
 	t.Run("nil service config", func(t *testing.T) {[m
 		poolManager := pool.NewManager()[m
[36m@@ -296,8 +296,8 @@[m [mfunc startMockServer(t *testing.T) (*grpc.Server, string) {[m
 }[m
 [m
 func TestGRPCUpstream_Register_WithMockServer(t *testing.T) {[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 [m
 	server, addr := startMockServer(t)[m
 	defer server.Stop()[m
[1mdiff --git a/pkg/upstream/grpc/protobufparser/parser_extended_test.go b/pkg/upstream/grpc/protobufparser/parser_extended_test.go[m
[1mindex 9d25539..15b93a7 100644[m
[1m--- a/pkg/upstream/grpc/protobufparser/parser_extended_test.go[m
[1m+++ b/pkg/upstream/grpc/protobufparser/parser_extended_test.go[m
[36m@@ -89,7 +89,7 @@[m [mfunc TestParseProtoFromDefs_Extended(t *testing.T) {[m
 [m
 		// Create a file in a subdirectory[m
 		subDir := filepath.Join(tempDir, "subdir")[m
[31m-		err = os.Mkdir(subDir, 0o755)[m
[32m+[m		[32merr = os.Mkdir(subDir, 0o750)[m
 		require.NoError(t, err)[m
 		err = os.WriteFile(filepath.Join(subDir, "sub.proto"), []byte(`syntax = "proto3";`), 0o600)[m
 		require.NoError(t, err)[m
[1mdiff --git a/pkg/upstream/http/http.go b/pkg/upstream/http/http.go[m
[1mindex 975d7b5..57081b7 100644[m
[1m--- a/pkg/upstream/http/http.go[m
[1m+++ b/pkg/upstream/http/http.go[m
[36m@@ -91,9 +91,9 @@[m [mfunc NewHTTPUpstream(poolManager *pool.Manager) upstream.Upstream {[m
 func (u *HTTPUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	log := logging.GetLogger()[m
[36m@@ -171,7 +171,7 @@[m [mfunc (u *HTTPUpstream) Register([m
 // createAndRegisterHTTPTools iterates through the HTTP call definitions in the[m
 // service configuration, creates a new HTTPTool for each, and registers it[m
 // with the tool manager.[m
[31m-func (u *HTTPUpstream) createAndRegisterHTTPTools(ctx context.Context, serviceID, address string, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ToolManagerInterface, resourceManager resource.ResourceManagerInterface, isReload bool) []*configv1.ToolDefinition {[m
[32m+[m[32mfunc (u *HTTPUpstream) createAndRegisterHTTPTools(ctx context.Context, serviceID, address string, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ManagerInterface, resourceManager resource.ManagerInterface, isReload bool) []*configv1.ToolDefinition {[m
 	log := logging.GetLogger()[m
 	httpService := serviceConfig.GetHttpService()[m
 	discoveredTools := make([]*configv1.ToolDefinition, 0, len(httpService.GetTools()))[m
[36m@@ -346,7 +346,7 @@[m [mfunc (u *HTTPUpstream) createAndRegisterHTTPTools(ctx context.Context, serviceID[m
 	return discoveredTools[m
 }[m
 [m
[31m-func (u *HTTPUpstream) createAndRegisterPrompts(ctx context.Context, serviceID string, serviceConfig *configv1.UpstreamServiceConfig, promptManager prompt.PromptManagerInterface, isReload bool) {[m
[32m+[m[32mfunc (u *HTTPUpstream) createAndRegisterPrompts(ctx context.Context, serviceID string, serviceConfig *configv1.UpstreamServiceConfig, promptManager prompt.ManagerInterface, isReload bool) {[m
 	log := logging.GetLogger()[m
 	httpService := serviceConfig.GetHttpService()[m
 	for _, promptDef := range httpService.GetPrompts() {[m
[1mdiff --git a/pkg/upstream/http/http_test.go b/pkg/upstream/http/http_test.go[m
[1mindex c1998c3..4c10d74 100644[m
[1m--- a/pkg/upstream/http/http_test.go[m
[1m+++ b/pkg/upstream/http/http_test.go[m
[36m@@ -97,12 +97,12 @@[m [mfunc TestHttpMethodToString(t *testing.T) {[m
 func TestHTTPUpstream_Register_InsecureSkipVerify(t *testing.T) {[m
 	// Create a test HTTPS server with a self-signed certificate[m
 	server := httptest.NewTLSServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {[m
[31m-		w.WriteHeader(http.StatusOK)[m
[32m+[m		[32m_, _ = w.Write([]byte("OK")) // This implicitly sets status to 200 OK if not already set[m
 	}))[m
 	defer server.Close()[m
 [m
 	pm := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewHTTPUpstream(pm)[m
 [m
 	configJSON := `{[m
[36m@@ -140,7 +140,7 @@[m [mfunc TestHTTPUpstream_Register_InsecureSkipVerify(t *testing.T) {[m
 [m
 func TestHTTPUpstream_Register_Disabled(t *testing.T) {[m
 	pm := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewHTTPUpstream(pm)[m
 [m
 	configJSON := `{[m
[36m@@ -188,8 +188,8 @@[m [mfunc TestHTTPUpstream_Register_Disabled(t *testing.T) {[m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	require.NoError(t, protojson.Unmarshal([]byte(configJSON), serviceConfig))[m
 [m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
 [m
 	serviceID, discoveredTools, _, err := upstream.Register(context.Background(), serviceConfig, tm, promptManager, resourceManager, false)[m
 	require.NoError(t, err)[m
[36m@@ -228,7 +228,7 @@[m [mfunc TestHTTPUpstream_Register_Disabled(t *testing.T) {[m
 [m
 func TestDeterminismInToolNaming(t *testing.T) {[m
 	pm := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewHTTPUpstream(pm)[m
 [m
 	configJSON := `{[m
[36m@@ -265,7 +265,7 @@[m [mfunc TestDeterminismInToolNaming(t *testing.T) {[m
 [m
 func TestHTTPUpstream_Register_MissingToolName(t *testing.T) {[m
 	pm := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewHTTPUpstream(pm)[m
 [m
 	configJSON := `{[m
[36m@@ -297,7 +297,7 @@[m [mfunc TestHTTPUpstream_Register_MissingToolName(t *testing.T) {[m
 func TestHTTPUpstream_Register(t *testing.T) {[m
 	t.Run("successful registration", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{[m
[36m@@ -332,7 +332,7 @@[m [mfunc TestHTTPUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("nil http service config", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{"name": "test-service", "grpc_service": {}}`[m
[36m@@ -346,7 +346,7 @@[m [mfunc TestHTTPUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("invalid service name", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{"name": "", "http_service": {}}`[m
[36m@@ -360,7 +360,7 @@[m [mfunc TestHTTPUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("tool registration with fallback operation ID", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{[m
[36m@@ -417,7 +417,7 @@[m [mfunc TestHTTPUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("authenticator creation fails", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{[m
[36m@@ -451,7 +451,7 @@[m [mfunc TestHTTPUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("registration with connection pool config", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{[m
[36m@@ -500,7 +500,7 @@[m [mfunc TestHTTPUpstream_Register(t *testing.T) {[m
 [m
 	t.Run("registration with default connection pool config", func(t *testing.T) {[m
 		pm := pool.NewManager()[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewHTTPUpstream(pm)[m
 [m
 		configJSON := `{[m
[36m@@ -576,8 +576,8 @@[m [mfunc TestCreateAndRegisterHTTPTools_AddToolError(t *testing.T) {[m
 	serviceConfig := &configv1.UpstreamServiceConfig{}[m
 	require.NoError(t, protojson.Unmarshal([]byte(configJSON), serviceConfig))[m
 [m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 [m
 	_, discoveredTools, _, err := upstream.Register(context.Background(), serviceConfig, mockTm, promptManager, resourceManager, false)[m
 [m
[36m@@ -588,7 +588,7 @@[m [mfunc TestCreateAndRegisterHTTPTools_AddToolError(t *testing.T) {[m
 [m
 func TestHTTPUpstream_Register_WithReload(t *testing.T) {[m
 	pm := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewHTTPUpstream(pm)[m
 [m
 	// Initial registration[m
[36m@@ -648,7 +648,7 @@[m [mfunc TestHTTPUpstream_Register_WithReload(t *testing.T) {[m
 [m
 func TestHTTPUpstream_Register_InvalidMethod(t *testing.T) {[m
 	pm := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewHTTPUpstream(pm)[m
 [m
 	configJSON := `{[m
[36m@@ -675,7 +675,7 @@[m [mfunc TestHTTPUpstream_Register_InvalidMethod(t *testing.T) {[m
 [m
 // mockToolManager to simulate errors[m
 type mockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	addError    error[m
 	addedTools  []tool.Tool[m
 	failOnClear bool[m
[36m@@ -798,7 +798,7 @@[m [mfunc TestHTTPUpstream_URLConstruction(t *testing.T) {[m
 	for _, tc := range testCases {[m
 		t.Run(tc.name, func(t *testing.T) {[m
 			pm := pool.NewManager()[m
[31m-			tm := tool.NewToolManager(nil)[m
[32m+[m			[32mtm := tool.NewManager(nil)[m
 			upstream := NewHTTPUpstream(pm)[m
 [m
 			configJSON := `{[m
[1mdiff --git a/pkg/upstream/mcp/coverage_test.go b/pkg/upstream/mcp/coverage_test.go[m
[1mindex f1761a8..9f6e4b0 100644[m
[1m--- a/pkg/upstream/mcp/coverage_test.go[m
[1m+++ b/pkg/upstream/mcp/coverage_test.go[m
[36m@@ -36,9 +36,9 @@[m [mimport ([m
 )[m
 [m
 func TestRegister_DynamicResource(t *testing.T) {[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
 	upstream := NewMCPUpstream()[m
 	ctx := context.Background()[m
 [m
[36m@@ -112,9 +112,9 @@[m [mfunc TestRegister_Http_DynamicResource(t *testing.T) {[m
 	}))[m
 	defer server.Close()[m
 [m
[31m-	toolManager := tool.NewToolManager(nil)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
 	upstream := NewMCPUpstream()[m
 	ctx := context.Background()[m
 [m
[36m@@ -182,9 +182,9 @@[m [mfunc TestRegister_Http_DynamicResource(t *testing.T) {[m
 }[m
 [m
 func TestRegister_DisabledItems(t *testing.T) {[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
 	upstream := NewMCPUpstream()[m
 	ctx := context.Background()[m
 [m
[36m@@ -338,9 +338,9 @@[m [mfunc TestResource_Subscribe(t *testing.T) {[m
 }[m
 [m
 func TestRegister_CallDefinitionMatching(t *testing.T) {[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[31m-	promptManager := prompt.NewPromptManager()[m
[31m-	resourceManager := resource.NewResourceManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
[32m+[m	[32mpromptManager := prompt.NewManager()[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
 	upstream := NewMCPUpstream()[m
 	ctx := context.Background()[m
 [m
[1mdiff --git a/pkg/upstream/mcp/streamable_http.go b/pkg/upstream/mcp/streamable_http.go[m
[1mindex cafd004..fdf624a 100644[m
[1m--- a/pkg/upstream/mcp/streamable_http.go[m
[1m+++ b/pkg/upstream/mcp/streamable_http.go[m
[36m@@ -188,9 +188,9 @@[m [mfunc (r *mcpResource) Subscribe(ctx context.Context) error {[m
 func (u *MCPUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	log := logging.GetLogger()[m
[36m@@ -311,9 +311,9 @@[m [mfunc buildCommandFromStdioConfig(stdio *configv1.McpStdioConnection) *exec.Cmd {[m
 		useSudo := os.Getenv("USE_SUDO_FOR_DOCKER") == "1"[m
 		if useSudo {[m
 			fullArgs := append([]string{command}, args...)[m
[31m-			return exec.Command("sudo", fullArgs...)[m
[32m+[m			[32mreturn exec.Command("sudo", fullArgs...) //nolint:gosec // controlled execution[m
 		}[m
[31m-		return exec.Command(command, args...)[m
[32m+[m		[32mreturn exec.Command(command, args...) //nolint:gosec // controlled execution[m
 	}[m
 [m
 	// Combine all commands into a single script.[m
[36m@@ -341,9 +341,9 @@[m [mfunc (u *MCPUpstream) createAndRegisterMCPItemsFromStdio([m
 	ctx context.Context,[m
 	serviceID string,[m
 	stdio *configv1.McpStdioConnection,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
 ) ([]*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
[36m@@ -576,9 +576,9 @@[m [mfunc (u *MCPUpstream) createAndRegisterMCPItemsFromStreamableHTTP([m
 	ctx context.Context,[m
 	serviceID string,[m
 	httpConnection *configv1.McpStreamableHttpConnection,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
 ) ([]*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
[1mdiff --git a/pkg/upstream/mcp/streamable_http_test.go b/pkg/upstream/mcp/streamable_http_test.go[m
[1mindex 50bf7fe..4cfafa9 100644[m
[1m--- a/pkg/upstream/mcp/streamable_http_test.go[m
[1m+++ b/pkg/upstream/mcp/streamable_http_test.go[m
[36m@@ -201,9 +201,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 	ctx := context.Background()[m
 [m
 	t.Run("successful registration with stdio", func(t *testing.T) {[m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -258,9 +258,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 	})[m
 [m
 	t.Run("successful registration with stdio and setup commands", func(t *testing.T) {[m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -312,9 +312,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 		util.IsDockerSocketAccessibleFunc = func() bool { return true }[m
 		defer func() { util.IsDockerSocketAccessibleFunc = originalIsDockerSocketAccessibleFunc }()[m
 [m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -366,9 +366,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 		util.IsDockerSocketAccessibleFunc = func() bool { return false }[m
 		defer func() { util.IsDockerSocketAccessibleFunc = originalIsDockerSocketAccessibleFunc }()[m
 [m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -423,9 +423,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 		}))[m
 		defer server.Close()[m
 [m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -468,9 +468,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 	})[m
 [m
 	t.Run("connection error", func(t *testing.T) {[m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -498,9 +498,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 	})[m
 [m
 	t.Run("list tools error", func(t *testing.T) {[m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		var wg sync.WaitGroup[m
[36m@@ -534,9 +534,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 	})[m
 [m
 	t.Run("nil mcp service config", func(t *testing.T) {[m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		config := &configv1.UpstreamServiceConfig{}[m
[36m@@ -549,9 +549,9 @@[m [mfunc TestMCPUpstream_Register(t *testing.T) {[m
 	})[m
 [m
 	t.Run("invalid service name", func(t *testing.T) {[m
[31m-		toolManager := tool.NewToolManager(nil)[m
[31m-		promptManager := prompt.NewPromptManager()[m
[31m-		resourceManager := resource.NewResourceManager()[m
[32m+[m		[32mtoolManager := tool.NewManager(nil)[m
[32m+[m		[32mpromptManager := prompt.NewManager()[m
[32m+[m		[32mresourceManager := resource.NewManager()[m
 		upstream := NewMCPUpstream()[m
 [m
 		config := &configv1.UpstreamServiceConfig{}[m
[1mdiff --git a/pkg/upstream/mcp/upstream_test.go b/pkg/upstream/mcp/upstream_test.go[m
[1mindex 9f08c73..23b7e58 100644[m
[1m--- a/pkg/upstream/mcp/upstream_test.go[m
[1m+++ b/pkg/upstream/mcp/upstream_test.go[m
[36m@@ -26,7 +26,7 @@[m [mimport ([m
 )[m
 [m
 type mockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	tools map[string]tool.Tool[m
 }[m
 [m
[36m@@ -49,7 +49,7 @@[m [mfunc (m *mockToolManager) GetTool(toolName string) (tool.Tool, bool) {[m
 func (m *mockToolManager) AddServiceInfo(serviceID string, info *tool.ServiceInfo) {}[m
 [m
 type mockPromptManager struct {[m
[31m-	prompt.PromptManagerInterface[m
[32m+[m	[32mprompt.ManagerInterface[m
 	prompts map[string]prompt.Prompt[m
 }[m
 [m
[36m@@ -69,7 +69,7 @@[m [mfunc (m *mockPromptManager) GetPrompt(name string) (prompt.Prompt, bool) {[m
 }[m
 [m
 type mockResourceManager struct {[m
[31m-	resource.ResourceManagerInterface[m
[32m+[m	[32mresource.ManagerInterface[m
 	resources map[string]resource.Resource[m
 }[m
 [m
[1mdiff --git a/pkg/upstream/openapi/openapi.go b/pkg/upstream/openapi/openapi.go[m
[1mindex 5f7a28f..f6547d8 100644[m
[1m--- a/pkg/upstream/openapi/openapi.go[m
[1m+++ b/pkg/upstream/openapi/openapi.go[m
[36m@@ -84,9 +84,9 @@[m [mfunc NewOpenAPIUpstream() upstream.Upstream {[m
 func (u *OpenAPIUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	log := logging.GetLogger()[m
[36m@@ -228,7 +228,7 @@[m [mfunc (c *httpClientImpl) Do(req *http.Request) (*http.Response, error) {[m
 [m
 // addOpenAPIToolsToIndex iterates through a list of protobuf tool definitions,[m
 // creates an OpenAPITool for each, and registers it with the tool manager.[m
[31m-func (u *OpenAPIUpstream) addOpenAPIToolsToIndex(ctx context.Context, pbTools []*pb.Tool, serviceID string, toolManager tool.ToolManagerInterface, resourceManager resource.ResourceManagerInterface, isReload bool, doc *openapi3.T, serviceConfig *configv1.UpstreamServiceConfig) int {[m
[32m+[m[32mfunc (u *OpenAPIUpstream) addOpenAPIToolsToIndex(ctx context.Context, pbTools []*pb.Tool, serviceID string, toolManager tool.ManagerInterface, resourceManager resource.ManagerInterface, isReload bool, doc *openapi3.T, serviceConfig *configv1.UpstreamServiceConfig) int {[m
 	log := logging.GetLogger()[m
 	numToolsForThisService := 0[m
 [m
[36m@@ -394,7 +394,7 @@[m [mfunc (u *OpenAPIUpstream) createAndRegisterPrompts([m
 	ctx context.Context,[m
 	serviceID string,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
 	isReload bool,[m
 ) {[m
 	log := logging.GetLogger()[m
[1mdiff --git a/pkg/upstream/upstream.go b/pkg/upstream/upstream.go[m
[1mindex 8d5a526..82ec229 100644[m
[1m--- a/pkg/upstream/upstream.go[m
[1m+++ b/pkg/upstream/upstream.go[m
[36m@@ -48,9 +48,9 @@[m [mtype Upstream interface {[m
 	Register([m
 		ctx context.Context,[m
 		serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-		toolManager tool.ToolManagerInterface,[m
[31m-		promptManager prompt.PromptManagerInterface,[m
[31m-		resourceManager resource.ResourceManagerInterface,[m
[32m+[m		[32mtoolManager tool.ManagerInterface,[m
[32m+[m		[32mpromptManager prompt.ManagerInterface,[m
[32m+[m		[32mresourceManager resource.ManagerInterface,[m
 		isReload bool,[m
 	) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error)[m
 }[m
[1mdiff --git a/pkg/upstream/webrtc/webrtc.go b/pkg/upstream/webrtc/webrtc.go[m
[1mindex 1015c43..970f355 100644[m
[1m--- a/pkg/upstream/webrtc/webrtc.go[m
[1m+++ b/pkg/upstream/webrtc/webrtc.go[m
[36m@@ -69,9 +69,9 @@[m [mfunc NewWebrtcUpstream(poolManager *pool.Manager) upstream.Upstream {[m
 func (u *WebrtcUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	if serviceConfig == nil {[m
[36m@@ -115,7 +115,7 @@[m [mfunc (u *WebrtcUpstream) Register([m
 // createAndRegisterWebrtcTools iterates through the WebRTC call definitions in[m
 // the service configuration, creates a new WebrtcTool for each, and registers it[m
 // with the tool manager.[m
[31m-func (u *WebrtcUpstream) createAndRegisterWebrtcTools(ctx context.Context, serviceID, address string, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ToolManagerInterface, resourceManager resource.ResourceManagerInterface, isReload bool) []*configv1.ToolDefinition {[m
[32m+[m[32mfunc (u *WebrtcUpstream) createAndRegisterWebrtcTools(ctx context.Context, serviceID, address string, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ManagerInterface, resourceManager resource.ManagerInterface, isReload bool) []*configv1.ToolDefinition {[m
 	log := logging.GetLogger()[m
 	webrtcService := serviceConfig.GetWebrtcService()[m
 	definitions := webrtcService.GetTools()[m
[36m@@ -238,7 +238,7 @@[m [mfunc (u *WebrtcUpstream) createAndRegisterWebrtcTools(ctx context.Context, servi[m
 	return discoveredTools[m
 }[m
 [m
[31m-func (u *WebrtcUpstream) createAndRegisterPrompts(ctx context.Context, serviceID string, serviceConfig *configv1.UpstreamServiceConfig, promptManager prompt.PromptManagerInterface, isReload bool) {[m
[32m+[m[32mfunc (u *WebrtcUpstream) createAndRegisterPrompts(ctx context.Context, serviceID string, serviceConfig *configv1.UpstreamServiceConfig, promptManager prompt.ManagerInterface, isReload bool) {[m
 	log := logging.GetLogger()[m
 	webrtcService := serviceConfig.GetWebrtcService()[m
 	for _, promptDef := range webrtcService.GetPrompts() {[m
[1mdiff --git a/pkg/upstream/webrtc/webrtc_test.go b/pkg/upstream/webrtc/webrtc_test.go[m
[1mindex 5361747..4b77edb 100644[m
[1m--- a/pkg/upstream/webrtc/webrtc_test.go[m
[1m+++ b/pkg/upstream/webrtc/webrtc_test.go[m
[36m@@ -220,8 +220,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 	t.Run("successful registration", func(t *testing.T) {[m
 		toolManager := NewMockToolManager()[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 [m
 		upstream := NewWebrtcUpstream(poolManager)[m
 [m
[36m@@ -259,8 +259,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 	t.Run("nil service config", func(t *testing.T) {[m
 		toolManager := NewMockToolManager()[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebrtcUpstream(poolManager)[m
 [m
 		_, _, _, err := upstream.Register(context.Background(), nil, toolManager, promptManager, resourceManager, false)[m
[36m@@ -271,8 +271,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 	t.Run("nil webrtc service config", func(t *testing.T) {[m
 		toolManager := NewMockToolManager()[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebrtcUpstream(poolManager)[m
 [m
 		serviceConfig := &configv1.UpstreamServiceConfig{}[m
[36m@@ -288,8 +288,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 		toolManager := NewMockToolManager()[m
 		toolManager.lastErr = errors.New("failed to add tool")[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebrtcUpstream(poolManager)[m
 [m
 		toolDef := configv1.ToolDefinition_builder{[m
[36m@@ -318,8 +318,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 	t.Run("authenticator error", func(t *testing.T) {[m
 		toolManager := NewMockToolManager()[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebrtcUpstream(poolManager)[m
 [m
 		serviceConfig := &configv1.UpstreamServiceConfig{}[m
[36m@@ -352,8 +352,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 	t.Run("missing call id", func(t *testing.T) {[m
 		toolManager := NewMockToolManager()[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebrtcUpstream(poolManager)[m
 [m
 		serviceConfig := &configv1.UpstreamServiceConfig{}[m
[36m@@ -473,8 +473,8 @@[m [mfunc TestWebrtcUpstream_Register(t *testing.T) {[m
 func TestWebrtcUpstream_Register_ToolNameGeneration(t *testing.T) {[m
 	toolManager := NewMockToolManager()[m
 	poolManager := pool.NewManager()[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 	upstream := NewWebrtcUpstream(poolManager)[m
 [m
 	toolDef := configv1.ToolDefinition_builder{[m
[1mdiff --git a/pkg/upstream/websocket/websocket.go b/pkg/upstream/websocket/websocket.go[m
[1mindex e8a0054..650f431 100644[m
[1m--- a/pkg/upstream/websocket/websocket.go[m
[1m+++ b/pkg/upstream/websocket/websocket.go[m
[36m@@ -70,9 +70,9 @@[m [mfunc NewWebsocketUpstream(poolManager *pool.Manager) upstream.Upstream {[m
 func (u *WebsocketUpstream) Register([m
 	ctx context.Context,[m
 	serviceConfig *configv1.UpstreamServiceConfig,[m
[31m-	toolManager tool.ToolManagerInterface,[m
[31m-	promptManager prompt.PromptManagerInterface,[m
[31m-	resourceManager resource.ResourceManagerInterface,[m
[32m+[m	[32mtoolManager tool.ManagerInterface,[m
[32m+[m	[32mpromptManager prompt.ManagerInterface,[m
[32m+[m	[32mresourceManager resource.ManagerInterface,[m
 	isReload bool,[m
 ) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {[m
 	if serviceConfig == nil {[m
[36m@@ -123,7 +123,7 @@[m [mfunc (u *WebsocketUpstream) Register([m
 // createAndRegisterWebsocketTools iterates through the WebSocket call[m
 // definitions in the service configuration, creates a new WebsocketTool for each,[m
 // and registers it with the tool manager.[m
[31m-func (u *WebsocketUpstream) createAndRegisterWebsocketTools(ctx context.Context, serviceID, address string, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ToolManagerInterface, resourceManager resource.ResourceManagerInterface, isReload bool) []*configv1.ToolDefinition {[m
[32m+[m[32mfunc (u *WebsocketUpstream) createAndRegisterWebsocketTools(ctx context.Context, serviceID, address string, serviceConfig *configv1.UpstreamServiceConfig, toolManager tool.ManagerInterface, resourceManager resource.ManagerInterface, isReload bool) []*configv1.ToolDefinition {[m
 	log := logging.GetLogger()[m
 	websocketService := serviceConfig.GetWebsocketService()[m
 	definitions := websocketService.GetTools()[m
[36m@@ -242,7 +242,7 @@[m [mfunc (u *WebsocketUpstream) createAndRegisterWebsocketTools(ctx context.Context,[m
 	return discoveredTools[m
 }[m
 [m
[31m-func (u *WebsocketUpstream) createAndRegisterPrompts(ctx context.Context, serviceID string, serviceConfig *configv1.UpstreamServiceConfig, promptManager prompt.PromptManagerInterface, isReload bool) {[m
[32m+[m[32mfunc (u *WebsocketUpstream) createAndRegisterPrompts(ctx context.Context, serviceID string, serviceConfig *configv1.UpstreamServiceConfig, promptManager prompt.ManagerInterface, isReload bool) {[m
 	log := logging.GetLogger()[m
 	websocketService := serviceConfig.GetWebsocketService()[m
 	for _, promptDef := range websocketService.GetPrompts() {[m
[1mdiff --git a/pkg/upstream/websocket/websocket_extra_test.go b/pkg/upstream/websocket/websocket_extra_test.go[m
[1mindex 5e61f24..f3b95c9 100644[m
[1m--- a/pkg/upstream/websocket/websocket_extra_test.go[m
[1m+++ b/pkg/upstream/websocket/websocket_extra_test.go[m
[36m@@ -33,8 +33,8 @@[m [mimport ([m
 func TestWebsocketUpstream_createAndRegisterWebsocketTools_DisabledTool(t *testing.T) {[m
 	toolManager := NewMockToolManager(nil)[m
 	poolManager := pool.NewManager()[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 [m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
[36m@@ -62,8 +62,8 @@[m [mfunc TestWebsocketUpstream_createAndRegisterWebsocketTools_DisabledTool(t *testi[m
 func TestWebsocketUpstream_createAndRegisterWebsocketTools_MissingCallDefinition(t *testing.T) {[m
 	toolManager := NewMockToolManager(nil)[m
 	poolManager := pool.NewManager()[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 [m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
[36m@@ -90,8 +90,8 @@[m [mfunc TestWebsocketUpstream_createAndRegisterWebsocketTools_MissingCallDefinition[m
 func TestWebsocketUpstream_createAndRegisterWebsocketTools_MissingToolName(t *testing.T) {[m
 	toolManager := NewMockToolManager(nil)[m
 	poolManager := pool.NewManager()[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 [m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
[36m@@ -120,8 +120,8 @@[m [mfunc TestWebsocketUpstream_createAndRegisterWebsocketTools_MissingToolName(t *te[m
 }[m
 [m
 func TestWebsocketUpstream_createAndRegisterWebsocketTools_DynamicResourceMissingTool(t *testing.T) {[m
[31m-	toolManager := tool.NewToolManager(nil)[m
[31m-	resourceManager := resource.NewResourceManager()[m
[32m+[m	[32mtoolManager := tool.NewManager(nil)[m
[32m+[m	[32mresourceManager := resource.NewManager()[m
 	poolManager := pool.NewManager()[m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
[1mdiff --git a/pkg/upstream/websocket/websocket_test.go b/pkg/upstream/websocket/websocket_test.go[m
[1mindex 269d2ae..8f8bf17 100644[m
[1m--- a/pkg/upstream/websocket/websocket_test.go[m
[1m+++ b/pkg/upstream/websocket/websocket_test.go[m
[36m@@ -46,7 +46,7 @@[m [mtype MockToolManager struct {[m
 	lastErr error[m
 }[m
 [m
[31m-func NewMockToolManager(bus *bus.BusProvider) *MockToolManager {[m
[32m+[m[32mfunc NewMockToolManager(bus *bus.Provider) *MockToolManager {[m
 	return &MockToolManager{[m
 		tools: make(map[string]tool.Tool),[m
 	}[m
[36m@@ -109,8 +109,8 @@[m [mfunc (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {[m
 func TestWebsocketUpstream_Register_DisabledTool(t *testing.T) {[m
 	toolManager := NewMockToolManager(nil)[m
 	poolManager := pool.NewManager()[m
[31m-	var promptManager prompt.PromptManagerInterface[m
[31m-	var resourceManager resource.ResourceManagerInterface[m
[32m+[m	[32mvar promptManager prompt.ManagerInterface[m
[32m+[m	[32mvar resourceManager resource.ManagerInterface[m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
 	toolDef := configv1.ToolDefinition_builder{[m
[36m@@ -151,8 +151,8 @@[m [mfunc TestWebsocketUpstream_Register_Mocked(t *testing.T) {[m
 	t.Run("successful registration", func(t *testing.T) {[m
 		toolManager := NewMockToolManager(nil)[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 [m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
[36m@@ -190,8 +190,8 @@[m [mfunc TestWebsocketUpstream_Register_Mocked(t *testing.T) {[m
 	t.Run("nil service config", func(t *testing.T) {[m
 		toolManager := NewMockToolManager(nil)[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
 		_, _, _, err := upstream.Register(context.Background(), nil, toolManager, promptManager, resourceManager, false)[m
[36m@@ -202,8 +202,8 @@[m [mfunc TestWebsocketUpstream_Register_Mocked(t *testing.T) {[m
 	t.Run("nil websocket service config", func(t *testing.T) {[m
 		toolManager := NewMockToolManager(nil)[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
 		serviceConfig := &configv1.UpstreamServiceConfig{}[m
[36m@@ -219,8 +219,8 @@[m [mfunc TestWebsocketUpstream_Register_Mocked(t *testing.T) {[m
 		toolManager := NewMockToolManager(nil)[m
 		toolManager.lastErr = errors.New("failed to add tool")[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
 		toolDef := configv1.ToolDefinition_builder{[m
[36m@@ -249,8 +249,8 @@[m [mfunc TestWebsocketUpstream_Register_Mocked(t *testing.T) {[m
 	t.Run("authenticator creation fails", func(t *testing.T) {[m
 		toolManager := NewMockToolManager(nil)[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
 		toolDef := configv1.ToolDefinition_builder{[m
[36m@@ -284,8 +284,8 @@[m [mfunc TestWebsocketUpstream_Register_Mocked(t *testing.T) {[m
 	t.Run("tool registration with fallback operation ID", func(t *testing.T) {[m
 		toolManager := NewMockToolManager(nil)[m
 		poolManager := pool.NewManager()[m
[31m-		var promptManager prompt.PromptManagerInterface[m
[31m-		var resourceManager resource.ResourceManagerInterface[m
[32m+[m		[32mvar promptManager prompt.ManagerInterface[m
[32m+[m		[32mvar resourceManager resource.ManagerInterface[m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
 		// Fallback to description[m
[36m@@ -403,7 +403,7 @@[m [mfunc TestWebsocketUpstream_Register_Integration(t *testing.T) {[m
 	wsURL := "ws" + strings.TrimPrefix(server.URL, "http")[m
 [m
 	poolManager := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 [m
 	t.Run("successful registration", func(t *testing.T) {[m
 		upstream := NewWebsocketUpstream(poolManager)[m
[36m@@ -506,7 +506,7 @@[m [mfunc TestWebsocketUpstream_Register_Integration(t *testing.T) {[m
 	})[m
 [m
 	t.Run("tool registration with fallback operation ID", func(t *testing.T) {[m
[31m-		tm := tool.NewToolManager(nil)[m
[32m+[m		[32mtm := tool.NewManager(nil)[m
 		upstream := NewWebsocketUpstream(poolManager)[m
 [m
 		tool1 := configv1.ToolDefinition_builder{[m
[36m@@ -550,7 +550,7 @@[m [mfunc TestWebsocketUpstream_Register_WithReload(t *testing.T) {[m
 	wsURL := "ws" + strings.TrimPrefix(server.URL, "http")[m
 [m
 	poolManager := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
 	tool1 := configv1.ToolDefinition_builder{[m
[36m@@ -588,9 +588,9 @@[m [mfunc TestWebsocketUpstream_Register_WithReload(t *testing.T) {[m
 [m
 func TestWebsocketUpstream_Register_DisabledItems(t *testing.T) {[m
 	poolManager := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[31m-	pm := prompt.NewPromptManager()[m
[31m-	rm := resource.NewResourceManager()[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
[32m+[m	[32mpm := prompt.NewManager()[m
[32m+[m	[32mrm := resource.NewManager()[m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
 	server := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {}))[m
[36m@@ -635,7 +635,7 @@[m [mfunc TestWebsocketUpstream_Register_DisabledItems(t *testing.T) {[m
 [m
 func TestWebsocketUpstream_Register_MissingCallDefinition(t *testing.T) {[m
 	poolManager := pool.NewManager()[m
[31m-	tm := tool.NewToolManager(nil)[m
[32m+[m	[32mtm := tool.NewManager(nil)[m
 	upstream := NewWebsocketUpstream(poolManager)[m
 [m
 	server := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {}))[m
[1mdiff --git a/pkg/worker/registration_worker.go b/pkg/worker/registration_worker.go[m
[1mindex 4052481..903dfa3 100644[m
[1m--- a/pkg/worker/registration_worker.go[m
[1m+++ b/pkg/worker/registration_worker.go[m
[36m@@ -31,7 +31,7 @@[m [mimport ([m
 // messages on the event bus, processes them using the service registry, and[m
 // publishes the results as ServiceRegistrationResult messages.[m
 type ServiceRegistrationWorker struct {[m
[31m-	bus             *bus.BusProvider[m
[32m+[m	[32mbus             *bus.Provider[m
 	serviceRegistry serviceregistry.ServiceRegistryInterface[m
 }[m
 [m
[36m@@ -39,7 +39,7 @@[m [mtype ServiceRegistrationWorker struct {[m
 //[m
 // bus is the event bus used for receiving requests and publishing results.[m
 // serviceRegistry is the registry that will handle the actual registration logic.[m
[31m-func NewServiceRegistrationWorker(bus *bus.BusProvider, serviceRegistry serviceregistry.ServiceRegistryInterface) *ServiceRegistrationWorker {[m
[32m+[m[32mfunc NewServiceRegistrationWorker(bus *bus.Provider, serviceRegistry serviceregistry.ServiceRegistryInterface) *ServiceRegistrationWorker {[m
 	return &ServiceRegistrationWorker{[m
 		bus:             bus,[m
 		serviceRegistry: serviceRegistry,[m
[1mdiff --git a/pkg/worker/upstream_worker.go b/pkg/worker/upstream_worker.go[m
[1mindex 436b93f..befd89c 100644[m
[1m--- a/pkg/worker/upstream_worker.go[m
[1m+++ b/pkg/worker/upstream_worker.go[m
[36m@@ -32,15 +32,15 @@[m [mimport ([m
 // tool manager to execute the requested tool, and then publishes the outcome as[m
 // a ToolExecutionResult message.[m
 type UpstreamWorker struct {[m
[31m-	bus         *bus.BusProvider[m
[31m-	toolManager tool.ToolManagerInterface[m
[32m+[m	[32mbus         *bus.Provider[m
[32m+[m	[32mtoolManager tool.ManagerInterface[m
 }[m
 [m
 // NewUpstreamWorker creates a new UpstreamWorker.[m
 //[m
 // bus is the event bus used for receiving requests and publishing results.[m
 // toolManager is the tool manager that will handle the actual tool execution.[m
[31m-func NewUpstreamWorker(bus *bus.BusProvider, toolManager tool.ToolManagerInterface) *UpstreamWorker {[m
[32m+[m[32mfunc NewUpstreamWorker(bus *bus.Provider, toolManager tool.ManagerInterface) *UpstreamWorker {[m
 	return &UpstreamWorker{[m
 		bus:         bus,[m
 		toolManager: toolManager,[m
[1mdiff --git a/pkg/worker/worker.go b/pkg/worker/worker.go[m
[1mindex 09d8ffc..3c6495f 100644[m
[1m--- a/pkg/worker/worker.go[m
[1m+++ b/pkg/worker/worker.go[m
[36m@@ -34,7 +34,7 @@[m [mtype Config struct {[m
 [m
 // Worker is responsible for processing jobs from the bus.[m
 type Worker struct {[m
[31m-	busProvider *bus.BusProvider[m
[32m+[m	[32mbusProvider *bus.Provider[m
 	pond        pond.Pool[m
 	stopFuncs   []func()[m
 	mu          sync.Mutex[m
[36m@@ -42,7 +42,7 @@[m [mtype Worker struct {[m
 }[m
 [m
 // New creates a new Worker.[m
[31m-func New(busProvider *bus.BusProvider, cfg *Config) *Worker {[m
[32m+[m[32mfunc New(busProvider *bus.Provider, cfg *Config) *Worker {[m
 	return &Worker{[m
 		busProvider: busProvider,[m
 		pond: pond.NewPool([m
[1mdiff --git a/pkg/worker/worker_race_test.go b/pkg/worker/worker_race_test.go[m
[1mindex 9a77ef8..0b92404 100644[m
[1m--- a/pkg/worker/worker_race_test.go[m
[1m+++ b/pkg/worker/worker_race_test.go[m
[36m@@ -35,7 +35,7 @@[m [mfunc TestWorker_StartStopRace(t *testing.T) {[m
 	busConfig := buspb.MessageBus_builder{[m
 		InMemory: &buspb.InMemoryBus{},[m
 	}.Build()[m
[31m-	bp, err := bus.NewBusProvider(busConfig)[m
[32m+[m	[32mbp, err := bus.NewProvider(busConfig)[m
 	require.NoError(t, err)[m
 [m
 	for i := 0; i < 100; i++ {[m
[1mdiff --git a/pkg/worker/worker_test.go b/pkg/worker/worker_test.go[m
[1mindex 7193585..a8acca8 100644[m
[1m--- a/pkg/worker/worker_test.go[m
[1m+++ b/pkg/worker/worker_test.go[m
[36m@@ -77,7 +77,7 @@[m [mfunc (m *mockServiceRegistry) RegisterResource(ctx context.Context, resourceConf[m
 }[m
 [m
 type mockToolManager struct {[m
[31m-	tool.ToolManagerInterface[m
[32m+[m	[32mtool.ManagerInterface[m
 	executeFunc func(ctx context.Context, req *tool.ExecutionRequest) (any, error)[m
 }[m
 [m
[36m@@ -123,7 +123,7 @@[m [mfunc TestServiceRegistrationWorker(t *testing.T) {[m
 	t.Run("successful registration", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ServiceRegistrationRequest](bp, bus.ServiceRegistrationRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ServiceRegistrationResult](bp, bus.ServiceRegistrationResultTopic)[m
[36m@@ -159,7 +159,7 @@[m [mfunc TestServiceRegistrationWorker(t *testing.T) {[m
 	t.Run("registration failure", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ServiceRegistrationRequest](bp, bus.ServiceRegistrationRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ServiceRegistrationResult](bp, bus.ServiceRegistrationResultTopic)[m
[36m@@ -196,7 +196,7 @@[m [mfunc TestServiceRegistrationWorker(t *testing.T) {[m
 	t.Run("uses request context", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ServiceRegistrationRequest](bp, bus.ServiceRegistrationRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ServiceRegistrationResult](bp, bus.ServiceRegistrationResultTopic)[m
[36m@@ -252,7 +252,7 @@[m [mfunc TestUpstreamWorker(t *testing.T) {[m
 	t.Run("successful execution", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ToolExecutionRequest](bp, bus.ToolExecutionRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ToolExecutionResult](bp, bus.ToolExecutionResultTopic)[m
[36m@@ -292,7 +292,7 @@[m [mfunc TestUpstreamWorker(t *testing.T) {[m
 	t.Run("execution failure", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ToolExecutionRequest](bp, bus.ToolExecutionRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ToolExecutionResult](bp, bus.ToolExecutionResultTopic)[m
[36m@@ -333,7 +333,7 @@[m [mfunc TestUpstreamWorker(t *testing.T) {[m
 	t.Run("result marshaling failure", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ToolExecutionRequest](bp, bus.ToolExecutionRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ToolExecutionResult](bp, bus.ToolExecutionResultTopic)[m
[36m@@ -375,7 +375,7 @@[m [mfunc TestUpstreamWorker(t *testing.T) {[m
 	t.Run("execution with partial result and error", func(t *testing.T) {[m
 		messageBus := bus_pb.MessageBus_builder{}.Build()[m
 		messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-		bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m		[32mbp, err := bus.NewProvider(messageBus)[m
 		require.NoError(t, err)[m
 		requestBus := bus.GetBus[*bus.ToolExecutionRequest](bp, bus.ToolExecutionRequestTopic)[m
 		resultBus := bus.GetBus[*bus.ToolExecutionResult](bp, bus.ToolExecutionResultTopic)[m
[36m@@ -421,7 +421,7 @@[m [mfunc TestServiceRegistrationWorker_Concurrent(t *testing.T) {[m
 [m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbp, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 	requestBus := bus.GetBus[*bus.ServiceRegistrationRequest](bp, bus.ServiceRegistrationRequestTopic)[m
 	resultBus := bus.GetBus[*bus.ServiceRegistrationResult](bp, bus.ServiceRegistrationResultTopic)[m
[36m@@ -466,13 +466,13 @@[m [mfunc TestWorker_ContextPropagation(t *testing.T) {[m
 	t.Log("Running TestWorker_ContextPropagation")[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbp, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 [m
 	reqBusMock := &mockBus[*bus.ToolExecutionRequest]{}[m
 	resBusMock := &mockBus[*bus.ToolExecutionResult]{}[m
 [m
[31m-	bus.GetBusHook = func(p *bus.BusProvider, topic string) any {[m
[32m+[m	[32mbus.GetBusHook = func(p *bus.Provider, topic string) any {[m
 		if topic == bus.ToolExecutionRequestTopic {[m
 			return reqBusMock[m
 		}[m
[36m@@ -534,7 +534,7 @@[m [mfunc TestUpstreamWorker_Concurrent(t *testing.T) {[m
 [m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	bp, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbp, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 	requestBus := bus.GetBus[*bus.ToolExecutionRequest](bp, bus.ToolExecutionRequestTopic)[m
 	resultBus := bus.GetBus[*bus.ToolExecutionResult](bp, bus.ToolExecutionResultTopic)[m
[1mdiff --git a/tests/framework/gemini.go b/tests/framework/gemini.go[m
[1mindex c9dcf0b..8e7c71f 100644[m
[1m--- a/tests/framework/gemini.go[m
[1m+++ b/tests/framework/gemini.go[m
[36m@@ -52,7 +52,7 @@[m [mfunc (g *GeminiCLI) geminiCommand(args ...string) *exec.Cmd {[m
 	root, err := integration.GetProjectRoot()[m
 	require.NoError(g.t, err)[m
 	geminiPath := filepath.Join(root, "tests", "integration", "upstream", "node_modules", ".bin", "gemini")[m
[31m-	return exec.Command(geminiPath, args...)[m
[32m+[m	[32mreturn exec.Command(geminiPath, args...) //nolint:gosec // test framework[m
 }[m
 [m
 func (g *GeminiCLI) AddMCP(name, endpoint string) {[m
[1mdiff --git a/tests/integration/prompt_test.go b/tests/integration/prompt_test.go[m
[1mindex 310ee1d..439ca78 100644[m
[1m--- a/tests/integration/prompt_test.go[m
[1m+++ b/tests/integration/prompt_test.go[m
[36m@@ -73,7 +73,7 @@[m [mfunc TestPromptIntegration(t *testing.T) {[m
 	// Server setup[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 	poolManager := pool.NewManager()[m
 	toolManager := tool.NewToolManager(busProvider)[m
[1mdiff --git a/tests/integration/prompts_e2e_test.go b/tests/integration/prompts_e2e_test.go[m
[1mindex db64edc..7a2ea7e 100644[m
[1m--- a/tests/integration/prompts_e2e_test.go[m
[1m+++ b/tests/integration/prompts_e2e_test.go[m
[36m@@ -82,7 +82,7 @@[m [mfunc TestPromptsEndToEnd(t *testing.T) {[m
 	// Server setup[m
 	messageBus := bus_pb.MessageBus_builder{}.Build()[m
 	messageBus.SetInMemory(bus_pb.InMemoryBus_builder{}.Build())[m
[31m-	busProvider, err := bus.NewBusProvider(messageBus)[m
[32m+[m	[32mbusProvider, err := bus.NewProvider(messageBus)[m
 	require.NoError(t, err)[m
 	poolManager := pool.NewManager()[m
 	toolManager := tool.NewToolManager(busProvider)[m
[1mdiff --git a/tools/license-header-remover/main.go b/tools/license-header-remover/main.go[m
[1mindex c3aede8..3c0dacc 100644[m
[1m--- a/tools/license-header-remover/main.go[m
[1m+++ b/tools/license-header-remover/main.go[m
[36m@@ -72,7 +72,7 @@[m [mfunc isSourceFile(path string) bool {[m
 }[m
 [m
 func processFile(path string) {[m
[31m-	content, err := os.ReadFile(path)[m
[32m+[m	[32mcontent, err := os.ReadFile(path) //nolint:gosec // build tool[m
 	if err != nil {[m
 		fmt.Printf("Failed to read %s: %v\n", path, err)[m
 		return[m
[1mdiff --git a/tools/license-header-remover/main_test.go b/tools/license-header-remover/main_test.go[m
[1mindex 7be1a8c..c1f2c3c 100644[m
[1m--- a/tools/license-header-remover/main_test.go[m
[1m+++ b/tools/license-header-remover/main_test.go[m
[36m@@ -118,7 +118,7 @@[m [mprint("Hello")[m
 	main()[m
 [m
 	// Check if the license header has been removed from the go file[m
[31m-	goFileContentAfter, err := os.ReadFile(goFilePath)[m
[32m+[m	[32mgoFileContentAfter, err := os.ReadFile(goFilePath) //nolint:gosec // test[m
 	if err != nil {[m
 		t.Fatalf("Failed to read go file: %v", err)[m
 	}[m
[36m@@ -127,7 +127,7 @@[m [mprint("Hello")[m
 	}[m
 [m
 	// Check if the license header has been removed from the python file[m
[31m-	pyFileContentAfter, err := os.ReadFile(pyFilePath)[m
[32m+[m	[32mpyFileContentAfter, err := os.ReadFile(pyFilePath) //nolint:gosec // test[m
 	if err != nil {[m
 		t.Fatalf("Failed to read python file: %v", err)[m
 	}[m
make: *** [Makefile:444: lint] Error 1

make: *** [Makefile:441: lint] Error 2

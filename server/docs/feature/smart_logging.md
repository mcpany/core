# Smart Logging & Attribution

MCP Any provides an enhanced logging experience for upstream services, ensuring that output from connected tools and servers is captured, attributed, and categorized correctly.

## The Problem

When running multiple MCP servers (e.g., SQLite, Filesystem, Weather) via `mcpany`, their `stdout` (JSON-RPC) is consumed by the protocol, but `stderr` (logs) is often interleaved.
Previously, all `stderr` output was logged as `ERROR` in the main application log, making it difficult to distinguish between actual errors and informational messages from upstream tools. Furthermore, logs were not clearly attributed to a specific service.

## The Solution

MCP Any now implements **Smart Logging** with two key features:

1.  **Service Attribution**: Every log line generated by an upstream service (stdio or docker) is tagged with `source=<service_id>`. This allows filtering logs by service in the UI.
2.  **Heuristic Level Detection**: The system analyzes the content of each log line to determine its severity.
    *   Lines containing `[INFO]`, `INFO:`, etc., are logged as **INFO**.
    *   Lines containing "error", "fail", "fatal", "panic" are logged as **ERROR**.
    *   Lines containing "warn", "warning" are logged as **WARN**.
    *   Lines containing "debug" are logged as **DEBUG**.
    *   Default fallback is **INFO** (instead of ERROR), reducing noise from chatty tools.

## UI Integration

In the **Logs** view of the Dashboard:
*   Use the **Source** filter to view logs for a specific upstream service.
*   The log level color coding reflects the detected severity.

## Configuration

This feature is enabled by default for all `stdio` and `docker` based services. No additional configuration is required.

# Copyright 2025 Author(s) of MCP Any
# SPDX-License-Identifier: Apache-2.0

upstream_services:
  - name: "gemini"
    upstream_auth:
      api_key:
        param_name: "x-goog-api-key"
        value:
          plain_text: "${GEMINI_API_KEY}"
    http_service:
      address: "https://generativelanguage.googleapis.com"
      tools:
        - name: "generate_content"
          call_id: "generate_content"
          description: "Generate content using the Gemini 1.5 Flash model."
      calls:
        generate_content:
          endpoint_path: "/v1beta/models/gemini-1.5-flash:generateContent"
          method: "HTTP_METHOD_POST"
          input_schema:
            type: "object"
            properties:
              contents:
                type: "array"
                items:
                  type: "object"
                  properties:
                    parts:
                      type: "array"
                      items:
                        type: "object"
                        properties:
                          text:
                            type: "string"
          output_schema:
            type: "object"
            properties:
              candidates:
                type: "array"
                items:
                  type: "object"
                  properties:
                    content:
                      type: "object"
                      properties:
                        parts:
                          type: "array"
                          items:
                            type: "object"
                            properties:
                              text:
                                type: "string"
                          role:
                            type: "string"
                      finishReason:
                        type: "string"
                      index:
                        type: "integer"
                      safetyRatings:
                        type: "array"
                        items:
                          type: "object"
                          properties:
                            category:
                              type: "string"
                            probability:
                              type: "string"
              promptFeedback:
                type: "object"
                properties:
                  safetyRatings:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        category:
                          type: "string"
                        probability:
                          type: "string"

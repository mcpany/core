# Copyright 2025 Author(s) of MCP Any
# SPDX-License-Identifier: Apache-2.0

global_settings:
  allowed_origins:
    - "*"
  profile_definitions:
    - name: "default"
      selector:
        tags: ["dev"]
  db_path: "/tmp/mcpany.db"
  middlewares:
    - name: "auth"
      priority: 1
      disabled: true

upstream_services:
  - id: "weather-service"
    name: "weather-service"
    command_line_service:
      command: "echo"
      tools:
        - name: "get_weather"
          description: "Get current weather"
          call_id: "get_weather"
      calls:
        get_weather:
          args: ['{"weather": "sunny"}']
      resources:
        - uri: "system://logs"
          name: "System Logs"
          mime_type: "text/plain"
      prompts:
        - name: "summarize_text"
          description: "Summarize text"

  - id: "payment-gateway"
    name: "PaymentGateway"
    http_service:
      address: "https://stripe.com"
      tools:
        - name: "process_payment"
          description: "Process a payment"
          call_id: "process_payment_call"
      prompts:
        - name: "confirm_payment"
          description: "Prompt to confirm payment"
          input_schema:
            type: "object"
            properties:
              amount:
                type: "string"
            required: ["amount"]
      resources:
        - name: "invoice_template"
          uri: "file:///templates/invoice.txt"
          mime_type: "text/plain"
          description: "Invoice template"
      calls:
        process_payment_call:
          endpoint_path: "/v1/charges"
          method: "HTTP_METHOD_POST"

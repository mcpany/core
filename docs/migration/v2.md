# Migration Guide: Upgrading to v2

Version 2 of MCP Any introduces a more powerful templating engine for prompts, which includes support for conditional logic and other advanced features. This change, however, introduces some breaking changes that you need to be aware of when upgrading.

## Breaking Changes

### 1. Template Variable Syntax

The template variable syntax has changed from `{{variable}}` to `{{.variable}}`. You will need to update all of your prompt templates to use the new syntax.

**Before:**

```yaml
prompts:
  - name: "my-prompt"
    messages:
      - role: "user"
        text:
          text: "Hello, {{name}}!"
```

**After:**

```yaml
prompts:
  - name: "my-prompt"
    messages:
      - role: "user"
        text:
          text: "Hello, {{.name}}!"
```

### 2. Missing Variable Error Handling

In previous versions, if a template variable was missing from the provided parameters, the server would return an error. In v2, the server will now render the missing variable as `<no value>` instead.

**Before:**

-   **Template:** `Hello, {{name}}!`
-   **Parameters:** `{}`
-   **Result:** `error: missing key: name`

**After:**

-   **Template:** `Hello, {{.name}}!`
-   **Parameters:** `{}`
-   **Result:** `Hello, <no value>!`

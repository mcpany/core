# Copyright 2025 Author(s) of MCP Any
# SPDX-License-Identifier: Apache-2.0

upstream_services:
  - name: npm-service-wrapper
    command_line_service:
      command: "npm"
      tools:
        - name: npm_install
          description: "Install packages using npm. Example: args=['react', '-D'] for 'npm install react -D'"
          input_schema:
            type: object
            properties:
              args:
                type: array
                items:
                  type: string
                description: "List of packages and flags"
          call_id: "npm_install_call"
        - name: npm_run
          description: "Run npm scripts. Example: args=['build'] for 'npm run build'"
          input_schema:
            type: object
            properties:
              args:
                type: array
                items:
                  type: string
                description: "Script name and arguments"
          call_id: "npm_run_call"
        - name: npm_exec
          description: "Run any npm command. Example: args=['init', '-y']"
          input_schema:
            type: object
            properties:
              args:
                type: array
                items:
                  type: string
                description: "Command and arguments"
          call_id: "npm_exec_call"
      calls:
        npm_install_call:
          args:
            - "install"
          parameters:
            - schema:
                name: "args"
                type: "ARRAY"
                description: "List of packages and flags"
        npm_run_call:
          args:
            - "run"
          parameters:
            - schema:
                name: "args"
                type: "ARRAY"
                description: "Script name and arguments"
        npm_exec_call:
          args: []
          parameters:
            - schema:
                name: "args"
                type: "ARRAY"
                description: "Command and arguments"

  - name: node-service-wrapper
    command_line_service:
      command: "node"
      tools:
        - name: node_run
          description: "Run a node script"
          input_schema:
            type: object
            properties:
              script_path:
                type: string
                description: "Path to the script file"
              args:
                type: array
                items:
                  type: string
                description: "Arguments to pass to the script"
            required:
              - script_path
          call_id: "node_run_call"
        - name: node_eval
          description: "Evaluate Node.js code"
          input_schema:
            type: object
            properties:
              code:
                type: string
                description: "Code to evaluate"
            required:
              - code
          call_id: "node_eval_call"
      calls:
        node_run_call:
          args:
            - "{{script_path}}"
          parameters:
            - schema:
                name: "script_path"
                type: "STRING"
                description: "Path to the script file"
            - schema:
                name: "args"
                type: "ARRAY"
                description: "Arguments to pass to the script"
        node_eval_call:
          args:
            - "-e"
            - "{{code}}"
          parameters:
            - schema:
                name: "code"
                type: "STRING"
                description: "Code to evaluate"

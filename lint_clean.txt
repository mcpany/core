Cleaning generated protobuf files...
Preparing development environment...
protoc version v33.1 is already installed.
Installing Go protobuf plugins...
Checking for Go protobuf plugins...
Go protobuf plugins installation check complete.
Checking for Python to install dependencies and pre-commit hooks...
CI environment detected, skipping local Python venv setup.
Installing Node.js dependencies for integration tests...
Found package.json, running npm install...

up to date, audited 619 packages in 1s

152 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
Playwright Host validation warning: 
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Missing libraries:                                   ║
║     libgstreamer-1.0.so.0                            ║
║     libgtk-4.so.1                                    ║
║     libpangocairo-1.0.so.0                           ║
║     libgdk_pixbuf-2.0.so.0                           ║
║     libcairo-gobject.so.2                            ║
║     libvulkan.so.1                                   ║
║     libgraphene-1.0.so.0                             ║
║     libicudata.so.76                                 ║
║     libicui18n.so.76                                 ║
║     libicuuc.so.76                                   ║
║     libxslt.so.1                                     ║
║     liblcms2.so.2                                    ║
║     libwoff2dec.so.1.0.2                             ║
║     libvpx.so.9                                      ║
║     libevent-2.1.so.7                                ║
║     libopus.so.0                                     ║
║     libgstallocators-1.0.so.0                        ║
║     libgstapp-1.0.so.0                               ║
║     libgstbase-1.0.so.0                              ║
║     libgstpbutils-1.0.so.0                           ║
║     libgstaudio-1.0.so.0                             ║
║     libgsttag-1.0.so.0                               ║
║     libgstvideo-1.0.so.0                             ║
║     libgstgl-1.0.so.0                                ║
║     libgstcodecparsers-1.0.so.0                      ║
║     libgstfft-1.0.so.0                               ║
║     libflite.so.1                                    ║
║     libflite_usenglish.so.1                          ║
║     libflite_cmu_grapheme_lang.so.1                  ║
║     libflite_cmu_grapheme_lex.so.1                   ║
║     libflite_cmu_indic_lang.so.1                     ║
║     libflite_cmu_indic_lex.so.1                      ║
║     libflite_cmulex.so.1                             ║
║     libflite_cmu_time_awb.so.1                       ║
║     libflite_cmu_us_awb.so.1                         ║
║     libflite_cmu_us_kal16.so.1                       ║
║     libflite_cmu_us_kal.so.1                         ║
║     libflite_cmu_us_rms.so.1                         ║
║     libflite_cmu_us_slt.so.1                         ║
║     libwebpdemux.so.2                                ║
║     libjxl.so.0.11                                   ║
║     libavif.so.16                                    ║
║     libharfbuzz-icu.so.0                             ║
║     libepoxy.so.0                                    ║
║     libjpeg.so.62                                    ║
║     libwebpmux.so.3                                  ║
║     libwebp.so.7                                     ║
║     libenchant-2.so.2                                ║
║     libsecret-1.so.0                                 ║
║     libhyphen.so.0                                   ║
║     libwayland-server.so.0                           ║
║     libwayland-egl.so.1                              ║
║     libwayland-client.so.0                           ║
║     libmanette-0.2.so.0                              ║
║     libgbm.so.1                                      ║
║     libdrm.so.2                                      ║
║     libGLESv2.so.2                                   ║
║     libx264.so                                       ║
╚══════════════════════════════════════════════════════╝
    at validateDependenciesLinux (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/dependencies.js:269:9)
    at async Registry._validateHostRequirements (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:961:14)
    at async Registry._validateHostRequirementsForExecutableIfNeeded (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:1083:7)
    at async Registry.validateHostRequirementsForExecutablesIfNeeded (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/server/registry/index.js:1072:7)
    at async i.<anonymous> (/workspace/tests/integration/upstream/node_modules/playwright-core/lib/cli/program.js:217:7)
Checking for Helm...
Helm is already installed.
Checking for ShellCheck...
ShellCheck is already installed.
Checking for nats-server...
nats-server is already installed.
Checking for golangci-lint...
Installing golangci-lint v2.0.0 to /tools...
golangci/golangci-lint info checking GitHub for tag 'v2.0.0'
golangci/golangci-lint info found version: 2.0.0 for v2.0.0/linux/amd64
golangci/golangci-lint info installed /tools/golangci-lint
Downloading go modules...
golangci-lint installed successfully.
Current GOPATH: /tools/go
Setting GOPATH to /tools/go
Downloading go modules...
Preparation complete.
Removing old protobuf files...
Generating protobuf files...
Using protoc: libprotoc 33.1
Protobuf generation complete.
Running all pre-commit hooks...
Requirement already satisfied: pre-commit in /usr/local/lib/python3.11/dist-packages (4.5.0)
Requirement already satisfied: cfgv>=2.0.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (3.5.0)
Requirement already satisfied: identify>=1.0.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (2.6.15)
Requirement already satisfied: nodeenv>=0.11.1 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (1.9.1)
Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (6.0.3)
Requirement already satisfied: virtualenv>=20.10.0 in /usr/local/lib/python3.11/dist-packages (from pre-commit) (20.35.4)
Requirement already satisfied: distlib<1,>=0.3.7 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (0.4.0)
Requirement already satisfied: filelock<4,>=3.12.2 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (3.20.0)
Requirement already satisfied: platformdirs<5,>=3.9.1 in /usr/local/lib/python3.11/dist-packages (from virtualenv>=20.10.0->pre-commit) (4.5.1)
check for added large files..............................................Passed
check for case conflicts.................................................Passed
check json...............................................................Passed
check yaml...............................................................Passed
detect private key.......................................................Passed
fix end of files.........................................................Passed
trim trailing whitespace.................................................Passed
golangci-lint............................................................Failed
- hook id: golangci-lint
- exit code: 1

ERRO [linters_context] typechecking error: pattern ./...: directory build/env/bin/go/pkg/mod/github.com/!data!dog/datadog-go@v3.2.0+incompatible/statsd outside main module or its selected dependencies 
cmd/worker/main_test.go:70:14: Error return value of `syscall.Kill` is not checked (errcheck)
	syscall.Kill(syscall.Getpid(), syscall.SIGINT)
	            ^
pkg/app/server.go:481:14: Error return value of `fmt.Fprintln` is not checked (errcheck)
	fmt.Fprintln(out, "Health check successful: server is running and healthy.")
	            ^
pkg/app/server.go:532:15: Error return value of `fmt.Fprintln` is not checked (errcheck)
		fmt.Fprintln(w, "OK")
		            ^
pkg/app/server_test.go:139:15: Error return value of `writer.Close` is not checked (errcheck)
		writer.Close()
		            ^
pkg/app/server_test.go:284:10: Error return value of `l.Close` is not checked (errcheck)
		l.Close()
		       ^
pkg/app/server_test.go:354:21: Error return value of `server.Close` is not checked (errcheck)
		defer server.Close()
		                  ^
pkg/app/server_test.go:386:21: Error return value of `server.Close` is not checked (errcheck)
		defer server.Close()
		                  ^
pkg/app/server_test.go:423:10: Error return value of `l.Close` is not checked (errcheck)
		l.Close()
		       ^
pkg/app/server_test.go:663:16: Error return value of `l.Close` is not checked (errcheck)
		defer l.Close()
		             ^
pkg/app/server_test.go:879:11: Error return value of `lis.Close` is not checked (errcheck)
	lis.Close()
	         ^
pkg/app/server_test.go:913:12: Error return value of `lis.Close` is not checked (errcheck)
		lis.Close()
		         ^
pkg/app/server_test.go:951:13: Error return value of `lis.Close` is not checked (errcheck)
			lis.Close() // Close immediately, we just needed a free port.
			         ^
pkg/app/server_test.go:1404:18: Error return value of `inW.Close` is not checked (errcheck)
		defer inW.Close()
		               ^
pkg/app/server_test.go:1426:12: Error return value of `outW.Close` is not checked (errcheck)
	outW.Close()
	          ^
pkg/app/server_test.go:1558:22: Error return value of `closedListener.Close` is not checked (errcheck)
	closedListener.Close()
	                    ^
pkg/bus/redis/redis_bus_test.go:133:28: Error return value of `b.Close` is not checked (errcheck)
	t.Cleanup(func() { b.Close() })
	                          ^
pkg/pool/pool_test.go:394:15: Error return value of `p.Close` is not checked (errcheck)
	defer p.Close()
	             ^
pkg/pool/pool_test.go:417:15: Error return value of `p.Close` is not checked (errcheck)
	defer p.Close()
	             ^
pkg/pool/pool_test.go:433:15: Error return value of `p.Close` is not checked (errcheck)
	defer p.Close()
	             ^
pkg/tool/http_tool_test.go:109:10: Error return value of `w.Write` is not checked (errcheck)
		w.Write([]byte(xmlResponse))
		       ^
pkg/tool/webrtc_test.go:299:12: Error return value of `pc.Close` is not checked (errcheck)
			pc.Close()
			        ^
pkg/tool/websocket_tool_test.go:94:20: Error return value of `conn.Close` is not checked (errcheck)
			defer conn.Close()
			                ^
pkg/tool/websocket_tool_test.go:106:24: Error return value of `resp.Body.Close` is not checked (errcheck)
		defer resp.Body.Close()
		                     ^
pkg/tool/websocket_tool_test.go:157:24: Error return value of `resp.Body.Close` is not checked (errcheck)
		defer resp.Body.Close()
		                     ^
pkg/tool/websocket_tool_test.go:398:61: Error return value of `c.Close` is not checked (errcheck)
			putFunc: func(c *client.WebsocketClientWrapper) { c.Close() },
			                                                         ^
pkg/upstream/graphql/graphql_test.go:117:28: Error return value of `(*encoding/json.Encoder).Encode` is not checked (errcheck)
		json.NewEncoder(w).Encode(response)
		                         ^
pkg/upstream/graphql/graphql_test.go:198:28: Error return value of `(*encoding/json.Encoder).Encode` is not checked (errcheck)
		json.NewEncoder(w).Encode(response)
		                         ^
pkg/upstream/graphql/graphql_test.go:273:28: Error return value of `(*encoding/json.Encoder).Encode` is not checked (errcheck)
		json.NewEncoder(w).Encode(response)
		                         ^
pkg/upstream/grpc/protobufparser/parser.go:105:20: Error return value of `os.RemoveAll` is not checked (errcheck)
	defer os.RemoveAll(tempDir)
	                  ^
pkg/upstream/grpc/protobufparser/parser.go:291:18: Error return value of `conn.Close` is not checked (errcheck)
	defer conn.Close()
	                ^
pkg/upstream/grpc/protobufparser/parser_custom_test.go:36:21: Error return value of `os.RemoveAll` is not checked (errcheck)
		defer os.RemoveAll(tempDir)
		                  ^
pkg/upstream/grpc/protobufparser/parser_custom_test.go:124:20: Error return value of `os.RemoveAll` is not checked (errcheck)
	defer os.RemoveAll(tempDir)
	                  ^
pkg/upstream/grpc/protobufparser/parser_extended_test.go:128:12: Error return value of `s.Serve` is not checked (errcheck)
	go s.Serve(lis)
	          ^
pkg/upstream/mcp/docker_transport.go:124:27: Error return value of `stdoutWriter.Close` is not checked (errcheck)
		defer stdoutWriter.Close()
		                        ^
pkg/upstream/mcp/docker_transport.go:222:13: Error return value of `c.cli.Close` is not checked (errcheck)
	c.cli.Close()
	           ^
pkg/upstream/mcp/streamable_http.go:286:16: Error return value of `cs.Close` is not checked (errcheck)
	defer cs.Close()
	              ^
pkg/upstream/mcp/streamable_http.go:395:16: Error return value of `cs.Close` is not checked (errcheck)
	defer cs.Close()
	              ^
pkg/upstream/mcp/streamable_http.go:627:16: Error return value of `cs.Close` is not checked (errcheck)
	defer cs.Close()
	              ^
pkg/upstream/mcp/streamable_http_custom_test.go:160:20: Error return value is not checked (errcheck)
		connectForTesting(nil, context.Background(), nil, nil)
		                 ^
pkg/upstream/openapi/openapi_test.go:178:13: Error return value of `fmt.Fprint` is not checked (errcheck)
		fmt.Fprint(w, sampleOpenAPISpecJSONForCacheTest)
		          ^
pkg/upstream/websocket/websocket_pool_test.go:60:19: Error return value of `pool.Close` is not checked (errcheck)
		defer pool.Close()
		                ^
pkg/upstream/websocket/websocket_pool_test.go:74:19: Error return value of `pool.Close` is not checked (errcheck)
		defer pool.Close()
		                ^
pkg/upstream/websocket/websocket_pool_test.go:87:19: Error return value of `pool.Close` is not checked (errcheck)
		defer pool.Close()
		                ^
pkg/util/secrets.go:83:24: Error return value of `resp.Body.Close` is not checked (errcheck)
		defer resp.Body.Close()
		                     ^
pkg/worker/worker_race_test.go:64:17: Error return value of `reqBus.Publish` is not checked (errcheck)
		reqBus.Publish(context.Background(), bus.ToolExecutionRequestTopic, req)
		              ^
pkg/worker/worker_test.go:148:21: Error return value of `requestBus.Publish` is not checked (errcheck)
		requestBus.Publish(ctx, "request", req)
		                  ^
pkg/worker/worker_test.go:185:21: Error return value of `requestBus.Publish` is not checked (errcheck)
		requestBus.Publish(ctx, "request", req)
		                  ^
pkg/worker/worker_test.go:236:21: Error return value of `requestBus.Publish` is not checked (errcheck)
		requestBus.Publish(ctx, "request", req)
		                  ^
tests/integration/cmd/mocks/webrtc_weather_server/main.go:167:15: Error return value of `fmt.Fprintln` is not checked (errcheck)
		fmt.Fprintln(w, "OK")
		            ^
tests/integration/cmd/mocks/websocket_echo_server/main.go:47:18: Error return value of `conn.Close` is not checked (errcheck)
	defer conn.Close()
	                ^
pkg/upstream/mcp/streamable_http.go:577:1: cyclomatic complexity 36 of func `(*MCPUpstream).createAndRegisterMCPItemsFromStreamableHTTP` is high (> 30) (gocyclo)
func (u *MCPUpstream) createAndRegisterMCPItemsFromStreamableHTTP(
^
pkg/upstream/openapi/parser_test.go:352:1: cyclomatic complexity 37 of func `TestConvertMcpOperationsToTools` is high (> 30) (gocyclo)
func TestConvertMcpOperationsToTools(t *testing.T) {
^
tests/integration/e2e_helpers_test.go:90:11: G204: Subprocess launched with variable (gosec)
	psCmd := exec.Command(dockerExe, append(dockerArgs, "ps", "-f", fmt.Sprintf("name=%s", containerName))...)
	         ^
tools/license-header-remover/main_test.go:139:30: G304: Potential file inclusion via variable (gosec)
	subFileContentAfter, err := os.ReadFile(subFilePath)
	                            ^
tools/license-header-remover/main_test.go:148:31: G304: Potential file inclusion via variable (gosec)
	pbgoFileContentAfter, err := os.ReadFile(pbgoFilePath)
	                             ^
tools/license-header-remover/main_test.go:297:20: G304: Potential file inclusion via variable (gosec)
			content, err := os.ReadFile(tmpFile)
			                ^
examples/demo/stdio/my-tool/main.go:1:1: package-comments: should have a package comment (revive)
package main
^
examples/demo/stdio/my-tool/main.go:10:6: exported: exported type Request should have comment or be unexported (revive)
type Request struct {
     ^
examples/demo/stdio/my-tool/main.go:14:6: exported: exported type Response should have comment or be unexported (revive)
type Response struct {
     ^
examples/upstream_service_demo/webrtc/client/main.go:28:6: exported: exported type Signal should have comment or be unexported (revive)
type Signal struct {
     ^
examples/upstream_service_demo/webrtc/server/main.go:34:6: exported: exported type Signal should have comment or be unexported (revive)
type Signal struct {
     ^
pkg/auth/mock.go:26:1: exported: exported method MockUpstreamAuthenticator.Authenticate should have comment or be unexported (revive)
func (m *MockUpstreamAuthenticator) Authenticate(req *http.Request) error {
^
pkg/bus/redis/bus_test.go:672:42: unused-parameter: parameter 'msg' seems to be unused, consider removing or renaming it as _ (revive)
	unsub := bus.Subscribe(ctx, topic, func(msg string) {
	                                        ^
pkg/bus/redis/bus_test.go:708:42: unused-parameter: parameter 'msg' seems to be unused, consider removing or renaming it as _ (revive)
	unsub := bus.Subscribe(ctx, topic, func(msg string) {
	                                        ^
pkg/bus/redis/bus_test.go:789:58: unused-parameter: parameter 'msg' seems to be unused, consider removing or renaming it as _ (revive)
	unsub = bus.Subscribe(context.Background(), topic, func(msg string) {
	                                                        ^
pkg/cli/cli.go:17:1: package-comments: should have a package comment (revive)
package cli
^
pkg/config/settings.go:155:1: exported: exported method Settings.LogLevel should have comment or be unexported (revive)
func (s *Settings) LogLevel() v1.GlobalSettings_LogLevel {
^
pkg/config/store_test.go:245:57: unused-parameter: parameter 'v' seems to be unused, consider removing or renaming it as _ (revive)
func (e *yamlEngine) UnmarshalWithFailingJSON(b []byte, v proto.Message) error {
                                                        ^
pkg/middleware/auth_test.go:72:10: context-keys-type: should not use basic type untyped string as key in context.WithValue (revive)
		ctx := context.WithValue(context.Background(), "http.request", httpReq) //nolint:staticcheck // de-facto standard
		       ^
pkg/pool/pool_test.go:598:31: unused-parameter: parameter 't' seems to be unused, consider removing or renaming it as _ (revive)
func TestPool_ConcurrentClose(t *testing.T) {
                              ^
pkg/pool/pool_test.go:818:11: unused-parameter: parameter 'i' seems to be unused, consider removing or renaming it as _ (revive)
		go func(i int) {
		        ^
pkg/prompt/types.go:30:5: exported: exported var ErrPromptNotFound should have comment or be unexported (revive)
var ErrPromptNotFound = errors.New("prompt not found")
    ^
pkg/service/resilience_test.go:75:18: unused-parameter: parameter 'ctx' seems to be unused, consider removing or renaming it as _ (revive)
	invoker := func(ctx context.Context, _ string, _, _ interface{}, _ *grpc.ClientConn, _ ...grpc.CallOption) error {
	                ^
pkg/service/resilience_test.go:97:18: unused-parameter: parameter 'ctx' seems to be unused, consider removing or renaming it as _ (revive)
	invoker := func(ctx context.Context, _ string, _, _ interface{}, _ *grpc.ClientConn, _ ...grpc.CallOption) error {
	                ^
pkg/service/resilience_test.go:116:18: unused-parameter: parameter 'ctx' seems to be unused, consider removing or renaming it as _ (revive)
	invoker := func(ctx context.Context, _ string, _, _ interface{}, _ *grpc.ClientConn, _ ...grpc.CallOption) error {
	                ^
pkg/serviceregistry/registry.go:36:6: exported: type name will be used as serviceregistry.ServiceRegistryInterface by other packages, and that stutters; consider calling this Interface (revive)
type ServiceRegistryInterface interface {
     ^
pkg/serviceregistry/registry_test.go:64:35: unused-parameter: parameter 'config' seems to be unused, consider removing or renaming it as _ (revive)
func (m *mockFactory) NewUpstream(config *configv1.UpstreamServiceConfig) (upstream.Upstream, error) {
                                  ^
pkg/serviceregistry/registry_test.go:76:48: unused-parameter: parameter 'serviceID' seems to be unused, consider removing or renaming it as _ (revive)
func (m *mockToolManager) ClearToolsForService(serviceID string)         {}
                                               ^
pkg/serviceregistry/registry_test.go:196:24: unused-parameter: parameter 'serviceName' seems to be unused, consider removing or renaming it as _ (revive)
				registerFunc: func(serviceName string) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {
				                   ^
pkg/tool/webrtc_test.go:342:25: unused-parameter: parameter 'd' seems to be unused, consider removing or renaming it as _ (revive)
		pc.OnDataChannel(func(d *webrtc.DataChannel) {
		                      ^
pkg/update/updater_test.go:44:81: unused-parameter: parameter 'r' seems to be unused, consider removing or renaming it as _ (revive)
	assetServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	                                                                               ^
pkg/update/updater_test.go:49:85: unused-parameter: parameter 'r' seems to be unused, consider removing or renaming it as _ (revive)
	checksumsServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	                                                                                   ^
pkg/update/updater_test.go:144:90: unused-parameter: parameter 'r' seems to be unused, consider removing or renaming it as _ (revive)
			badChecksumsServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
			                                                                                      ^
pkg/upstream/grpc/grpc_test.go:101:40: unused-parameter: parameter 'provider' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) SetMCPServer(provider tool.MCPServerProvider) {}
                                       ^
pkg/upstream/grpc/grpc_test.go:120:41: unused-parameter: parameter 'middleware' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {
                                        ^
pkg/upstream/http/http_pool.go:33:1: exported: comment on exported var NewHTTPPool should be of the form "NewHTTPPool ..." (revive)
// NewHttpPool creates a new connection pool for HTTP clients. It is defined as
^
pkg/upstream/http/http_test.go:729:40: unused-parameter: parameter 'mcpServer' seems to be unused, consider removing or renaming it as _ (revive)
func (m *mockToolManager) SetMCPServer(mcpServer tool.MCPServerProvider) {}
                                       ^
pkg/upstream/openapi/openapi.go:47:6: exported: type name will be used as openapi.OpenAPIUpstream by other packages, and that stutters; consider calling this Upstream (revive)
type OpenAPIUpstream struct {
     ^
pkg/upstream/openapi/openapi_test.go:88:41: unused-parameter: parameter 'middleware' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {
                                        ^
pkg/upstream/openapi/openapi_test.go:401:2: var-naming: var userIdProp should be userIDProp (revive)
	userIdProp := properties["userId"].GetStructValue().GetFields()
	^
pkg/upstream/openapi/parser.go:539:11: indent-error-flow: if block ends with a return statement, so drop this else and outdent its block (move short variable declaration to its own line if necessary) (revive)
			} else {
				return nil, fmt.Errorf("could not resolve schema reference: %s", sr.Ref)
			}
pkg/upstream/openapi/parser_test.go:38:2: var-naming: const opShowPetById should be opShowPetByID (revive)
	opShowPetById      = "showPetById"
	^
pkg/upstream/webrtc/webrtc_test.go:434:37: unused-parameter: parameter 'name' seems to be unused, consider removing or renaming it as _ (revive)
		upstream.toolNameSanitizer = func(name string) (string, error) {
		                                  ^
pkg/upstream/websocket/websocket_test.go:49:25: unused-parameter: parameter 'bus' seems to be unused, consider removing or renaming it as _ (revive)
func NewMockToolManager(bus *bus.Provider) *MockToolManager {
                        ^
pkg/upstream/websocket/websocket_test.go:94:40: unused-parameter: parameter 'provider' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) SetMCPServer(provider tool.MCPServerProvider) {}
                                       ^
pkg/upstream/websocket/websocket_test.go:96:42: unused-parameter: parameter 'serviceID' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) AddServiceInfo(serviceID string, info *tool.ServiceInfo) {}
                                         ^
pkg/upstream/websocket/websocket_test.go:98:42: unused-parameter: parameter 'serviceID' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) GetServiceInfo(serviceID string) (*tool.ServiceInfo, bool) {
                                         ^
pkg/upstream/websocket/websocket_test.go:106:41: unused-parameter: parameter 'middleware' seems to be unused, consider removing or renaming it as _ (revive)
func (m *MockToolManager) AddMiddleware(middleware tool.ExecutionMiddleware) {
                                        ^
pkg/upstream/websocket/websocket_test.go:547:53: unused-parameter: parameter 'w' seems to be unused, consider removing or renaming it as _ (revive)
	server := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	                                                   ^
pkg/worker/worker_test.go:91:35: unused-parameter: parameter 'tool' seems to be unused, consider removing or renaming it as _ (revive)
func (m *mockToolManager) AddTool(tool tool.Tool) error {
                                  ^
pkg/worker/worker_test.go:95:35: unused-parameter: parameter 'toolName' seems to be unused, consider removing or renaming it as _ (revive)
func (m *mockToolManager) GetTool(toolName string) (tool.Tool, bool) {
                                  ^
pkg/worker/worker_test.go:106:40: unused-parameter: parameter 'mcpServer' seems to be unused, consider removing or renaming it as _ (revive)
func (m *mockToolManager) SetMCPServer(mcpServer tool.MCPServerProvider) {
                                       ^
pkg/worker/worker_test.go:208:44: unused-parameter: parameter 'serviceConfig' seems to be unused, consider removing or renaming it as _ (revive)
			registerFunc: func(ctx context.Context, serviceConfig *configv1.UpstreamServiceConfig) (string, []*configv1.ToolDefinition, []*configv1.ResourceDefinition, error) {
			                                        ^
pkg/worker/worker_test.go:475:24: unused-parameter: parameter 'p' seems to be unused, consider removing or renaming it as _ (revive)
	bus.GetBusHook = func(p *bus.Provider, topic string) any {
	                      ^
pkg/worker/worker_test.go:500:53: unused-parameter: parameter 'topic' seems to be unused, consider removing or renaming it as _ (revive)
	resBusMock.publishFunc = func(ctx context.Context, topic string, msg *bus.ToolExecutionResult) error {
	                                                   ^
tools/license-header-remover/main.go:1:1: package-comments: should have a package comment (revive)
package main
^
106 issues:
* errcheck: 50
* gocyclo: 2
* gosec: 4
* revive: 50

shellcheck...............................................................Passed
helm-lint................................................................Passed
markdownlint.............................................................Passed
make: *** [Makefile:444: lint] Error 1

make: *** [Makefile:441: lint] Error 2

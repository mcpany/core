// Copyright 2026 Author(s) of MCP Any
// SPDX-License-Identifier: Apache-2.0

edition = "2023";

package mcpany.api.v1;

import "google/api/annotations.proto";
import "proto/config/v1/skill.proto";
import "google/protobuf/go_features.proto";

// option features.(pb.go).api_level = API_OPAQUE;

option go_package = "github.com/mcpany/core/proto/api/v1";
option java_outer_classname = "SkillServiceProto";
option features.field_presence = IMPLICIT;

// SkillService provides methods for managing skills (reusable capabilities).
service SkillService {
  // ListSkills returns a list of all registered skills.
  rpc ListSkills(ListSkillsRequest) returns (ListSkillsResponse) {
    option (google.api.http) = {
      get: "/v1/skills"
    };
  }

  // GetSkill retrieves a specific skill by its name.
  rpc GetSkill(GetSkillRequest) returns (GetSkillResponse) {
    option (google.api.http) = {
      get: "/v1/skills/{name}"
    };
  }

  // CreateSkill registers a new skill.
  rpc CreateSkill(CreateSkillRequest) returns (CreateSkillResponse) {
    option (google.api.http) = {
      post: "/v1/skills"
      body: "skill"
    };
  }

  // UpdateSkill updates an existing skill definition.
  rpc UpdateSkill(UpdateSkillRequest) returns (UpdateSkillResponse) {
    option (google.api.http) = {
      put: "/v1/skills/{name}"
      body: "skill"
    };
  }

  // DeleteSkill removes a skill by its name.
  rpc DeleteSkill(DeleteSkillRequest) returns (DeleteSkillResponse) {
    option (google.api.http) = {
      delete: "/v1/skills/{name}"
    };
  }
}

// ListSkillsRequest represents a request to list available skills.
message ListSkillsRequest {}

// ListSkillsResponse contains the list of skills.
message ListSkillsResponse {
  // The list of skill definitions.
  repeated mcpany.config.v1.Skill skills = 1;
}

// GetSkillRequest represents a request to retrieve a skill.
message GetSkillRequest {
  // The unique name of the skill to retrieve.
  string name = 1;
}

// GetSkillResponse contains the requested skill definition.
message GetSkillResponse {
  // The skill definition.
  mcpany.config.v1.Skill skill = 1;
}

// CreateSkillRequest represents a request to create a new skill.
message CreateSkillRequest {
  // The definition of the skill to create.
  mcpany.config.v1.Skill skill = 1;
}

// CreateSkillResponse contains the created skill definition.
message CreateSkillResponse {
  // The created skill definition.
  mcpany.config.v1.Skill skill = 1;
}

// UpdateSkillRequest represents a request to update an existing skill.
message UpdateSkillRequest {
  // The name of the skill to update.
  string name = 1;
  // The new definition of the skill.
  mcpany.config.v1.Skill skill = 2;
}

// UpdateSkillResponse contains the updated skill definition.
message UpdateSkillResponse {
  // The updated skill definition.
  mcpany.config.v1.Skill skill = 1;
}

// DeleteSkillRequest represents a request to delete a skill.
message DeleteSkillRequest {
  // The name of the skill to delete.
  string name = 1;
}

// DeleteSkillResponse represents the response after deleting a skill.
message DeleteSkillResponse {
  // Empty, indicates success.
}
